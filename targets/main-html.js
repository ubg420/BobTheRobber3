"use strict";!function(){function e(e,t){function i(){}i.prototype=e;var s,r=new i;for(s in t)r[s]=t[s];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}function t(e){return e instanceof Array?function(){return k.iter(e)}:"function"==typeof e.iterator?i(e,e.iterator):e.iterator}function i(e,t){return null==t?null:(null==t.__id__&&(t.__id__=ns++),null==e.hx__closures__?e.hx__closures__={}:i=e.hx__closures__[t.__id__],null==i&&(i=function(){return i.method.apply(i.scope,arguments)},i.scope=e,i.method=t,e.hx__closures__[t.__id__]=i),i);var i}var s={},r=function(){return Fi.__string_rec(this,"")},a=function(){};s["flambe.util.Disposable"]=a,a.__name__=["flambe","util","Disposable"],a.prototype={__class__:a};var n=function(){this._flags=0,this.owner=this.next=null};s["flambe.Component"]=n,n.__name__=["flambe","Component"],n.__interfaces__=[a],n.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:n};var o=function(e,t,i,s){this._idleTimer=this._movieTimer=0,this._bobIdle=!1,this._timerStop=.1,this._timer=0,this._currentEnemy=null,this._bobMoveElevator=this._bobGoToElevator=this._bobGoToStair=this._bobGoToSave=this._bobInShadow=this._bobBusy=this._isNearEnemyBody=this._isNearStair=!1,this.currentPadlock=null;var r=this;this.currentAction="stay",this._ctx=e,this._name=t,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this.destroyed=new fi,this._steps=this._ctx.pack.getSound("sounds/bob_footsteps"),this.bobWalking=!1,this._ctx.currentLevel.paused.watch(function(e){e?r.bobWalking&&r._bobSteps.volume.set__(0):r.bobWalking&&r._bobSteps.volume.set__(1)})};s.BobHero=o,o.__name__=["BobHero"],o.__super__=n,o.prototype=e(n.prototype,{get_name:function(){return"BobHero_33"},onAdded:function(){var e=new ni(this._ctx.pack,"bobAnim");this._moviePlayer=new oi(e),this.IdleBob(),this.owner.add(this._moviePlayer),this.bobSprite=new Me,this.owner.add(this.bobSprite),this.bobSprite.setScale(this._ctx.gameScale),this.bobSprite.setXY(this._x,this._y),this.movePointX=this._x,this.movePointY=this._y,this._movieTimer=0},onUpdate:function(e){this._x=this.owner._compMap.Sprite_0.x._value,this._y=this.owner._compMap.Sprite_0.y._value,this._bobMoveElevator&&(this._timer+=e,this._timer>=this._timerStop&&(this._timer=0,this._bobMoveElevator=!1)),"stay"==this.currentAction&&(this._idleTimer+=e,4<=this._idleTimer&&(this._idleTimer=0,.6<Math.random()?this.bobSprite.scaleX.set__(-1*Math.abs(this.bobSprite.scaleX._value)):this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value)),this.currentAction="idle1",this._moviePlayer.loop("_Idle1",!1),this._ctx.pack.getSound("sounds/bob_looks_around").play(1))),"idle1"==this.currentAction&&(this._timer+=e,1.5<=this._timer&&(this._timer=0,this.IdleBob())),"idleShadow"==this.currentAction&&(this._idleTimer+=e,4<=this._idleTimer&&(this._idleTimer=0,.6<Math.random()?(this.bobSprite.scaleX.set__(-1*Math.abs(this.bobSprite.scaleX._value)),this._ctx.currentLevel.bobGlass.scaleX.set__(-1*Math.abs(this.bobSprite.scaleX._value))):(this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value)),this._ctx.currentLevel.bobGlass.scaleX.set__(Math.abs(this.bobSprite.scaleX._value))),this.currentAction="_IdleShadow1",this._moviePlayer.loop("_IdleShadow1",!0),this._ctx.currentLevel.moviePlayer.loop("_IdleShadowGlass1",!0),this._ctx.pack.getSound("sounds/bob_looks_around").play(1))),"_IdleShadow1"==this.currentAction&&(this._timer+=e,1.5<=this._timer&&(this._timer=0,this.changeAction("idleShadow"))),"hit"!=this.currentAction&&"shock"!=this.currentAction||(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.IdleBob(),this._ctx.currentLevel._screensLayer.removeChild(this.owner),this._ctx.currentLevel._charactersLayer.addChild(this.owner),this._bobGoToStair=!1)),"setbox"!=this.currentAction&&"setboxGostair"!=this.currentAction||(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&("GuardA"==this._enemyNameCover&&this._currentEnemy._compMap.GuardA_28.CoverTheBox(),"GuardB"==this._enemyNameCover&&this._currentEnemy._compMap.GuardB_27.CoverTheBox(),"Scientist"==this._enemyNameCover&&this._currentEnemy._compMap.Scientist_26.CoverTheBox(),this._bobGoToStair=!1,this._movieTimer=0,"setbox"==this.currentAction?(this._bobBusy=this._isNearEnemyBody=!1,this.IdleBob()):"setboxGostair"==this.currentAction&&(this._ctx.currentLevel.FindStairToTeleport(this._stairGroupId),this.changeAction(this._stairName,this._stairX,this.bobSprite.y._value)))),"liftIn"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this.IdleBob(),this._ctx.pack.getSound("sounds/elevator_button").play(1),this.currentPadlock._compMap.Elevator_14.bobInLift())),"liftOut"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._bobGoToElevator=this._bobInShadow=!1,this.IdleBob())),"beginLevel"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.currentPadlock._compMap.StartDoor_7.closeDoor(),this.IdleBob(),this._ctx.currentLevel.ActivateControl())),"StairUp"!=this.currentAction&&"StairDown"!=this.currentAction||(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._ctx.currentLevel.TeleportBobToStair(this.currentAction),"StairUp"==this.currentAction?(this.currentAction="stairOutUp",this._ctx.currentLevel._backgroundLayer.removeChild(this.owner),this._ctx.currentLevel._charactersLayer.addChild(this.owner)):this.currentAction="stairOutDown",this._moviePlayer.loop("_StairOut",!0))),"stairOutUp"!=this.currentAction&&"stairOutDown"!=this.currentAction||(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,"stairOutDown"==this.currentAction&&(this._bobInShadow=!1,this._ctx.currentLevel._backgroundLayer.removeChild(this.owner),this._ctx.currentLevel._charactersLayer.addChild(this.owner)),this._isNearStair=this._isNearEnemyBody=this._bobInShadow=!1,this.IdleBob(),this._bobBusy=this._bobGoToStair=!1)),"shadowIn"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.changeAction("idleShadow"),this._bobInShadow=!0)),"shadowOut"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.IdleBob(),this._bobInShadow=!1)),"inSave"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._movieTimerStop=1.2,this._ctx.isLevelPointSaved=!0,this._ctx.copyTempToSave(),this.currentAction="save",this._moviePlayer.loop("_Save",!1),this._ctx.batteriesInLevel=this._ctx.currentLevel.batery._value,this._ctx.currentLevel.saveDoorCodes())),"save"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._movieTimerStop=.4,this.currentAction="outSave",this._moviePlayer.loop("_OutSave",!0),this.currentPadlock._compMap.ChargeBase_6.OutSavePoint())),"outSave"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._bobGoToSave=this._bobGoToStair=!1,this.IdleBob())),"yes"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.currentAction="toNextLevel",this._moviePlayer.loop("_LiftIn"),this._movieTimerStop=.9,this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._backgroundLayer.addChild(this.owner))),"yes2"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.IdleBob())),"partIn"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,loaderHelper.show(),this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this.currentPadlock._compMap.PartDoor_16.closeDoor(),this.IdleBob())),"partOut"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.currentPadlock._compMap.PartDoor_16.closeDoorOut(),this.IdleBob())),"toNextLevel"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.currentPadlock._compMap.FinishDoor_38.closeDoor(),this.IdleBob(),this.currentAction="win")),"fear"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.currentAction="gameover",this._ctx.currentLevel.score.set__(0)))},changeAction:function(e,t,i,s){null==s&&(s="left"),null==i&&(i=0),null==t&&(t=0),this._ctx.currentLevel.bobGlass.set_visible(!1),this._ctx.currentLevel.moviePlayer.loop("_Walk",!1),t-=this._ctx.centerCoefX,"move"==e&&(this.currentAction=e,"right"==s?this.bobSprite.scaleX.set__(-1*Math.abs(this.bobSprite.scaleX._value)):this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value)),this.bobWalking||(this._bobSteps=this._steps.loop(1),this.bobWalking=!0)),t+=this._ctx.centerCoefX,"stay"==e&&(this.currentAction=e),"move"!=this.currentAction||this._bobInShadow?this._bobInShadow&&(this.currentAction="shadowOut",this._movieTimerStop=.1):this._moviePlayer.loop("_Walk",!1),"stay"==this.currentAction&&this.IdleBob(),"hit"==e&&!this._bobGoToStair&&(this.IdleBob(),this.currentAction=e,this._moviePlayer.loop("_Hit",!0),this._movieTimerStop=.5,this._ctx.pack.getSound("sounds/bob_punch_var").play(1),this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._screensLayer.addChild(this.owner),this._bobGoToStair=!0),"shock"==e&&!this._bobGoToStair&&(this.IdleBob(),this.currentAction=e,this._moviePlayer.loop("_Shocker",!0),this._movieTimerStop=.5,this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._screensLayer.addChild(this.owner),this._ctx.pack.getSound("sounds/electro_shocker").play(),this._bobGoToStair=!0),"setbox"==e&&!this._bobGoToStair&&!this._bobBusy&&(this._bobGoToStair=!0,this.currentAction=e,this._moviePlayer.loop("_DropBox",!0),this._movieTimerStop=.7,this._ctx.pack.getSound("sounds/box_cover").play(1),this._bobBusy=!0),"setboxGostair"==e&&!this._bobGoToStair&&!this._bobBusy&&(this.currentAction=e,this._moviePlayer.loop("_DropBox",!0),this._movieTimerStop=.7,this._ctx.pack.getSound("sounds/box_cover").play(1),this._bobBusy=!0),"liftIn"==e&&"liftIn"!=this.currentAction&&(this.currentAction=e,this._moviePlayer.loop("_LiftIn"),this._bobInShadow=!0,this._moviePlayer.movie._value.set_position(0),this._movieTimer=0,this._movieTimerStop=.93,this.bobSprite.setXY(t,i),this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value))),"liftOut"==e&&"liftOut"!=this.currentAction&&(this.currentAction=e,s=new ni(this._ctx.pack,"bobAnim"),this._moviePlayer=new oi(s),this.owner.add(this._moviePlayer),this._moviePlayer.loop("_LiftOut"),this._movieTimer=0,this._movieTimerStop=.55,this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value))),"beginLevel"==e&&(loaderHelper.hide(),this.currentAction=e,this._moviePlayer.loop("_LiftOut"),this._movieTimerStop=.55,this.bobSprite.setXY(t,i),this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value))),"partOut"==e&&(this.currentAction=e,s=new ni(this._ctx.pack,"bobAnim"),this._moviePlayer=new oi(s),this.owner.add(this._moviePlayer),this._moviePlayer.loop("_LiftOut"),this._movieTimerStop=.55,this.bobSprite.setXY(t,i),this.bobSprite.scaleX.set__(Math.abs(this.bobSprite.scaleX._value)),this._bobInShadow=!1,this._ctx.currentLevel._backgroundLayer.removeChild(this.owner),this._ctx.currentLevel._charactersLayer.addChild(this.owner)),"StairUp"==e&&(this._bobBusy=this._bobGoToStair=!0,this.currentAction=e,this._moviePlayer.loop("_StairIn",!0),this._movieTimerStop=.5,this.bobSprite.setXY(t,i),this.bobSprite.y.animate(i,i+25*this._ctx.currentScaleCoef,.5,be.linear),this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._backgroundLayer.addChild(this.owner),this._bobSteps.dispose(),this._bobInShadow=!0),"StairDown"==e&&(this._bobBusy=this._bobGoToStair=!0,this.currentAction=e,this._moviePlayer.loop("_StairIn",!0),this._movieTimerStop=.4,this.bobSprite.setXY(t,i),this.bobSprite.y.animate(i,i-25*this._ctx.currentScaleCoef,.4,be.linear),this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._backgroundLayer.addChild(this.owner),this._bobSteps.dispose(),this._bobInShadow=!0),"shadowIn"==e&&"stay"==this.currentAction&&(this.currentAction=e,this._moviePlayer.loop("_InShadow",!1),this._movieTimerStop=.3,this._bobInShadow=!0,this._ctx.pack.getSound("sounds/bob_shadow").play(1)),"idleShadow"==e&&(this.currentAction=e,this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),s=new ni(this._ctx.pack,"bobAnim"),this._moviePlayer=new oi(s),this.owner.add(this._moviePlayer),this._moviePlayer.loop("_IdleShadow",!0),this._ctx.currentLevel.glassEntiry.remove(this._ctx.currentLevel.moviePlayer),this._ctx.currentLevel.moviePlayer.dispose(),s=new ni(this._ctx.pack,"bobAnim"),this._ctx.currentLevel.moviePlayer=new oi(s),this._ctx.currentLevel.glassEntiry.add(this._ctx.currentLevel.moviePlayer),this._ctx.currentLevel.bobGlass.setXY(this._x,this._y),this._ctx.currentLevel.bobGlass.set_visible(!0),this._ctx.currentLevel.moviePlayer.loop("_IdleShadowGlass",!0)),"save"==e&&(this.currentAction=e,this._movieTimerStop=1.2,this._moviePlayer.loop("_Save",!1),this.bobSprite.setXY(t,i)),"inSave"==e&&(this._bobGoToStair=!0,this.currentAction=e,this._moviePlayer.loop("_InSave",!0),this._movieTimerStop=.4,this.bobSprite.setXY(t,i),this.currentPadlock._compMap.ChargeBase_6.GotoSavePoint(),this._ctx.pack.getSound("sounds/scaner").play(1)),"yes"!=e&&"yes2"!=e||(this.currentAction=e,this._moviePlayer.loop("_Yes",!0),this._movieTimerStop=.9,this.bobSprite.setXY(t,i),this._bobSteps.dispose(),this._ctx.pack.getSound("sounds/bob_level_complete_var").play(1)),"partIn"==e&&(this._movieTimer=0,this.currentAction="partIn",this._moviePlayer.loop("_LiftIn"),this._movieTimerStop=.9,this.bobSprite.setXY(t,i),this._bobInShadow=!0,this._ctx.currentLevel._charactersLayer.removeChild(this.owner),this._ctx.currentLevel._backgroundLayer.addChild(this.owner)),"fear"==e&&(this.currentAction=e,this._moviePlayer.loop("_Fear",!0),this._movieTimerStop=2,this._movieTimer=0,this._bobSteps.dispose(),this._ctx.pack.getSound("sounds/bob_busted").play(1))},IdleBob:function(){this.bobWalking&&(this.bobWalking=!1,this._bobSteps.dispose()),this._bobIdle=!0,this._idleTimer=0,this.currentAction="stay",this._moviePlayer.loop("_Idle",!1),this._moviePlayer.movie._value.set_position(0)},getY:function(){return this.bobSprite.y._value},removePlayer:function(){this.bobWalking&&this._bobSteps.dispose()},__class__:o});var c=function(e){this.rotateCoef=0,this.direction="left",this._ctx=e};s.BobMenu=c,c.__name__=["BobMenu"],c.__super__=n,c.prototype=e(n.prototype,{get_name:function(){return"BobMenu_34"},onAdded:function(){this._spriteBob=new Fe(this._ctx.pack.getTexture("bobRopeJump")),this.owner.add(this._spriteBob),this._spriteBob.setXY(.6*ue._platform.getStage().get_width(),.05*ue._platform.getStage().get_height()),this._spriteBob.setAnchor(259,0)},onUpdate:function(){if("left"==this.direction){var e=this._spriteBob.rotation;e.set__(e._value-.03),this.rotateCoef+=1}"right"==this.direction&&((e=this._spriteBob.rotation).set__(e._value+.03),this.rotateCoef+=1),160<=this.rotateCoef&&(this.direction="left"==this.direction?"right":"left",this.rotateCoef=0)},__class__:c});var h=function(e,t,i,s,r){this._isBalloonShow=this._firstShowScreen=this._isUsed=!1,this._ctx=t,this._stairName=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this._saveCabinId=r};s.ChargeBase=h,h.__name__=["ChargeBase"],h.__super__=n,h.prototype=e(n.prototype,{get_name:function(){return"ChargeBase_6"},onAdded:function(){var e;e=this._ctx.pack.getTexture("gameObjects/SavePoint"),this._spriteDoor=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spriteDoor&&this.owner.add(this._spriteDoor=new Fe(e)),this._spriteDoor.texture=e,this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor(),this._light=new Fe(this._ctx.pack.getTexture("gameObjects/SavePointLight")),this._light.setScale(this._ctx.gameScale),this._light.setXY(this._x+3*this._ctx.currentScaleCoef,this._y),this._light.centerAnchor(),this._topActive=new Fe(this._ctx.pack.getTexture("gameObjects/SavePointTop")),this._topActive.setScale(this._ctx.gameScale),this._topActive.setXY(this._x+4*this._ctx.currentScaleCoef,this._y-33*this._ctx.currentScaleCoef),this._topActive.centerAnchor(),this._light.set_visible(!1),this._topActive.set_visible(!1),this.light=(new ie).add(this._light),this._ctx.currentLevel._screensLayer.addChild(this.light),this.top=(new ie).add(this._topActive),this._ctx.currentLevel._lightsLayer.addChild(this.top)},onUpdate:function(){if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction?(this._ctx.currentLevel.isPlayerTryAction=!1,8==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&1==this._ctx.currentLevel.tutor.tipsActivate[9]&&this._ctx.currentLevel.tutor.closeTip(10),this.ShowSaveMessage()):this._ctx.currentLevel.downKey&&(this._ctx.currentLevel.downKey=!1,8==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&1==this._ctx.currentLevel.tutor.tipsActivate[9]&&this._ctx.currentLevel.tutor.closeTip(10),this.ShowSaveMessage())),this.isStairFind=!1,Math.abs(this._spriteDoor.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spriteDoor.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToSave&&!this._isUsed&&(this.isStairFind=!0,0==this._isBalloonShow)){this._isBalloonShow=!0,1==this._ctx.currentLevelNumber&&this._ctx.currentLevel.tutor.showTip(6),this._ctx.currentLevel._currentStairNumber=this.groupID;var e=new Fe(this._ctx.pack.getTexture("BalloonSave"));this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._topActive.set_visible(!0)}0==this.isStairFind&&null!=this._currentBalloon&&(this._isUsed||this._topActive.set_visible(!1),1==this._ctx.currentLevelNumber&&this._ctx.currentLevel.tutor.closeTip(6),this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},ShowSaveMessage:function(){this._topActive.set_visible(!0),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToSave=!0,this._ctx.saveCabinNumber=this._saveCabinId,this._ctx.levelTimerSave=this._ctx.currentLevel.watch._value,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("inSave",this._x+2*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),1==this._ctx.currentLevelNumber&&this._ctx.currentLevel.tutor.closeTip(6),null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},GotoSavePoint:function(){this._isUsed=this._firstShowScreen=!0,this._ctx.currentLevel._lightsLayer.removeChild(this.top),this._ctx.currentLevel._screensLayer.addChild(this.top),this._light.set_visible(!0),this._topActive.set_visible(!0),this._spriteDoor.texture=this._ctx.pack.getTexture("gameObjects/SavePointActive")},CloseSaveMessage:function(){},OutSavePoint:function(){this._ctx.currentLevel._screensLayer.removeChild(this.top),this._ctx.currentLevel._objectsLayer.addChild(this.top),this._light.set_visible(!1)},getX:function(){return this._x+4*this._ctx.currentScaleCoef},getY:function(){return this._y},__class__:h});var _=function(e,t,i,s,r,a){this.isUsed=this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this.doorName=s,this._passcode=r,this._objId=a,this.seeIt=!1};s.Codepad=_,_.__name__=["Codepad"],_.__super__=n,_.prototype=e(n.prototype,{get_name:function(){return"Codepad_10"},onAdded:function(){var e=this._ctx.pack.getTexture("gameObjects/codepanel");if(this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor(),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this._objId==this.objectsForSave[e].eId){this.deactivatePad();break}++e}}},onUpdate:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,2==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[7]&&this._ctx.currentLevel.tutor.closeTip(8),4==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[8]&&this._ctx.currentLevel.tutor.closeTip(9),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showCodePanel(this.doorName,this._passcode),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=this._currentBalloon)),this.isStairFind=!1,Math.abs(this._spritePadlock.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spritePadlock.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow&&!this.isUsed)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonCode"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-10*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){2==e._ctx.currentLevelNumber&&1==e._ctx.currentLevel.tutor.tipsActivate[7]&&e._ctx.currentLevel.tutor.closeTip(8),4==e._ctx.currentLevelNumber&&1==e._ctx.currentLevel.tutor.tipsActivate[8]&&e._ctx.currentLevel.tutor.closeTip(9),e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",e._ctx.currentLevel.player._compMap.Sprite_0.x._value,e._ctx.currentLevel.player._compMap.Sprite_0.y._value),e._ctx.currentLevel.showCodePanel(e.doorName,e._passcode),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=e._currentBalloon})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},removeBallon:function(){null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},getPass:function(){return this._passcode},deactivatePad:function(){this.isUsed=!0,this._ctx.currentLevel.FindAndOpenDoor(this.doorName)},CodePadDone:function(){this._ctx.addObjectsToSave(new b(this._objId)),this.deactivatePad()},__class__:_});var l=function(e,t,i){this._factorY=.8,this._factorX=.4,this._speedX=this._speedY=0,this._isRight=!0,this._ctx=e,this._x=t,this._y=i,this._speedX=(30*Math.random()-15)*e.gameScale,this._speedY=-(20*Math.random()+10)*e.gameScale,this._factorX*=e.gameScale,this._factorY*=e.gameScale};s.Coin=l,l.__name__=["Coin"],l.__super__=n,l.prototype=e(n.prototype,{get_name:function(){return"Coin_36"},onAdded:function(){var e=this,t=new ni(this._ctx.pack,"effectsAnim");this._moviePlayer=new oi(t),this.owner.add(this._moviePlayer),this._coin=new Me,this.owner.add(this._coin),this._coin.setScale(this._ctx.gameScale),this._coin.setXY(this._x,this._y),this._coin.centerAnchor(),this._moviePlayer.loop("_CoinRotate",!0),this.uiSpriteScript=new ei,this.uiSpriteScript.run(new $t(new ii([new Qt(.01),new Zt(function(){e.coinMove()})]))),this.owner.add(this.uiSpriteScript)},onUpdate:function(){},coinMove:function(){if(this._isRight){var e=this._coin.x;e.set__(e._value+this._speedX),630<=this._coin.x._value&&(this._isRight=!1)}else(e=this._coin.x).set__(e._value-this._speedX);(e=this._coin.y).set__(e._value+this._speedY),this._speedY+=this._factorY,-10>this._coin.y._value&&(this._speedY=5*this._ctx.gameScale),this._speedY>15*this._ctx.gameScale&&(this._speedY=15*this._ctx.gameScale),this._coin.y._value>960*this._ctx.gameMagnify&&this.destroy()},destroy:function(){this.owner.remove(this.uiSpriteScript),this.owner.disposeChildren(),this.owner.dispose()},__class__:l});var u=function(e,t,i,s){this.isUsed=this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._objectName=s};s.Computer=u,u.__name__=["Computer"],u.__super__=n,u.prototype=e(n.prototype,{get_name:function(){return"Computer_43"},onAdded:function(){var e=this._ctx.pack.getTexture("monitor/computer");this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor()},onUpdate:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showComputerScreen(this._objectName),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=this._currentBalloon)),this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,"final"==this._objectName&&!this.isUsed&&(this.isUsed=!0,this._ctx.currentLevel.setTrap()),0==this._isBalloonShow&&!this.isUsed)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonComputer"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-10*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",e._ctx.currentLevel.player._compMap.Sprite_0.x._value,e._ctx.currentLevel.player._compMap.Sprite_0.y._value),e._ctx.currentLevel.showComputerScreen(e._objectName),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=e._currentBalloon})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},__class__:u});var d=function(e,t){t=t.split("u").join(""),this.r=RegExp(e,t)};s.EReg=d,d.__name__=["EReg"],d.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw"EReg::matched"},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(e){return e.replace(this.r,"#__delim__#").split("#__delim__#")},__class__:d};var p=function(e,t,i,s,r,a){this.isUsed=this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._objectName=s,this._objId=r,this._seconds=a};s.Electric=p,p.__name__=["Electric"],p.__super__=n,p.prototype=e(n.prototype,{get_name:function(){return"Electric_39"},onAdded:function(){var e=this._ctx.pack.getTexture("gameObjects/electricPanel1");if(this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor(),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this._objId==this.objectsForSave[e].eId){this.electricOff();break}++e}}},onUpdate:function(){var e,t=this;(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.actionKey=!1,this._ctx.haveNippers&&(this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showWiresPanel(this._objectName,this._seconds),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=this._currentBalloon))),this.isStairFind=!1,Math.abs(this._spritePadlock.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spritePadlock.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this.isUsed&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow))&&(this._isBalloonShow=!0,e=this._ctx.haveNippers?new Fe(this._ctx.pack.getTexture("BalloonElectric")):new Fe(this._ctx.pack.getTexture("BalloonNone")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.haveNippers&&e.get_pointerDown().connect(function(){t._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",t._ctx.currentLevel.player._compMap.Sprite_0.x._value,t._ctx.currentLevel.player._compMap.Sprite_0.y._value),t._ctx.currentLevel.showWiresPanel(t._objectName,t._seconds),t._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=t.owner,t._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=t._currentBalloon}));0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},electricOff:function(){this.isUsed=!0,this._spritePadlock.texture=this._ctx.pack.getTexture("gameObjects/electricPanel2"),this._ctx.currentLevel.FindAndDeactivateObject(this._objectName)},electricOpen:function(){this.isUsed=!0,this._spritePadlock.texture=this._ctx.pack.getTexture("gameObjects/electricPanel2"),this._ctx.addObjectsToSave(new b(this._objId))},__class__:p});var m=function(e,t,i,s,r,a){this._bobOut=!1,this._timerStop=.5,this._timer=0,this._isBalloonShow=this._bobMoveElevator=!1,this._currentBalloon=null,this._ctx=e,this._x=(t-5)*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this.groupID=s,this.isDoor=r,this.doorName=a};s.Elevator=m,m.__name__=["Elevator"],m.__super__=n,m.prototype=e(n.prototype,{get_name:function(){return"Elevator_14"},onAdded:function(){var e;e=this._ctx.pack.getTexture("gameObjects/elevatorBack"),this._elevatorBack=new Fe(e),this.owner.addChild((new ie).add(this._elevatorBack)),this._elevatorBack.setScale(this._ctx.gameScale),this._elevatorBack.setXY(this._x+7*this._ctx.currentScaleCoef,this._y),this._elevatorBack.centerAnchor(),e=this._ctx.pack.getTexture("BobElev"),this._bobElev=new Fe(e),this.owner.addChild((new ie).add(this._bobElev)),this._bobElev.setScale(this._ctx.gameScale),this._bobElev.setXY(this._x+3*this._ctx.currentScaleCoef,this._y),this._bobElev.centerAnchor(),this._bobElev.set_visible(!1),e=this._ctx.pack.getTexture("gameObjects/elevatorLeftDoor"),this._leftDoor=new Fe(e),this.owner.addChild((new ie).add(this._leftDoor)),this._leftDoor.setScale(this._ctx.gameScale),this._leftDoor.setXY(this._elevatorBack.x._value-(this._leftDoor.texture.get_width()+2),this._elevatorBack.y._value),this._leftDoor.setAnchor(0,.5*this._leftDoor.texture.get_height()),e=this._ctx.pack.getTexture("gameObjects/elevatorRightDoor"),this._rightDoor=new Fe(e),this.owner.addChild((new ie).add(this._rightDoor)),this._rightDoor.setScale(this._ctx.gameScale),this._rightDoor.setXY(this._elevatorBack.x._value+(this._rightDoor.texture.get_width()-2),this._elevatorBack.y._value),this._rightDoor.setAnchor(this._rightDoor.texture.get_width(),.5*this._rightDoor.texture.get_height())},onUpdate:function(e){var t=this;this._bobOut&&(this._timer+=e,this._timer>=this._timerStop&&(this._timer=0,this._bobOut=!1,this._bobElev.set_visible(!1),this._ctx.currentLevel.player._compMap.Sprite_0.set_visible(!0),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("liftOut"),this.isDoor="open")),this._bobMoveElevator&&(this._timer+=e,this._timer>=this._timerStop&&(this._timer=0,this._bobMoveElevator=!1,this._bobElev.set_visible(!1),this._ctx.currentLevel.FindAndSendBobToElevator(this._elevatorBack.x._value),this.isDoor="open")),this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&"open"==this.isDoor&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToElevator=!0,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("liftIn",this._elevatorBack.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._currentBalloon=null)),this.isStairFind=!1,Math.abs(this._elevatorBack.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._elevatorBack.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"open"==this.isDoor&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobMoveElevator&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobMoveElevator&&(this.isStairFind=!0,0==this._isBalloonShow&&(.1<this._leftDoor.scaleX._value&&(this._ctx.pack.getSound("sounds/elevator_open").play(),this._leftDoor.scaleX.animate(this._ctx.currentScaleCoef,0,.5,be.bounceOut),this._rightDoor.scaleX.animate(this._ctx.currentScaleCoef,0,.5,be.bounceOut)),this._isBalloonShow=!0,this._ctx.currentLevel._currentStairNumber=this.groupID,e=new Fe(this._ctx.pack.getTexture("BalloonStair")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),e.get_pointerDown().connect(function(){t._ctx.currentLevel.player._compMap.BobHero_33._bobGoToElevator=!0,t._ctx.currentLevel.player._compMap.BobHero_33.changeAction("liftIn",t._elevatorBack.x._value,t._ctx.currentLevel.player._compMap.Sprite_0.y._value),t._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=t.owner,t._ctx.currentLevel._plashkaLayer.removeChild(t._currentBalloon),t._currentBalloon.dispose(),t._currentBalloon=null}))),0==this.isStairFind&&null!=this._currentBalloon&&(this._ctx.pack.getSound("sounds/elevator_close").play(),this._leftDoor.scaleX.animate(0,this._ctx.gameScale,.5,be.bounceOut),this._rightDoor.scaleX.animate(0,this._ctx.gameScale,.5,be.bounceOut),this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._currentBalloon=null)},bobInLift:function(){this._ctx.pack.getSound("sounds/elevator_close").play(),this.isDoor="close",this._bobMoveElevator=!0,this._isBalloonShow=!1,this._bobElev.set_visible(!0),this._leftDoor.scaleX.animate(0,this._ctx.gameScale,.5,be.bounceOut),this._rightDoor.scaleX.animate(0,this._ctx.gameScale,.5,be.bounceOut),this._ctx.currentLevel.SetPlayerBack()},closeDoor:function(){this.isDoor="close"},openDoor:function(){this._ctx.pack.getSound("sounds/elevator_open").play(),this._bobElev.set_visible(!0),this._leftDoor.scaleX.animate(this._ctx.gameScale,0,.5,be.bounceOut),this._rightDoor.scaleX.animate(this._ctx.gameScale,0,.5,be.bounceOut),this._bobOut=!0,this._timer=0},openDoors:function(){this.isDoor="open",this.doorName="none"},__class__:m});var b=function(e,t,i){null==i&&(i=!1),null==t&&(t=0),this.eId=e,this.ePosX=t,this.uBox=i};s.EnemySet=b,b.__name__=["EnemySet"],b.prototype={__class__:b};var v=function(e,t,i,s){this._inoutSet=!1,this._arrowsTimerStop=.3,this._arrowsTimer=0,this._isBalloonShow=!1,this._ctx=e,this._x=(t+10)*this._ctx.gameScale,this._y=(i+10)*this._ctx.gameScale,this._targetX=(t+5)*this._ctx.gameScale,this._targetY=(i+5)*this._ctx.gameScale,this.isDoor="close",this._gType=s};s.ExitTarget=v,v.__name__=["ExitTarget"],v.__super__=n,v.prototype=e(n.prototype,{get_name:function(){return"ExitTarget_15"},onAdded:function(){this._innerScale=this._ctx.isSquare?this._ctx.gameScaleSquare:this._ctx.gameScale,this._arrow1=new Fe(this._ctx.pack.getTexture("gameObjects/ExitTarget")),this.owner.addChild((new ie).add(this._arrow1)),this._arrow1.setScale(this._ctx.gameScale),this._arrow1.setXY(this._x,this._y),this._arrow1.centerAnchor(),this._arrow2=new Fe(this._ctx.pack.getTexture("gameObjects/ExitTarget")),this.owner.addChild((new ie).add(this._arrow2)),this._arrow2.setScale(this._ctx.gameScale),this._arrow2.setXY(this._x+35*this._ctx.currentScaleCoef,this._y),this._arrow2.centerAnchor(),this._arrow2.scaleX.set__(-1*Math.abs(this._arrow2.scaleX._value)),this._arrow3=new Fe(this._ctx.pack.getTexture("gameObjects/ExitTarget2")),this.owner.addChild((new ie).add(this._arrow3)),this._arrow3.setScale(this._ctx.gameScale),this._arrow3.setXY(this._x,this._y+35*this._ctx.currentScaleCoef),this._arrow3.centerAnchor(),this._arrow4=new Fe(this._ctx.pack.getTexture("gameObjects/ExitTarget2")),this.owner.addChild((new ie).add(this._arrow4)),this._arrow4.setScale(this._ctx.gameScale),this._arrow4.setXY(this._x+35*this._ctx.currentScaleCoef,this._y+35*this._ctx.currentScaleCoef),this._arrow4.centerAnchor(),this._arrow4.scaleX.set__(-1*Math.abs(this._arrow4.scaleX._value)),this._arrow1.set_pointerEnabled(!1),this._arrow2.set_pointerEnabled(!1),this._arrow3.set_pointerEnabled(!1),this._arrow4.set_pointerEnabled(!1),10==this._ctx.currentLevelNumber&&3==this._ctx.currentLevelPart&&(this._arrow1.set_visible(!1),this._arrow2.set_visible(!1),this._arrow3.set_visible(!1),this._arrow4.set_visible(!1))},onUpdate:function(e){2&this._arrow1._flags&&(this._arrowsTimer+=e,this._arrowsTimer>=this._arrowsTimerStop&&(this._arrowsTimer=0,this._inoutSet?(this._inoutSet=!1,this._arrow1.x.animate(this._arrow1.x._value,this._arrow1.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow1.y.animate(this._arrow1.y._value,this._arrow1.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.x.animate(this._arrow2.x._value,this._arrow2.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.y.animate(this._arrow2.y._value,this._arrow2.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.x.animate(this._arrow3.x._value,this._arrow3.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.y.animate(this._arrow3.y._value,this._arrow3.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.x.animate(this._arrow4.x._value,this._arrow4.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.y.animate(this._arrow4.y._value,this._arrow4.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear)):(this._inoutSet=!0,this._arrow1.setXY(this._x,this._y),this._arrow2.setXY(this._x+29*this._ctx.currentScaleCoef,this._y),this._arrow3.setXY(this._x,this._y+29*this._ctx.currentScaleCoef),this._arrow4.setXY(this._x+29*this._ctx.currentScaleCoef,this._y+29*this._ctx.currentScaleCoef),this._arrow1.x.animate(this._arrow1.x._value,this._arrow1.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow1.y.animate(this._arrow1.y._value,this._arrow1.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.x.animate(this._arrow2.x._value,this._arrow2.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.y.animate(this._arrow2.y._value,this._arrow2.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.x.animate(this._arrow3.x._value,this._arrow3.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.y.animate(this._arrow3.y._value,this._arrow3.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.x.animate(this._arrow4.x._value,this._arrow4.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.y.animate(this._arrow4.y._value,this._arrow4.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear))),this._isBalloonShow&&null!=this._currentBalloon&&R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-60*this._ctx.currentScaleCoef),this.isStairFind=!1,Math.abs(this._targetX-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._targetY-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"close"==this.isDoor&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&2&this._arrow1._flags&&this.openDoor()))},showTarget:function(){this._arrow1.set_visible(!0),this._arrow2.set_visible(!0),this._arrow3.set_visible(!0),this._arrow4.set_visible(!0)},hideTarget:function(){this._arrow1.set_visible(!1),this._arrow2.set_visible(!1),this._arrow3.set_visible(!1),this._arrow4.set_visible(!1)},openDoor:function(){this.isDoor="open","gameEnd"==this._gType&&(this._ctx.currentLevel.calcStars(),this._ctx.currentLevel.levelWin.set__(!0))},__class__:v});var f=function(e,t,i){this.talking=this.smiling=!1,this.talkTimer=this.alertTimer=0,this._ctx=e,this._x=t*e.gameScale,this._y=i*e.gameScale};s.FinalMonitorScreen=f,f.__name__=["FinalMonitorScreen"],f.__super__=n,f.prototype=e(n.prototype,{get_name:function(){return"FinalMonitorScreen_8"},onAdded:function(){var e=new ni(this._ctx.pack,"effectsAnim");this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.alertLight1=new Fe(this._ctx.pack.getTexture("gameObjects/AlertLightOn")),this.alertLight2=new Fe(this._ctx.pack.getTexture("gameObjects/AlertLightOn")),this.owner.addChild((new ie).add(this.alertLight1)),this.owner.addChild((new ie).add(this.alertLight2)),this.alertLight1.centerAnchor(),this.alertLight2.centerAnchor(),this.alertLight1.setXY(-84,-1),this.alertLight2.setXY(84,-1),this.alertLight1.set_visible(!1),this.alertLight2.set_visible(!1)},onUpdate:function(e){this.talking&&(this.talkTimer+=e,7<this.talkTimer&&(this.talking=!1,this.smiling=!0,this.changeAction("_HeadLaugh"))),(2&this.alertLight1._flags||2&this.alertLight2._flags)&&(this.alertTimer+=e,1<this.alertTimer&&(this.alertTimer=0,2&this.alertLight1._flags?(this.alertLight1.set_visible(!1),this.alertLight2.set_visible(!0)):2&this.alertLight2._flags&&(this.alertLight2.set_visible(!1),this.alertLight1.set_visible(!0))))},changeAction:function(e){this.enemySprite.set_visible(!0),this._moviePlayer.loop(e,!0),this._ctx.pack.getSound("sounds/boss_tv_voice1").play()},startShow:function(){this.enemySprite.set_visible(!0),this.talking=!0,this._moviePlayer.loop("_HeadTalking",!0),this._ctx.pack.getSound("sounds/boss_tv_voice1").play(),this.alertLight1.set_visible(!0)},stopAction:function(){this.enemySprite.set_visible(!1)},__class__:f});var g=function(e,t,i,s){this._movieTimerStop=1,this._movieTimer=0,this._isBalloonShow=!1,this._ctx=t,this._stairName=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this.isDoor="close",this._targetX=i-20,this._targetY=s-20};s.FinishDoor=g,g.__name__=["FinishDoor"],g.__super__=n,g.prototype=e(n.prototype,{get_name:function(){return"FinishDoor_38"},onAdded:function(){var e=new Fe(this._ctx.pack.getTexture("gameObjects/elevatorBack"));e.setScale(this._ctx.gameScale),e.setXY(this._x,this._y),e.centerAnchor(),this._ctx.currentLevel._backLayer.addChild((new ie).add(e)),this._bobElev=new Fe(this._ctx.pack.getTexture("BobElev")),this.owner.addChild((new ie).add(this._bobElev)),this._bobElev.setScale(this._ctx.gameScale),this._bobElev.setXY(this._x+3*this._ctx.currentScaleCoef,this._y),this._bobElev.centerAnchor(),this._bobElev.set_visible(!1),this._spriteDoor=new Fe(this._ctx.pack.getTexture("gameObjects/door1")),this.owner.addChild((new ie).add(this._spriteDoor)),this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor(),this._ctx.currentLevel.exitTarget=new v(this._ctx,this._targetX,this._targetY,"exit"),this._ctx.currentLevel._lightsLayer.addChild((new ie).add(this._ctx.currentLevel.exitTarget))},onUpdate:function(e){var t=this;2&this._bobElev._flags&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._ctx.currentLevel.levelWin.set__(!0))),this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.calcStars(),this._ctx.currentLevel.exitTarget.hideTarget(),this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this.openDoor(),null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose()))),this.isStairFind=!1,Math.abs(this._spriteDoor.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spriteDoor.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"close"==this.isDoor&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&(this._isBalloonShow=!0,e=new Fe(this._ctx.pack.getTexture("BalloonStair")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._bulkheadLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),e.get_pointerDown().connect(function(){t._ctx.currentLevel.calcStars(),t._ctx.currentLevel.exitTarget.hideTarget(),t._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,t._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=t.owner,t.openDoor(),null!=t._currentBalloon&&(t._isBalloonShow=!1,t._ctx.currentLevel._bulkheadLayer.removeChild(t._currentBalloon),t._currentBalloon.dispose())}))),0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},openDoor:function(){this._ctx.isPartFinishDoor=!0,this.isDoor="open",this._spriteDoor.x.animate(this._x,this._x+60*this._ctx.currentScaleCoef,.5,be.linear),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("yes",this._x,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.pack.getSound("sounds/final_door_open").play(1)},closeDoor:function(){this._ctx.currentLevel.player._compMap.Sprite_0.set_visible(!1),this._bobElev.set_visible(!0),this._spriteDoor.x.animate(this._x+60*this._ctx.currentScaleCoef,this._x,.5,be.linear),this._ctx.pack.getSound("sounds/final_door_close").play(1)},__class__:g});var x=function(e,t,i,s,r){this._inoutSet=!1,this._arrowsTimerStop=.3,this._arrowsTimer=0,this._movieTimerStop=2,this._movieTimer=0,this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this.isDoor="close",this._targetX=(t+5)*this._ctx.gameScale,this._targetY=(i+5)*this._ctx.gameScale,this._gType=s,this._objId=r};s.GadgetTarget=x,x.__name__=["GadgetTarget"],x.__super__=n,x.prototype=e(n.prototype,{get_name:function(){return"GadgetTarget_9"},onAdded:function(){if(this._innerScale=this._ctx.isSquare?this._ctx.gameScaleSquare:this._ctx.gameScale,this._arrow1=new Fe(this._ctx.pack.getTexture("gameObjects/GadgetTarget")),this.owner.addChild((new ie).add(this._arrow1)),this._arrow1.setScale(this._ctx.gameScale),this._arrow1.setXY(this._x,this._y),this._arrow1.centerAnchor(),this._arrow2=new Fe(this._ctx.pack.getTexture("gameObjects/GadgetTarget")),this.owner.addChild((new ie).add(this._arrow2)),this._arrow2.setScale(this._ctx.gameScale),this._arrow2.setXY(this._x+35*this._ctx.currentScaleCoef,this._y),this._arrow2.centerAnchor(),this._arrow2.scaleX.set__(-1*Math.abs(this._arrow2.scaleX._value)),this._arrow3=new Fe(this._ctx.pack.getTexture("gameObjects/GadgetTarget2")),this.owner.addChild((new ie).add(this._arrow3)),this._arrow3.setScale(this._ctx.gameScale),this._arrow3.setXY(this._x,this._y+35*this._ctx.currentScaleCoef),this._arrow3.centerAnchor(),this._arrow4=new Fe(this._ctx.pack.getTexture("gameObjects/GadgetTarget2")),this.owner.addChild((new ie).add(this._arrow4)),this._arrow4.setScale(this._ctx.gameScale),this._arrow4.setXY(this._x+35*this._ctx.currentScaleCoef,this._y+35*this._ctx.currentScaleCoef),this._arrow4.centerAnchor(),this._arrow4.scaleX.set__(-1*Math.abs(this._arrow4.scaleX._value)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);for(var e=0,t=this.objectsForSave.length;e<t;){if(this._objId==this.objectsForSave[e].eId){this.GetGadget();break}++e}}10==this._ctx.currentLevelNumber&&(this._arrow1.set_visible(!1),this._arrow2.set_visible(!1),this._arrow3.set_visible(!1),this._arrow4.set_visible(!1))},onUpdate:function(e){this._arrowsTimer+=e,this._arrowsTimer>=this._arrowsTimerStop&&(this._arrowsTimer=0,this._inoutSet?(this._inoutSet=!1,this._arrow1.x.animate(this._arrow1.x._value,this._arrow1.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow1.y.animate(this._arrow1.y._value,this._arrow1.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.x.animate(this._arrow2.x._value,this._arrow2.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.y.animate(this._arrow2.y._value,this._arrow2.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.x.animate(this._arrow3.x._value,this._arrow3.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.y.animate(this._arrow3.y._value,this._arrow3.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.x.animate(this._arrow4.x._value,this._arrow4.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.y.animate(this._arrow4.y._value,this._arrow4.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear)):(this._inoutSet=!0,this._arrow1.setXY(this._x,this._y),this._arrow2.setXY(this._x+29*this._ctx.currentScaleCoef,this._y),this._arrow3.setXY(this._x,this._y+29*this._ctx.currentScaleCoef),this._arrow4.setXY(this._x+29*this._ctx.currentScaleCoef,this._y+29*this._ctx.currentScaleCoef),this._arrow1.x.animate(this._arrow1.x._value,this._arrow1.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow1.y.animate(this._arrow1.y._value,this._arrow1.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.x.animate(this._arrow2.x._value,this._arrow2.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow2.y.animate(this._arrow2.y._value,this._arrow2.y._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.x.animate(this._arrow3.x._value,this._arrow3.x._value-4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow3.y.animate(this._arrow3.y._value,this._arrow3.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.x.animate(this._arrow4.x._value,this._arrow4.x._value+4*this._innerScale,this._arrowsTimerStop,be.linear),this._arrow4.y.animate(this._arrow4.y._value,this._arrow4.y._value+4*this._innerScale,this._arrowsTimerStop,be.linear))),"open"==this.isDoor&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this._ctx.currentLevel.closeNewGadget(),this.destroy())),this._isBalloonShow&&null!=this._currentBalloon&&R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-60*this._ctx.currentScaleCoef),this.isStairFind=!1,Math.abs(this._targetX-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._targetY-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"close"==this.isDoor&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&2&this._arrow1._flags&&(this._ctx.currentLevel.player._compMap.BobHero_33.IdleBob(),this.openDoor(),this._arrow1.set_visible(!1),this._arrow2.set_visible(!1),this._arrow3.set_visible(!1),this._arrow4.set_visible(!1),this._isBalloonShow=!0,e=new Fe(this._ctx.pack.getTexture("BalloonHiden")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._screensLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale))),0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._screensLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},GetGadget:function(){this.isDoor="takeit",this._arrow1.set_visible(!1),this._arrow2.set_visible(!1),this._arrow3.set_visible(!1),this._arrow4.set_visible(!1),"lockpick"==this._gType&&(this._ctx.haveLockpick=!0),"nippers"==this._gType&&(this._ctx.haveNippers=!0),"hackerkit"==this._gType&&(this._ctx.haveHackerKit=!0),"shocker"==this._gType&&(this._ctx.haveShocker=!0),"setbox"==this._gType&&(this._ctx.haveBox=!0)},openDoor:function(){this.isDoor="open",this._ctx.currentLevel.showNewGadget(this._gType),this._ctx.addObjectsToSave(new b(this._objId)),this._ctx.currentLevel.exitTarget.showTarget()},destroy:function(){this.isDoor="destroy",this._ctx.currentLevel._screensLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this.owner.disposeChildren(),this.owner.dispose()},__class__:x});var y=function(e,t,s){for(this.currentScreen="game",this.isPartFinishDoor=this.isRankShow=this.controlActivated=!1,this.totalBatteries=this.batteriesInLevel=this.levelTimer=this.levelTimerSave=this.batteryCollected1=this.batteryCollected2=this.batteryCollected3=0,this.goNextPart=this.kickFirst=!1,this.saveCabinNumber=0,this.targetHeight=530,this.targetWidth=700,this.gameMagnify=1,this.isSquare=!1,this.currentScaleCoef=this.gameScale=this.gameScaleSquare=1,this.pack=e,this.director=s,this.messages=bi.parse(t.getFile("messages.ini").toString()),this.interfaceFont=new Be(this.pack,"fonts/Interface"),this.interfaceFont2=new Be(this.pack,"fonts/Interface2"),this.messagesFont=new Be(this.pack,"fonts/Messages"),this.segmentFont=new Be(this.pack,"fonts/Segment"),this.computerDark=new Be(this.pack,"fonts/ComputerDark"),this.computerLight=new Be(this.pack,"fonts/ComputerLight"),this.currentLevelNumber=1,this._tutorialDone=!1,e=ue._platform.getStage().get_width()/this.targetWidth,t=ue._platform.getStage().get_height()/this.targetHeight,this.gameScale=Math.min(e,t),this.gameScaleSquare=Math.max(e,t),this.screenCoef=ue._platform.getStage().get_height()/ue._platform.getStage().get_width(),this.isSquare=!(1.6<this.screenCoef),this.currentScaleCoef=this.gameScale,this.currentScaleCoef*=this.gameMagnify,this.centerCoefX=.5*ue._platform.getStage().get_width()-.5*this.targetWidth*this.gameScale,this.centerCoefY=.5*ue._platform.getStage().get_height()-.5*this.targetHeight*this.gameScale,this.currentLeveLSavePart=this.currentLevelPart=1,this.resetSaveArrays(),this.levelCodes=[],this.levelGuards=[],this.levelStars=[],this.timeArray=[],this.levelBatteryArray=[],this.batteriesInLevels=[],this.levelsStatus=[],e=0;10>e;)e++,this.levelStars.push(0);this.timeArray.push(80),this.timeArray.push(80),this.timeArray.push(90),this.timeArray.push(120),this.timeArray.push(125),this.timeArray.push(200),this.timeArray.push(190),this.timeArray.push(270),this.timeArray.push(250),this.timeArray.push(340),this.levelBatteryArray.push(5),this.levelBatteryArray.push(6),this.levelBatteryArray.push(7),this.levelBatteryArray.push(5),this.levelBatteryArray.push(7),this.levelBatteryArray.push(10),this.levelBatteryArray.push(11),this.levelBatteryArray.push(9),this.levelBatteryArray.push(10),this.levelBatteryArray.push(16),this.comixPlayed=this.musicPlayed=!1,ue.volume.set__(1),this.loadGameData(),h5branding.Branding.analyticsEnabled=!1,h5branding.Branding.preload("1.0.21"),h5ads.adWrapper.setAdProvider(new h5ads.GameDistribution("16eb5eb6f9b841688478eb635fde78b5")),h5ads.adWrapper.preloadAd(h5ads.AdType.interstitial),this.isTimerOn=!1,this.timerEntity=new ie,ue._platform.getKeyboard().up.connect(i(this,this.handleKeyUp)),ue._platform.getKeyboard().down.connect(i(this,this.handleKeyDown)),this.sitelock=new as};s.GameContext=y,y.__name__=["GameContext"],y.prototype={handleKeyUp:function(e){this.controlActivated&&this.currentLevel.handleKeyUp(e)},handleKeyDown:function(e){this.controlActivated&&this.currentLevel.handleKeyDown(e),"Space"==R.string(e.key)+""&&("completed"==this.currentScreen&&(this.currentScreen="game",this.director.unwindToScene(this.finishScreens),this.isLevelPointSaved=!1,this.resetSaveArrays(),10>this.currentLevelNumber?(this.currentLevelNumber+=1,this.enterEmptyScene(),this.showAdGameplay()):(this.stopMenuMusic(),this.playComixMusic(),this.enterFinalComics())),"fail"==this.currentScreen&&(this.currentScreen="game",this.director.unwindToScene(this.finishScreens),this.restartScene()))},loadGameData:function(){if(ue._platform.getStorage().get_supported()){for(var e=1;11>e;){var t=e++;null!=ue._platform.getStorage().get("level"+t)?this.levelsStatus[t-1]=ue._platform.getStorage().get("level"+t):(ue._platform.getStorage().set("level"+t,0),this.levelsStatus[t-1]=0),null!=ue._platform.getStorage().get("levStars"+t)?this.levelStars[t-1]=ue._platform.getStorage().get("levStars"+t):(ue._platform.getStorage().set("levStars"+t,0),this.levelStars[t-1]=0),null!=ue._platform.getStorage().get("batteries"+t)?this.batteriesInLevels[t-1]=ue._platform.getStorage().get("batteries"+t):(ue._platform.getStorage().set("batteries"+t,0),this.batteriesInLevels[t-1]=0)}this.totalBatteries=null!=ue._platform.getStorage().get("totalBatteries")?ue._platform.getStorage().get("totalBatteries"):0,this.isRankShow=null!=ue._platform.getStorage().get("isRankShow")&&ue._platform.getStorage().get("isRankShow")}0==this.levelsStatus[0]&&(this.levelsStatus[0]=1)},getBatteriesInLevel:function(e){return this.levelBatteryArray[e]},saveGameData:function(){if(ue._platform.getStorage().get_supported()){ue._platform.getStorage().set("level1",this.levelsStatus[0]);for(var e=1;11>e;){var t=e++;ue._platform.getStorage().set("level"+t,this.levelsStatus[t-1]),ue._platform.getStorage().set("levStars"+t,this.levelStars[t-1]),ue._platform.getStorage().set("batteries"+t,this.batteriesInLevels[t-1])}ue._platform.getStorage().set("totalBatteries",this.totalBatteries)}},emptyGadgets:function(){this.haveBox=this.haveShocker=this.haveHackerKit=this.haveNippers=this.haveLockpick=!1},playMenuMusic:function(){this.musicPlayed||(this._menuMusic=this.pack.getSound("music/btb3_main_theme").loop(),this.musicPlayed=!0)},stopMenuMusic:function(){this.musicPlayed&&(this._menuMusic.dispose(),this.musicPlayed=!1)},playComixMusic:function(){this.comixPlayed||(this._comixMusic=this.pack.getSound("music/btb3_comix_theme").loop(),this.comixPlayed=!0)},stopComixMusic:function(){this.comixPlayed&&(this._comixMusic.dispose(),this.comixPlayed=!1)},setComicsPack:function(e){this.comicsPack=e},enterFinalComics:function(e){null==e&&(e=!0);var t=this;e=we.fromAssets("finalcomics");ue._platform.loadAssetPack(e).get(function(e){t.finalComicsPack=e,t.director.unwindToScene(Ri.create(t),null)})},enterHomeScene:function(e){null==e&&(e=!0);var t=this;h5ads.adWrapper.once("onContentPaused",function(){}),h5ads.adWrapper.once("onContentResumed",function(){t.director.unwindToScene(Vi.create(t),null)}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},enterEmptyScene:function(){this.director.unwindToScene(ji.create(this),null)},enterLevelMap:function(e){null==e&&(e=!0);var t=this;h5ads.adWrapper.once("onContentPaused",function(){}),h5ads.adWrapper.once("onContentResumed",function(){t.controlActivated=!1,null!=t.comicsPack&&(t.comicsPack.dispose(),t.comicsPack=null),null!=t.finalComicsPack&&(t.finalComicsPack.dispose(),t.finalComicsPack=null),t.levelCodes=[],t.director.unwindToScene(qi.create(t),e?new Vt(.5,be.quadOut):null),t.playMenuMusic()}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},showAdGameplay:function(){var e=this;h5ads.adWrapper.once("onContentPaused",function(){}),h5ads.adWrapper.once("onContentResumed",function(){e.enterPlayingScene()}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},enterPlayingScene:function(){this.levelTry=this.batteryCollected3=this.batteryCollected2=this.batteryCollected1=0,this.currentGameScene=Wi.create(this),this.director.unwindToScene(this.currentGameScene,null),this.stopMenuMusic()},restartScene:function(e){null==e&&(e=!0);var t=this;h5ads.adWrapper.once("onContentPaused",function(){}),h5ads.adWrapper.once("onContentResumed",function(){t.controlActivated=!1,t.goNextPart=!1,t.currentGameScene=Wi.create(t),t.director.unwindToScene(t.currentGameScene,null),t.stopMenuMusic()}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},loadNextPartOfScene:function(){this.goNextPart=!0,this.currentGameScene=Wi.create(this),this.director.unwindToScene(this.currentGameScene,null)},showPrompt:function(e,t){this.director.pushScene($i.create(this,e,t))},showGameover:function(e,t){this.controlActivated=!1,this.currentScreen="fail",this.finishScreens=Ui.create(this,e,t),this.director.pushScene(this.finishScreens)},showCompelted:function(e,t){this.controlActivated=!1,this.currentScreen="completed",this.pack.getSound("sounds/level_complete").play(),this.finishScreens=Oi.create(this,e,t),this.director.pushScene(this.finishScreens)},getTotalBatteries:function(){for(var e=0,t=0;10>t;){var i=t++;e=e+this.batteriesInLevels[i]}return e},getStars:function(e,t){var i;return i=1.1*this.timeArray[t-1],this.batteryPercent=this.docsPickedOnLevel/this.levelBatteryArray[t-1],99<(i=this.batteryPercent*(e>i?i/e*100:100))?3:60<=i&&99>=i?2:20<=i&&60>=i?1:0},resetSaveArrays:function(){this.tempObjectsForSave=[],this.tempObjectsForSave2=[],this.tempObjectsForSave3=[],this.objectsForSave1=[],this.objectsForSave2=[],this.objectsForSave3=[],this.currentLevelPart=1,this.goNextPart=!1},addObjectsToSave:function(e){1==this.currentLevelPart&&this.tempObjectsForSave.push(e),2==this.currentLevelPart&&this.tempObjectsForSave2.push(e),3==this.currentLevelPart&&this.tempObjectsForSave3.push(e)},refreshSaveArrays:function(){if(this.tempObjectsForSave=[],this.tempObjectsForSave2=[],this.tempObjectsForSave3=[],1==this.currentLevelPart)for(var e=0,t=this.objectsForSave1.length;e<t;)this.addObjectsToSave(new b(this.objectsForSave1[e].eId,this.objectsForSave1[e].ePosX,this.objectsForSave1[e].uBox)),++e;if(2==this.currentLevelPart)for(e=0,t=this.objectsForSave2.length;e<t;)this.addObjectsToSave(new b(this.objectsForSave2[e].eId,this.objectsForSave2[e].ePosX,this.objectsForSave2[e].uBox)),++e;if(3==this.currentLevelPart)for(e=0,t=this.objectsForSave3.length;e<t;)this.addObjectsToSave(new b(this.objectsForSave3[e].eId,this.objectsForSave3[e].ePosX,this.objectsForSave3[e].uBox)),++e},copyTempToSave:function(){if(this.currentLeveLSavePart=this.currentLevelPart,1==this.currentLevelPart){this.objectsForSave1=[];for(var e=0,t=this.tempObjectsForSave.length;e<t;)this.objectsForSave1.push(this.tempObjectsForSave[e]),++e}if(2==this.currentLevelPart)for(this.objectsForSave2=[],e=0,t=this.tempObjectsForSave2.length;e<t;)this.objectsForSave2.push(this.tempObjectsForSave2[e]),++e;if(3==this.currentLevelPart)for(this.objectsForSave3=[],e=0,t=this.tempObjectsForSave3.length;e<t;)this.objectsForSave3.push(this.tempObjectsForSave3[e]),++e},__class__:y};var S=function(e,t,i){null==i&&(i=0),null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t,this.guardId=i,this.isCovered=!1};s.GuardOut=S,S.__name__=["GuardOut"],S.prototype={__class__:S};var w=function(e,t,i,s,r){this._timerStop=.5,this._timer=0,this._isBalloonShow=this._taked=this._batteryFlyUp=this._batteryFly=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._objId=s,this._qBat=r};s.Hiden=w,w.__name__=["Hiden"],w.__super__=n,w.prototype=e(n.prototype,{get_name:function(){return"Hiden_42"},onAdded:function(){if(!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);for(var e=0,t=this.objectsForSave.length;e<t;){if(this._objId==this.objectsForSave[e].eId){2==this._ctx.currentLevelPart?this._ctx.batteryCollected2+=this._qBat:3==this._ctx.currentLevelPart?this._ctx.batteryCollected3+=this._qBat:this._ctx.batteryCollected1+=this._qBat,(e=this._ctx.currentLevel.batery).set__(e._value+this._qBat),this._taked=!0;break}++e}}},onUpdate:function(e){var t=this;this._batteryFlyUp&&(this._timer+=e,this._timer>=this._timerStop&&(this._timer=0,this._batteryFlyUp=!1,this._batterySprite.x.animate(this._batterySprite.x._value,100*this._ctx.currentScaleCoef,.5,be.linear),this._batterySprite.y.animate(this._batterySprite.y._value,15*this._ctx.currentScaleCoef,.5,be.linear),this._timerStop=.5,this._batteryFly=!0)),this._batteryFly&&(this._timer+=e,(e=this._batterySprite.rotation).set__(e._value+15),this._timer>=this._timerStop&&(this._batteryFly=!1,this._ctx.addObjectsToSave(new b(this._objId)),(e=this._ctx.currentLevel.batery).set__(e._value+this._qBat),this.destroy())),this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),2==this._ctx.currentLevelPart?this._ctx.batteryCollected2+=this._qBat:3==this._ctx.currentLevelPart?this._ctx.batteryCollected3+=this._qBat:this._ctx.batteryCollected1+=this._qBat,this._taked=!0,this.isStairFind=!1,this._batterySprite=new Fe(this._ctx.pack.getTexture("gameObjects/Battery")),this._battery=(new ie).add(this._batterySprite),this._ctx.currentLevel._plashkaLayer.addChild(this._battery),this._batterySprite.setScale(this._ctx.gameScale),this._batterySprite.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._batterySprite.centerAnchor(),this._batterySprite.y.animate(this._batterySprite.y._value,this._batterySprite.y._value-50*this._ctx.currentScaleCoef,.5,be.linear),this._batteryFlyUp=!0,this._ctx.pack.getSound("sounds/get_battery").play())),this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._taked&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&(this.isStairFind=!0,0==this._isBalloonShow&&(this._isBalloonShow=!0,1==this._ctx.currentLevelNumber&&!this._taked&&(this._ctx.currentLevel.tutor.tipsActivate[2]=0,this._y<100*this._ctx.gameScale?(this._ctx.currentLevel.tutor.showTip(3,"backpack"),this._ctx.currentLevel.tutor.tipName="tip"+this._objId):this._y<200*this._ctx.gameScale&&(this._ctx.currentLevel.tutor.showTip(3),this._ctx.currentLevel.tutor.tipName="tip"+this._objId)),e=new Fe(this._ctx.pack.getTexture("BalloonHiden")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),e.get_pointerDown().connect(function(){1==t._ctx.currentLevelNumber&&1==t._ctx.currentLevel.tutor.tipsActivate[2]&&t._ctx.currentLevel.tutor.closeTip(3),t._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",t._ctx.currentLevel.player._compMap.Sprite_0.x._value,t._ctx.currentLevel.player._compMap.Sprite_0.y._value),2==t._ctx.currentLevelPart?t._ctx.batteryCollected2+=t._qBat:3==t._ctx.currentLevelPart?t._ctx.batteryCollected3+=t._qBat:t._ctx.batteryCollected1+=t._qBat,t._taked=!0,t.isStairFind=!1,t._batterySprite=new Fe(t._ctx.pack.getTexture("gameObjects/Battery")),t._battery=(new ie).add(t._batterySprite),t._ctx.currentLevel._plashkaLayer.addChild(t._battery),t._batterySprite.setScale(t._ctx.gameScale),t._batterySprite.setXY(t._ctx.currentLevel.player._compMap.Sprite_0.x._value,t._ctx.currentLevel.player._compMap.Sprite_0.y._value),t._batterySprite.centerAnchor(),t._batterySprite.y.animate(t._batterySprite.y._value,t._batterySprite.y._value-50*t._ctx.currentScaleCoef,.5,be.linear),t._batteryFlyUp=!0,t._ctx.pack.getSound("sounds/get_battery").play()}))),0==this.isStairFind&&null!=this._currentBalloon&&(1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[2]&&this._ctx.currentLevel.tutor.tipName=="tip"+this._objId&&this._ctx.currentLevel.tutor.closeTip(3),this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},destroy:function(){this._ctx.currentLevel._plashkaLayer.removeChild(this._battery),this._battery.dispose(),this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this.owner.disposeChildren(),this.owner.dispose()},__class__:w});var k=function(){};s.HxOverrides=k,k.__name__=["HxOverrides"],k.dateStr=function(e){var t=e.getMonth()+1,i=e.getDate(),s=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(10>t?"0"+t:""+t)+"-"+(10>i?"0"+i:""+i)+" "+(10>s?"0"+s:""+s)+":"+(10>r?"0"+r:""+r)+":"+(10>a?"0"+a:""+a)},k.strDate=function(e){switch(e.length){case 8:e=e.split(":");var t=new Date;return t.setTime(0),t.setUTCHours(e[0]),t.setUTCMinutes(e[1]),t.setUTCSeconds(e[2]),t;case 10:return e=e.split("-"),new Date(e[0],e[1]-1,e[2],0,0,0);case 19:return t=e.split(" "),e=t[0].split("-"),t=t[1].split(":"),new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2]);default:throw"Invalid date format : "+e}},k.cca=function(e,t){var i=e.charCodeAt(t);return i!=i?void 0:i},k.substr=function(e,t,i){return null!=t&&0!=t&&null!=i&&0>i?"":(null==i&&(i=e.length),0>t?0>(t=e.length+t)&&(t=0):0>i&&(i=e.length+i-t),e.substr(t,i))},k.remove=function(e,t){var i=e.indexOf(t);return-1!=i&&(e.splice(i,1),!0)},k.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var L=function(){};s.Lambda=L,L.__name__=["Lambda"],L.array=function(e){var i=[];for(e=t(e)();e.hasNext();){var s=e.next();i.push(s)}return i},L.count=function(e,i){var s=0;if(null==i)for(var r=t(e)();r.hasNext();)r.next(),s++;else for(r=t(e)();r.hasNext();){i(r.next())&&s++}return s};var M=function(e,t,i,s){this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this.laserName=s};s.LaserLine=M,M.__name__=["LaserLine"],M.__super__=n,M.prototype=e(n.prototype,{get_name:function(){return"LaserLine_11"},onAdded:function(){var e;e=this._ctx.pack.getTexture("gameObjects/laserLines"),this.spriteLaser=R.instance(this.owner._compMap.Sprite_0,Fe),null==this.spriteLaser&&this.owner.add(this.spriteLaser=new Fe(e)),this.spriteLaser.texture=e,this.spriteLaser.setScale(this._ctx.gameScale),this.spriteLaser.setXY(this._x,this._y),this.spriteLaser.centerAnchor()},onUpdate:function(){Math.abs(this.spriteLaser.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<10*this._ctx.currentScaleCoef&&Math.abs(this.spriteLaser.y._value-this._ctx.currentLevel.player._compMap.Sprite_0.y._value)<30*this._ctx.currentScaleCoef&&"silence"==this._ctx.currentLevel.globalState&&(this._ctx.currentLevel.alertUp(),this._ctx.currentLevel.gameOver())},deactivateLaser:function(){this.owner.remove(this.spriteLaser),this.spriteLaser.dispose(),this.dispose()},__class__:M});var C=function(e,t){null==t&&(t=""),null==e&&(e=""),this.doorName=e,this.code=t};s.LevelCode=C,C.__name__=["LevelCode"],C.prototype={__class__:C};var T=function(e){this._watchTimer=0,this._bobMove=!1,this._timerElev=0,this._elevCoefY=20,this._stairCoefY=5,this._isSPOnScreen=this._isNoteOnScreen=this._isNewGadgetOnScreen=this._isPadlockOnScreen=this._isWiresPanelOnScreen=this._isCodePanelOnScreen=this._isComputerOnScreen=this._isHackPanelOnScreen=!1,this.playerDirection="left",this.PLAYER_SPEED=2.2,this.codePanelActive=!1,this.digit0=this.digit1=this.digit2=this.digit3=this.digit4=this.digit5=this.digit6=this.digit7=this.digit8=this.digit9="none",this.levelCreated=this.isPlayerTryAction=this.leftKey=this.rightKey=this.actionKey=this.downKey=!1,this.ySdvigCoef=0,this._ctx=e,this._walls=[],this._stairs=[],this._elevators=[],this._sidedoors=[],this._cameras=[],this._lasers=[],this._codepads=[],this._shadows=[],e.levelGuards=[],this.hidenDoc=0,this.score=new ne(1),this.talert=new ne(5),this.batery=new ne(0),this.watch=new ne(0),this.levelWin=new ne(!1),this.paused=new ne(!1),this.restart=new ne(!1),this._stairCoefY*=this._ctx.currentScaleCoef,this._elevCoefY*=this._ctx.currentScaleCoef,this.wPanel=new rs(this._ctx),this.PLAYER_SPEED*=this._ctx.gameScale,this.globalState="silence"};s.LevelModel=T,T.__name__=["LevelModel"],T.__super__=n,T.prototype=e(n.prototype,{get_name:function(){return"LevelModel_5"},onAdded:function(){this._ctx.isPartFinishDoor=!1,this._worldLayer=new ie,this.owner.addChild(this._worldLayer),this._worldLayer.add(new Me),this.gameCamera=this._worldLayer._compMap.Sprite_0,this.gameCamera.setXY(this._ctx.centerCoefX,this._ctx.centerCoefY),this._ctx.emptyGadgets(),1<this._ctx.currentLevelNumber&&(this._ctx.haveLockpick=!0),3<this._ctx.currentLevelNumber&&(this._ctx.haveNippers=!0),5<this._ctx.currentLevelNumber&&(this._ctx.haveHackerKit=!0),7<this._ctx.currentLevelNumber&&(this._ctx.haveBox=!0),(9<this._ctx.currentLevelNumber||9==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart)&&(this._ctx.haveShocker=!0),this._ctx.isLevelPointSaved&&!this._ctx.goNextPart?this._ctx.currentLevelPart=this._ctx.currentLeveLSavePart:!this._ctx.isLevelPointSaved&&!this._ctx.goNextPart&&(this._ctx.currentLevelPart=1,this._ctx.levelTimer=0,this._ctx.levelTimerSave=0,this._ctx.levelCodes=[]),2==this._ctx.currentLevelPart?(this._backgroundPicture=new Fe(this._ctx.pack.getTexture("GameBackground"+this._ctx.currentLevelNumber+"2")),this._ctx.batteryCollected2=0):3==this._ctx.currentLevelPart?(this._backgroundPicture=new Fe(this._ctx.pack.getTexture("GameBackground"+this._ctx.currentLevelNumber+"3")),this._ctx.batteryCollected3=0):(this._backgroundPicture=new Fe(this._ctx.pack.getTexture("GameBackground"+this._ctx.currentLevelNumber)),this._ctx.batteryCollected1=0),this._worldLayer.addChild(this._backLayer=new ie),this._worldLayer.addChild(this._backgroundLayer=new ie),this._worldLayer.addChild(this._objectsLayer=new ie),this._worldLayer.addChild(this._lightsLayer=new ie),this._worldLayer.addChild(this._charactersLayer=new ie),this._worldLayer.addChild(this._shadowsLayer=new ie),this._worldLayer.addChild(this._enemiesLayer=new ie),this._worldLayer.addChild(this._screensLayer=new ie),this._worldLayer.addChild(this._bulkheadLayer=new ie),this._worldLayer.addChild(this._plashkaLayer=new ie),this._worldLayer.addChild(this._tipsLayer=new ie),1==this._ctx.currentLevelNumber&&(this.tutor=new is(this._ctx),this._tipsLayer.addChild((new ie).add(this.tutor)),this.tutor.showTip(1)),2==this._ctx.currentLevelNumber&&(this.tutor=new is(this._ctx),this._tipsLayer.addChild((new ie).add(this.tutor)),this.tutor.showTip(8)),4==this._ctx.currentLevelNumber&&(this.tutor=new is(this._ctx),this._tipsLayer.addChild((new ie).add(this.tutor)),this.tutor.showTip(9)),8==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&(this.tutor=new is(this._ctx),this._tipsLayer.addChild((new ie).add(this.tutor)),this.tutor.showTip(10)),this.timeBackGnd=new Fe(this._ctx.pack.getTexture("buttons/TimeSign")),this.timeBackGnd.setScale(this._ctx.gameScale),this.timeBackGnd.setXY(65,30),this.timeBackGnd.centerAnchor(),this.timeLabel=new He(this._ctx.interfaceFont),this.timeLabel.setXY(67,22),this.timeLabel.setScale(this._ctx.gameScale),this.timeLabel.set_text("0"),this.bateryBackGnd=new Fe(this._ctx.pack.getTexture("buttons/BaterySign")),this.bateryBackGnd.setScale(this._ctx.gameScale),this.bateryBackGnd.setXY(180,30),this.bateryBackGnd.centerAnchor(),this.bateryLabel=new He(this._ctx.interfaceFont),this.bateryLabel.setXY(210,24),this.bateryLabel.setScale(this._ctx.gameScale),this.bateryLabel.set_text("0"),this.bateryLabel.set_text("0"),this.pauseBtn=new Fe(this._ctx.pack.getTexture("buttons/BtnPause")),this.pauseBtn.setXY((this._ctx.targetWidth-40)*this._ctx.gameScale,25*this._ctx.currentScaleCoef),this.pauseBtn.setScale(this._ctx.gameScale),this.pauseBtn.centerAnchor(),this.restartBtn=new Fe(this._ctx.pack.getTexture("buttons/BtnReset")),this.restartBtn.setXY((this._ctx.targetWidth-85)*this._ctx.gameScale,25*this._ctx.currentScaleCoef),this.restartBtn.setScale(this._ctx.gameScale),this.restartBtn.centerAnchor(),this._plashkaLayer.addChild((new ie).add(this.timeBackGnd)),this._plashkaLayer.addChild((new ie).add(this.bateryBackGnd)),this._plashkaLayer.addChild((new ie).add(this.timeLabel)),this._plashkaLayer.addChild((new ie).add(this.bateryLabel)),this._screensLayer.addChild((new ie).add(this.pauseBtn)),this._screensLayer.addChild((new ie).add(this.restartBtn));var e=new Fe(this._ctx.pack.getTexture("RightBackLine"));for(this._tipsLayer.addChild((new ie).add(e)),e.setXY(675,0),this._objectsLayer.addChild((new ie).add(this._backgroundPicture)),this._backgroundPicture.setScale(this._ctx.gameScale),this._backgroundPicture.setXY(6*this._ctx.currentScaleCoef,35*this._ctx.currentScaleCoef),this.objectsId=1,this.saveCabinId=0,this.chargeBases=[],this.gadgetExist=!1,e=Z.parse(this.getXMLFromFile()),e=new Ni(e.firstElement()).node.resolve("objects").nodes.resolve("object").iterator();e.hasNext();){var t=e.next();if("BobHero"==t.att.resolve("className")){var i=new o(this._ctx,"bob",R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")));this.player=(new ie).add(i),this._charactersLayer.addChild(this.player)}if("GuardA"==t.att.resolve("className")&&(i=new Q(this._ctx,t.att.resolve("className"),R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseFloat(t.att.resolve("viewZL")),R.parseFloat(t.att.resolve("viewZR")),this.objectsId),this._enemiesLayer.addChild((new ie).add(i)),this.objectsId++),"GuardB"==t.att.resolve("className")&&(i=new $(this._ctx,t.att.resolve("className"),R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseFloat(t.att.resolve("viewZL")),R.parseFloat(t.att.resolve("viewZR")),this.objectsId),this._enemiesLayer.addChild((new ie).add(i)),this.objectsId++),"Professor"==t.att.resolve("className")&&(i=new te(this._ctx,t.att.resolve("className"),R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseFloat(t.att.resolve("viewZL")),R.parseFloat(t.att.resolve("viewZR")),R.parseFloat(t.att.resolve("buttonPos")),R.parseFloat(t.att.resolve("busyPos")),this.objectsId),this._enemiesLayer.addChild((new ie).add(i)),this.objectsId++),"Mummy"==t.att.resolve("className")&&(i=new ee(this._ctx,t.att.resolve("className"),R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseFloat(t.att.resolve("viewZL")),R.parseFloat(t.att.resolve("viewZR")),this.objectsId),this._enemiesLayer.addChild((new ie).add(i)),this.objectsId++),"Elevator"==t.att.resolve("className")&&(i=new m(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseInt(t.att.resolve("groupId")),t.att.resolve("door"),t.att.resolve("doorName")),this._objectsLayer.addChild((new ie).add(i)),this._elevators.push(i)),"StairUp"==t.att.resolve("className")||"StairDown"==t.att.resolve("className")){i=new j(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseInt(t.att.resolve("groupId")),t.att.resolve("door"),t.att.resolve("doorName"),t.att.resolve("doorType"));var s=(new ie).add(i);this._backgroundLayer.addChild(s),this._backgroundLayer.addChild(s),this._stairs.push(i)}if("FinishDoor"==t.att.resolve("className")&&(i=new g(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y"))),this._backLayer.addChild((new ie).add(i))),"PartDoor"==t.att.resolve("className")&&(2==R.parseInt(t.att.resolve("part"))&&(this.pDoor1=new F(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseInt(t.att.resolve("part"))),this._backLayer.addChild((new ie).add(this.pDoor1))),3==R.parseInt(t.att.resolve("part"))&&(this.pDoor2=new F(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseInt(t.att.resolve("part"))),this._backLayer.addChild((new ie).add(this.pDoor2)))),"StartDoor"==t.att.resolve("className")&&(this.startDoor=new G(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y"))),this._backLayer.addChild((new ie).add(this.startDoor))),"ChargeBase"==t.att.resolve("className")&&(this._savePointX=(R.parseFloat(t.att.resolve("x"))+3)*this._ctx.currentScaleCoef,this._savePointY=R.parseFloat(t.att.resolve("y"))*this._ctx.currentScaleCoef,i=new h(t.att.resolve("className"),this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),this.saveCabinId),this._objectsLayer.addChild((new ie).add(i)),this.chargeBases.push(i),this.saveCabinId++),"Sidedoor"==t.att.resolve("className")&&(i=new O(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("door"),t.att.resolve("doorName")),this._objectsLayer.addChild((new ie).add(i)),this._sidedoors.push(i)),"LaserLine"==t.att.resolve("className")&&(i=new M(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("doorName")),this._objectsLayer.addChild((new ie).add(i)),this._lasers.push(i)),"Padlock"==t.att.resolve("className")&&(i=new D(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("doorName"),t.att.resolve("direction"),R.parseInt(t.att.resolve("plevel")),this.objectsId),this._lightsLayer.addChild((new ie).add(i)),this.objectsId++),"Electric"==t.att.resolve("className")&&(i=new p(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("doorName"),this.objectsId,R.parseInt(t.att.resolve("alarmTimer"))),this._objectsLayer.addChild((new ie).add(i)),this.objectsId++),"Codepad"==t.att.resolve("className")){i=!1,s=0;for(var r=this._ctx.levelCodes.length;s<r;){if(t.att.resolve("doorName")==this._ctx.levelCodes[s].doorName){this._doorCode=this._ctx.levelCodes[s].code,i=!0;break}++s}0==i&&(this._doorCode=this.generateDoorCode()),i=new _(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("doorName"),this._doorCode,this.objectsId),this._objectsLayer.addChild((new ie).add(i)),this._codepads.push(i),this.objectsId++}"Message"==t.att.resolve("className")&&(i=new N(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("amessage"),t.att.resolve("doorName")),this._objectsLayer.addChild((new ie).add(i))),"Wall"==t.att.resolve("className")&&this._walls.push(new J(R.parseFloat(t.att.resolve("x"))*this._ctx.gameScale,R.parseFloat(t.att.resolve("y"))*this._ctx.gameScale)),"Hiden"==t.att.resolve("className")&&(i=new w(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),this.objectsId,R.parseInt(t.att.resolve("quantity"))),this._objectsLayer.addChild((new ie).add(i)),this.objectsId++,this.hidenDoc++),"Bulkhead"==t.att.resolve("className")&&(i=new Fe(this._ctx.pack.getTexture("Bulkhead")),"wood"==t.att.resolve("bulkname")&&(i=new Fe(this._ctx.pack.getTexture("Bulkhead"))),"woodsl"==t.att.resolve("bulkname")&&(i=new Fe(this._ctx.pack.getTexture("Bulkhead_wsl"))),"woodsr"==t.att.resolve("bulkname")&&(i=new Fe(this._ctx.pack.getTexture("Bulkhead_wsr"))),"steel"==t.att.resolve("bulkname")&&(i=new Fe(this._ctx.pack.getTexture("Bulkhead2"))),this._bulkheadLayer.addChild((new ie).add(i)),i.centerAnchor(),i.setXY(R.parseFloat(t.att.resolve("x"))*this._ctx.gameScale,R.parseFloat(t.att.resolve("y"))*this._ctx.gameScale-1),i.setScaleXY(1,.9),i.set_pointerEnabled(!1)),"GadgetTarget"==t.att.resolve("className")&&("gameEnd"==t.att.resolve("gadgetName")?(this.exitTarget=new v(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),"gameEnd"),this._lightsLayer.addChild((new ie).add(this.exitTarget))):(this.gadget=new x(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("gadgetName"),this.objectsId),this._lightsLayer.addChild((new ie).add(this.gadget)),this.objectsId++,this.gadgetExist=!0)),"Computer"==t.att.resolve("className")&&(i=new u(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),t.att.resolve("doorName")),this._objectsLayer.addChild((new ie).add(i))),"FinalComputer"==t.att.resolve("className")&&(i=new u(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),"final"),this._objectsLayer.addChild((new ie).add(i))),"screenBack"==t.att.resolve("className")&&(this.monitorEnd=new f(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y"))),this._objectsLayer.addChild((new ie).add(this.monitorEnd)),this.monitorEnd.stopAction()),"EndDoors"==t.att.resolve("className")&&(this.endDoors=new Fe(this._ctx.pack.getTexture("gameObjects/EndDoors")),this._objectsLayer.addChild((new ie).add(this.endDoors)),this.endDoors.setScale(this._ctx.gameScale),this.endDoors.setXY(R.parseFloat(t.att.resolve("x"))*this._ctx.gameScale,R.parseFloat(t.att.resolve("y"))*this._ctx.gameScale)),"TrapDoor"==t.att.resolve("className")&&(this.trapDoors=new Fe(this._ctx.pack.getTexture("gameObjects/TrapDoor")),this._objectsLayer.addChild((new ie).add(this.trapDoors)),this.trapDoors.setScale(this._ctx.gameScale),this.trapDoors.setXY(R.parseFloat(t.att.resolve("x"))*this._ctx.gameScale,R.parseFloat(t.att.resolve("y"))*this._ctx.gameScale),this.trapDoors.set_visible(!1)),"CrashWalls"==t.att.resolve("className")&&(this.crashDoors=new Fe(this._ctx.pack.getTexture("gameObjects/CrashWalls")),this._objectsLayer.addChild((new ie).add(this.crashDoors)),this.crashDoors.setScale(this._ctx.gameScale),this.crashDoors.setXY(R.parseFloat(t.att.resolve("x"))*this._ctx.gameScale,R.parseFloat(t.att.resolve("y"))*this._ctx.gameScale)),"Shadow"==t.att.resolve("className")&&(i=new Y(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseInt(t.att.resolve("sw"))),this._objectsLayer.addChild((new ie).add(i)),this._shadows.push(i)),"Camera"==t.att.resolve("className")&&(t=new X(this._ctx,R.parseFloat(t.att.resolve("x")),R.parseFloat(t.att.resolve("y")),R.parseFloat(t.att.resolve("delay")),R.parseFloat(t.att.resolve("viewZL")),R.parseFloat(t.att.resolve("viewZR"))),this._screensLayer.addChild((new ie).add(t)),this._cameras.push(t))}this.gadgetExist&&this.exitTarget.hideTarget(),this._bobShadow=new Fe(this._ctx.pack.getTexture("BobShadow")),this._bulkheadLayer.addChild((new ie).add(this._bobShadow)),this._bobShadow.setScale(this._ctx.gameScale),this._bobShadow.centerAnchor(),this._bobShadow.set_visible(!1),e=2==this._ctx.currentLevelPart&&10>this._ctx.currentLevelNumber?new Fe(this._ctx.pack.getTexture("Shadows"+this._ctx.currentLevelNumber+"2")):3==this._ctx.currentLevelPart&&10>this._ctx.currentLevelNumber?new Fe(this._ctx.pack.getTexture("Shadows"+this._ctx.currentLevelNumber+"3")):new Fe(this._ctx.pack.getTexture("Shadows"+this._ctx.currentLevelNumber)),this._shadowsLayer.addChild((new ie).add(e)),10==this._ctx.currentLevelNumber&&1<this._ctx.currentLevelPart&&e.setAlpha(0),1==this._ctx.currentLevelNumber&&e.setXY(8,120),e.setScale(.9),2==this._ctx.currentLevelNumber&&e.setXY(8,212),e.setScale(.9),3==this._ctx.currentLevelNumber&&e.setXY(8,120),e.setScale(.9),4==this._ctx.currentLevelNumber&&e.setXY(8,38),e.setScale(.9),5==this._ctx.currentLevelNumber&&e.setXY(8,38),e.setScale(.9),6==this._ctx.currentLevelNumber&&(1==this._ctx.currentLevelPart&&e.setXY(8,37),2==this._ctx.currentLevelPart&&e.setXY(8,37)),7==this._ctx.currentLevelNumber&&(1==this._ctx.currentLevelPart&&e.setXY(8,37),2==this._ctx.currentLevelPart&&e.setXY(8,36)),8==this._ctx.currentLevelNumber&&e.setXY(8,35),9==this._ctx.currentLevelNumber&&(1==this._ctx.currentLevelPart&&e.setXY(8,37),2==this._ctx.currentLevelPart&&e.setXY(183,37)),10==this._ctx.currentLevelNumber&&1==this._ctx.currentLevelPart&&e.setXY(8,37),e=new ni(this._ctx.pack,"bobAnim"),this.moviePlayer=new oi(e),this.glassEntiry=new ie,this.glassEntiry.add(this.moviePlayer),this.bobGlass=new Me,this.glassEntiry.add(this.bobGlass),this.bobGlass.setScale(this._ctx.gameScale),this.bobGlass.set_visible(!1),this._shadowsLayer.addChild(this.glassEntiry),this.backTap=new Fe(this._ctx.pack.getTexture("backTap")),this._screensLayer.addChild((new ie).add(this.backTap)),this.backTap.setScale(10*this._ctx.gameScale),this.backTap.setXY(0,30*this._ctx.currentScaleCoef),this._gameMusic=this._ctx.pack.getSound("music/btb3_gameplay_theme").loop(),this._ctx.isGameEnd=!1,1!=this._ctx.currentLevelPart||this._ctx.isLevelPointSaved?(this.batery.set__(this._ctx.batteriesInLevel),this.watch.set__(this._ctx.levelTimer)):this.batery.set__(0),1==this._ctx.currentLevelNumber&&(this._ctx._tutorialDone=!0),this._ctx.isLevelPointSaved&&!this._ctx.goNextPart?(this.watch.set__(this._ctx.levelTimerSave),this.player._compMap.BobHero_33.currentPadlock=this.chargeBases[this._ctx.saveCabinNumber].owner,this.player._compMap.BobHero_33._bobGoToSave=!0,this.chargeBases[this._ctx.saveCabinNumber].GotoSavePoint(),this._savePointX=this.chargeBases[this._ctx.saveCabinNumber].getX(),this._savePointY=this.chargeBases[this._ctx.saveCabinNumber].getY(),this.player._compMap.BobHero_33.changeAction("save",this._savePointX,this._savePointY),this.player._compMap.BobHero_33._bobGoToStair=!0,this.ActivateControl()):1!=this._ctx.currentLevelNumber?(this.player._compMap.Sprite_0.set_visible(!1),this.startDoor.openDoor()):this.ActivateControl(),this._ctx.refreshSaveArrays(),this.levelCreated=!0},onUpdate:function(e){if(this._watchTimer+=e,1<=this._watchTimer){this._watchTimer=0;var t=this.watch;t.set__(t._value+1)}if(this._bobMove&&((t=this._bobShadow.y).set__(t._value+this._elevatorSpeed),Math.abs(this._finishCoor-this._bobShadow.y._value)<3*this._ctx.gameScale&&(this._bobMove=!1,this.SetPlayerFront())),"alertTimer"==this.globalState&&((t=this.talert).set__(t._value-e),.1>=this.talert._value))for(this.globalState="silence",this.talert.set__(5),e=0,t=this._cameras.length;e<t;)this._cameras[e].resetCamera(),++e;this._isComputerOnScreen||this._isNewGadgetOnScreen||this._isNoteOnScreen||this._isPadlockOnScreen||this._isWiresPanelOnScreen||this._isCodePanelOnScreen||this._isSPOnScreen||this._isHackPanelOnScreen||this.player._compMap.BobHero_33._bobMoveElevator||this.player._compMap.BobHero_33._bobGoToElevator||!(2&this.player._compMap.Sprite_0._flags)||this.player._compMap.BobHero_33._bobGoToStair||this._ctx.isGameEnd||this._ctx.isPartFinishDoor||!this.leftKey&&!this.rightKey||"move"==this.player._compMap.BobHero_33.currentAction||(e=this.player._compMap.BobHero_33.bobSprite,this.player._compMap.BobHero_33.changeAction("move",e.x._value,e.y._value,this.playerDirection)),"move"==this.player._compMap.BobHero_33.currentAction&&(e=this.player._compMap.BobHero_33.bobSprite,"left"==this.playerDirection&&!this.checkLeftWall()&&!this.checkLeftSidedoor()&&(t=e.x).set__(t._value-this.PLAYER_SPEED),"right"==this.playerDirection&&!this.checkRightWall()&&!this.checkRightSidedoor()&&(e=e.x).set__(e._value+this.PLAYER_SPEED))},setTrap:function(){this.trapDoors.set_visible(!0),this.endDoors.set_visible(!1),this.exitTarget.showTarget(),this.monitorEnd.startShow(),this._walls.push(new J(306,383)),this._walls.push(new J(342,383));var e=(new ie).add(new $(this._ctx,"GuardB",65,88,0,350,this.objectsId));this._enemiesLayer.addChild(e),this.objectsId++,e=(new ie).add(new $(this._ctx,"GuardB",630,187,560,0,this.objectsId)),this._enemiesLayer.addChild(e),this.objectsId++,e=new ee(this._ctx,"Mummy",300,188,230,330,this.objectsId,"left"),this._enemiesLayer.addChild((new ie).add(e)),this.objectsId++,this.stopMusic(),this._gameMusic=this._ctx.pack.getSound("music/btb3_bossfight_v1").loop()},removeCrashWall:function(){this.crashDoors.set_visible(!1)},ActivateControl:function(){this.versionText=new He(new Be(this._ctx.pack,"fonts/Messages")),this.versionText.setXY(10,10),this._worldLayer.addChild((new ie).add(this.versionText)),this._ctx.controlActivated=!0},handleKeyUp:function(e){if(this._isComputerOnScreen||this._isNewGadgetOnScreen||this._isNoteOnScreen||this._isPadlockOnScreen||this._isWiresPanelOnScreen||this._isCodePanelOnScreen||this._isSPOnScreen||this._isHackPanelOnScreen||this.player._compMap.BobHero_33._bobMoveElevator||this.player._compMap.BobHero_33._bobGoToElevator||!(2&this.player._compMap.Sprite_0._flags)||this.player._compMap.BobHero_33._bobGoToStair||this._ctx.isGameEnd||this._ctx.isPartFinishDoor)"Left"!=R.string(e.key)+""&&"A"!=R.string(e.key)+""||(this.leftKey=!1),"Right"!=R.string(e.key)+""&&"D"!=R.string(e.key)+""||(this.rightKey=!1),"Up"!=R.string(e.key)+""&&"W"!=R.string(e.key)+""||(this.actionKey=!1),"Down"!=R.string(e.key)+""&&"S"!=R.string(e.key)+""||(this.downKey=!1),this._isCodePanelOnScreen&&("Number0"!=R.string(e.key)+""&&"Numpad0"!=R.string(e.key)+""||(this.digit0="up"),"Number1"!=R.string(e.key)+""&&"Numpad1"!=R.string(e.key)+""||(this.digit1="up"),"Number2"!=R.string(e.key)+""&&"Numpad2"!=R.string(e.key)+""||(this.digit2="up"),"Number3"!=R.string(e.key)+""&&"Numpad3"!=R.string(e.key)+""||(this.digit3="up"),"Number4"!=R.string(e.key)+""&&"Numpad4"!=R.string(e.key)+""||(this.digit4="up"),"Number5"!=R.string(e.key)+""&&"Numpad5"!=R.string(e.key)+""||(this.digit5="up"),"Number6"!=R.string(e.key)+""&&"Numpad6"!=R.string(e.key)+""||(this.digit6="up"),"Number7"!=R.string(e.key)+""&&"Numpad7"!=R.string(e.key)+""||(this.digit7="up"),"Number8"!=R.string(e.key)+""&&"Numpad8"!=R.string(e.key)+""||(this.digit8="up"),"Number9"!=R.string(e.key)+""&&"Numpad9"!=R.string(e.key)+""||(this.digit9="up"));else{var t=this.player._compMap.BobHero_33.bobSprite;"Left"!=R.string(e.key)+""&&"A"!=R.string(e.key)+""||(this.leftKey=!1,!this.leftKey&&!this.rightKey&&this.player._compMap.BobHero_33.changeAction("stay",t.x._value,t.y._value)),"Right"!=R.string(e.key)+""&&"D"!=R.string(e.key)+""||(this.rightKey=!1,!this.leftKey&&!this.rightKey&&this.player._compMap.BobHero_33.changeAction("stay",t.x._value,t.y._value)),"Up"!=R.string(e.key)+""&&"W"!=R.string(e.key)+""||(this.actionKey=this.isPlayerTryAction=!1),"Down"!=R.string(e.key)+""&&"S"!=R.string(e.key)+""||(this.downKey=!1)}},handleKeyDown:function(e){if(this._isComputerOnScreen||this._isNewGadgetOnScreen||this._isNoteOnScreen||this._isPadlockOnScreen||this._isWiresPanelOnScreen||this._isCodePanelOnScreen||this._isSPOnScreen||this._isHackPanelOnScreen||this.player._compMap.BobHero_33._bobMoveElevator||this.player._compMap.BobHero_33._bobGoToElevator||!(2&this.player._compMap.Sprite_0._flags)||this.player._compMap.BobHero_33._bobGoToStair||this._ctx.isGameEnd||this._ctx.isPartFinishDoor)"Left"==R.string(e.key)+""||"A"==R.string(e.key)+""?(this.rightKey&&(this.rightKey=!1),this.playerDirection="left",this.leftKey=!0,this._isNoteOnScreen&&this.closeMessage(),this._isCodePanelOnScreen&&this.codePanelActive&&this.closeCodePanel(),this._isComputerOnScreen&&this.closeComputerScreen(),this._isSPOnScreen&&1<this._ctx.currentLevelNumber&&(this.player._compMap.BobHero_33.currentPadlock._compMap.ChargeBase_6.CloseSaveMessage(),this.closeSaveMessage(),this.player._compMap.BobHero_33._bobGoToSave=!1)):"Right"==R.string(e.key)+""||"D"==R.string(e.key)+""?(this.leftKey&&(this.leftKey=!1),this.playerDirection="right",this.rightKey=!0,this._isNoteOnScreen&&this.closeMessage(),this._isCodePanelOnScreen&&this.codePanelActive&&this.closeCodePanel(),this._isComputerOnScreen&&this.closeComputerScreen(),this._isSPOnScreen&&1<this._ctx.currentLevelNumber&&(this.player._compMap.BobHero_33.currentPadlock._compMap.ChargeBase_6.CloseSaveMessage(),this.closeSaveMessage(),this.player._compMap.BobHero_33._bobGoToSave=!1)):"Up"==R.string(e.key)+""||"W"==R.string(e.key)+""?this.actionKey=!0:"Down"!=R.string(e.key)+""&&"S"!=R.string(e.key)+""||(this.downKey=!0),this._isCodePanelOnScreen&&("Number0"!=R.string(e.key)+""&&"Numpad0"!=R.string(e.key)+""||(this.digit0="down"),"Number1"!=R.string(e.key)+""&&"Numpad1"!=R.string(e.key)+""||(this.digit1="down"),"Number2"!=R.string(e.key)+""&&"Numpad2"!=R.string(e.key)+""||(this.digit2="down"),"Number3"!=R.string(e.key)+""&&"Numpad3"!=R.string(e.key)+""||(this.digit3="down"),"Number4"!=R.string(e.key)+""&&"Numpad4"!=R.string(e.key)+""||(this.digit4="down"),"Number5"!=R.string(e.key)+""&&"Numpad5"!=R.string(e.key)+""||(this.digit5="down"),"Number6"!=R.string(e.key)+""&&"Numpad6"!=R.string(e.key)+""||(this.digit6="down"),"Number7"!=R.string(e.key)+""&&"Numpad7"!=R.string(e.key)+""||(this.digit7="down"),"Number8"!=R.string(e.key)+""&&"Numpad8"!=R.string(e.key)+""||(this.digit8="down"),"Number9"!=R.string(e.key)+""&&"Numpad9"!=R.string(e.key)+""||(this.digit9="down"));else{var t=this.player._compMap.BobHero_33.bobSprite;"Left"==R.string(e.key)+""||"A"==R.string(e.key)+""?(this.rightKey&&(this.player._compMap.BobHero_33.changeAction("stay",t.x._value,t.y._value),this.rightKey=!1),this.playerDirection="left",this.leftKey=!0,1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[0]&&this._ctx.currentLevel.tutor.closeTip(1)):"Right"==R.string(e.key)+""||"D"==R.string(e.key)+""?(this.leftKey&&(this.player._compMap.BobHero_33.changeAction("stay",t.x._value,t.y._value),this.leftKey=!1),this.playerDirection="right",this.rightKey=!0,1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[0]&&this._ctx.currentLevel.tutor.closeTip(1)):"Up"!=R.string(e.key)+""&&"W"!=R.string(e.key)+""||0!=this.isPlayerTryAction?"Down"!=R.string(e.key)+""&&"S"!=R.string(e.key)+""||0!=this.downKey||(this.downKey=!0):this.isPlayerTryAction=this.actionKey=!0}},checkLeftWall:function(){for(var e=0,t=this._walls.length;e<t;){if(Math.abs(this._walls[e].px-this.player._compMap.BobHero_33.bobSprite.x._value)<30*this._ctx.currentScaleCoef&&this._walls[e].px<this.player._compMap.BobHero_33.bobSprite.x._value&&Math.abs(this._walls[e].py-this.player._compMap.BobHero_33.getY())<40*this._ctx.currentScaleCoef)return this.player._compMap.BobHero_33.changeAction("stay",this.player._compMap.BobHero_33.bobSprite.x._value,this.player._compMap.BobHero_33.bobSprite.y._value),!0;++e}return!1},checkRightWall:function(){for(var e=0,t=this._walls.length;e<t;){if(Math.abs(this._walls[e].px-this.player._compMap.BobHero_33.bobSprite.x._value)<30*this._ctx.currentScaleCoef&&this._walls[e].px>this.player._compMap.BobHero_33.bobSprite.x._value&&Math.abs(this._walls[e].py-this.player._compMap.BobHero_33.getY())<40*this._ctx.currentScaleCoef)return this.player._compMap.BobHero_33.changeAction("stay",this.player._compMap.BobHero_33.bobSprite.x._value,this.player._compMap.BobHero_33.bobSprite.y._value),!0;++e}return!1},checkLeftSidedoor:function(){for(var e=0,t=this._sidedoors.length;e<t;){if(Math.abs(this._sidedoors[e]._x-this.player._compMap.BobHero_33.bobSprite.x._value)<30*this._ctx.currentScaleCoef&&this._sidedoors[e]._x<this.player._compMap.BobHero_33.bobSprite.x._value&&Math.abs(this._sidedoors[e]._y-this.player._compMap.BobHero_33.getY())<40*this._ctx.currentScaleCoef&&"close"==this._sidedoors[e].isDoor)return this.player._compMap.BobHero_33.changeAction("stay",this.player._compMap.BobHero_33.bobSprite.x._value,this.player._compMap.BobHero_33.bobSprite.y._value),!0;++e}return!1},checkRightSidedoor:function(){for(var e=0,t=this._sidedoors.length;e<t;){if(Math.abs(this._sidedoors[e]._x-this.player._compMap.BobHero_33.bobSprite.x._value)<30*this._ctx.currentScaleCoef&&this._sidedoors[e]._x>this.player._compMap.BobHero_33.bobSprite.x._value&&Math.abs(this._sidedoors[e]._y-this.player._compMap.BobHero_33.getY())<40*this._ctx.currentScaleCoef&&"close"==this._sidedoors[e].isDoor)return this.player._compMap.BobHero_33.changeAction("stay",this.player._compMap.BobHero_33.bobSprite.x._value,this.player._compMap.BobHero_33.bobSprite.y._value),!0;++e}return!1},alertUp:function(){for(var e=0,t=this._cameras.length;e<t;)this._cameras[e].alertUp(),++e;this.globalState="alertTimer"},FindAndDeactivateObject:function(e){for(var t=0,i=this._lasers.length;t<i;){if(this._lasers[t].laserName==e){this._objectsLayer.removeChild(this._lasers[t].owner),this._lasers[t].deactivateLaser();break}++t}},FindAndOpenDoor:function(e){for(var t=0,i=this._stairs.length;t<i;){if(this._stairs[t].doorName==e){this._stairs[t].openDoor();break}++t}for(t=0,i=this._sidedoors.length;t<i;){if(this._sidedoors[t].doorName==e){this._sidedoors[t].openDoor();break}++t}for(t=0,i=this._elevators.length;t<i;){if(this._elevators[t].doorName==e){this._elevators[t].openDoors();break}++t}},FindStairToTeleport:function(e){for(var t=0,i=this._stairs.length;t<i;){if(!this._stairs[t].isStairFind&&this._stairs[t].groupID==e){this._currentStairNumber=t;break}++t}},TeleportBobToStair:function(e){this.player._compMap.Sprite_0.setXY(this._stairs[this._currentStairNumber]._spriteDoor.x._value,this._stairs[this._currentStairNumber]._spriteDoor.y._value+this._stairCoefY),"StairUp"==e&&this.player._compMap.Sprite_0.y.animate(this.player._compMap.Sprite_0.y._value-10*this._ctx.currentScaleCoef,this.player._compMap.Sprite_0.y._value,.4,be.linear),"StairDown"==e&&this.player._compMap.Sprite_0.y.animate(this.player._compMap.Sprite_0.y._value+10*this._ctx.currentScaleCoef,this.player._compMap.Sprite_0.y._value,.4,be.linear)},SetPlayerBack:function(){this.player._compMap.Sprite_0.set_visible(!1)},SetPlayerFront:function(){this._bobShadow.set_visible(!1),this._elevators[this._currentStairNumber].openDoor()},FindAndSendBobToElevator:function(e){for(var t=0,i=this._elevators.length;t<i;){if("open"==this._elevators[t].isDoor&&this._elevators[t].groupID==this._currentStairNumber){this._currentStairNumber=t;break}++t}this._elevators[this._currentStairNumber].closeDoor(),this._bobShadow.setXY(e,this.player._compMap.Sprite_0.y._value),this.player._compMap.Sprite_0.setXY(this._elevators[this._currentStairNumber]._elevatorBack.x._value,this._elevators[this._currentStairNumber]._elevatorBack.y._value+this._stairCoefY),this.moveToElevator(this._bobShadow.y._value,this._elevators[this._currentStairNumber]._elevatorBack.y._value+this._elevCoefY)},moveToElevator:function(e,t){this._bobShadow.set_visible(!0),this._startCoor=e,this._finishCoor=t,this._elevatorSpeed=this._startCoor<this._finishCoor?1.9*this._ctx.gameScale:-1.9*this._ctx.gameScale,this._timerElev=0,this._bobMove=!0},generateDoorCode:function(){var e=Math.floor(2*Math.random());return 0==e?"0"+(Math.floor(8*Math.random())+1)+(Math.floor(8*Math.random())+1)+"0":1==e?Math.floor(8*Math.random())+1+"0"+(Math.floor(8*Math.random())+1)+"0":2==e?"0"+(Math.floor(8*Math.random())+1)+"0"+(Math.floor(8*Math.random())+1):"0"+(Math.floor(8*Math.random())+1)+(Math.floor(8*Math.random())+1)+"0"},showMessage:function(e){for(var t="1111",i=0,s=this._codepads.length;i<s;){if(e==this._codepads[i].doorName){t=this._codepads[i].getPass(),this._codepads[i].seeIt=!0;break}++i}0==this._isNoteOnScreen&&(this._note=Zi.create(this._ctx,"Door code: \n",t),this._tipsLayer.addChild(this._note),this._isNoteOnScreen=!0,this._ctx.pack.getSound("sounds/open_paper").play())},closeMessage:function(){this._tipsLayer.removeChild(this._note),this._note.dispose(),this._isNoteOnScreen=!1,this._note=null},showNewGadget:function(e){0==this._isNewGadgetOnScreen&&(this._newGadget=Ji.create(this._ctx,e),this._tipsLayer.addChild(this._newGadget),this._isNewGadgetOnScreen=!0,this._ctx.pack.getSound("sounds/new_gadget").play())},closeNewGadget:function(){this._tipsLayer.removeChild(this._newGadget),this._newGadget.dispose(),this._isNewGadgetOnScreen=!1,this._newGadget=null},closeSaveMessage:function(){1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[5]&&this._ctx.currentLevel.tutor.closeTip(6),this._tipsLayer.removeChild(this._savePoint),this._savePoint.dispose(),this._isSPOnScreen=!1,this._savePoint=null},saveDoorCodes:function(){for(var e=0,t=this._codepads.length;e<t;)this._codepads[e].seeIt&&this._ctx.levelCodes.push(new C(this._codepads[e].doorName,this._codepads[e].getPass())),++e},showComputerScreen:function(e){for(var t="1111",i=0,s=this._codepads.length;i<s;){if(e==this._codepads[i].doorName){t=this._codepads[i].getPass(),this._codepads[i].seeIt=!0;break}++i}0==this._isComputerOnScreen&&(this._isComputerOnScreen=!0,e=new Hi(this._ctx,e,t),this._computerScreen=(new ie).add(e),this._tipsLayer.addChild(this._computerScreen),this._ctx.pack.getSound("sounds/computer_load").play())},closeComputerScreen:function(){this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!1,this._tipsLayer.removeChild(this._computerScreen),this._computerScreen.disposeChildren(),this._computerScreen.dispose(),this._isComputerOnScreen=!1,this._computerScreen=null},showCodePanel:function(e,t){if(0==this._isCodePanelOnScreen){this._isCodePanelOnScreen=this.codePanelActive=!0;var i=new Xi(this._ctx,e,t);this._codePanel=(new ie).add(i),this._tipsLayer.addChild(this._codePanel),this._ctx.pack.getSound("sounds/code_panel").play()}},closeCodePanel:function(){this._tipsLayer.removeChild(this._codePanel),this._codePanel.disposeChildren(),this._codePanel.dispose(),this._isCodePanelOnScreen=!1,this._codePanel=null},showHackPanel:function(e){0==this._isHackPanelOnScreen&&(this._isHackPanelOnScreen=!0,e=new Ki(this._ctx,e),this._hackPanel=(new ie).add(e),this._tipsLayer.addChild(this._hackPanel))},closeHackPanel:function(){this._tipsLayer.removeChild(this._hackPanel),this._hackPanel.disposeChildren(),this._hackPanel.dispose(),this._isHackPanelOnScreen=!1,this._hackPanel=null},showWiresPanel:function(e,t){0==this._isWiresPanelOnScreen&&(this._isWiresPanelOnScreen=!0,this.wPanel.setName(e,t),this._wiresPanel=(new ie).add(this.wPanel),this._tipsLayer.addChild(this._wiresPanel),this._ctx.pack.getSound("sounds/electric_cabinet_open").play())},closeWiresPanel:function(e){e&&this.player._compMap.BobHero_33.currentPadlock._compMap.Electric_39.electricOpen(),this._tipsLayer.removeChild(this._wiresPanel),this._wiresPanel.disposeChildren(),this._wiresPanel.dispose(),this._isWiresPanelOnScreen=!1,this._wiresPanel=null},showPadlock:function(e,t,i){0==this._isPadlockOnScreen&&(e=new Qi(this._ctx,e,t,i),this._padlock=(new ie).add(e),this._tipsLayer.addChild(this._padlock),this._isPadlockOnScreen=!0)},closePadlock:function(){this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!1,this._tipsLayer.removeChild(this._padlock),this._padlock.dispose(),this._isPadlockOnScreen=!1,this._padlock=null},gameOver:function(){this.stopMusic(),this._ctx.isGameEnd=!0,this.player._compMap.BobHero_33.changeAction("fear"),this._ctx.pack.getSound("sounds/alarm").play(1)},calcStars:function(){this._ctx.levelsStatus[this._ctx.currentLevelNumber-1]=2,10>this._ctx.currentLevelNumber&&(this._ctx.levelsStatus[this._ctx.currentLevelNumber]=1);var e=this._ctx.batteryCollected1+this._ctx.batteryCollected2+this._ctx.batteryCollected3;this._ctx.docsPickedOnLevel=e;var t=this._ctx.getStars(this.watch._value,this._ctx.currentLevelNumber);this._ctx.starsForLevelCompletedScreen=t,this._ctx.levelStars[this._ctx.currentLevelNumber-1]<t&&(this._ctx.levelStars[this._ctx.currentLevelNumber-1]=t),this._ctx.saveGameData(),e>this._ctx.batteriesInLevels[this._ctx.currentLevelNumber-1]&&(this._ctx.batteriesInLevels[this._ctx.currentLevelNumber-1]=e)},stopMusic:function(){this._gameMusic.dispose(),this.player._compMap.BobHero_33.removePlayer()},getXMLFromFile:function(){return 2==this._ctx.currentLevelPart?this._ctx.pack.getFile("level"+this._ctx.currentLevelNumber+"2.xml").toString():3==this._ctx.currentLevelPart?this._ctx.pack.getFile("level"+this._ctx.currentLevelNumber+"3.xml").toString():this._ctx.pack.getFile("level"+this._ctx.currentLevelNumber+".xml").toString()},__class__:T});var B=function(){this.length=0};s.List=B,B.__name__=["List"],B.prototype={add:function(e){e=[e],null==this.h?this.h=e:this.q[1]=e,this.q=e,this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var e=this.h[0];return this.h=this.h[1],e}}},__class__:B};var P=function(e){this._ctx=e};s.LogoMenu=P,P.__name__=["LogoMenu"],P.__super__=n,P.prototype=e(n.prototype,{get_name:function(){return"LogoMenu_35"},onAdded:function(){this._spriteBob=new Fe(this._ctx.pack.getTexture("gameLogo")),this.owner.add(this._spriteBob),this._spriteBob.setXY(.5*ue._platform.getStage().get_width(),.2*ue._platform.getStage().get_height()),this._spriteBob.centerAnchor(),this._spriteBob.setScale(this._ctx.gameScale)},onUpdate:function(){},__class__:P});var A=function(){};s.Main=A,A.__name__=["Main"],A.main=function(){loaderHelper.hide(),ue.init();var e=new Wt;ue.root.add(e);var t=we.fromAssets("preloader");ue._platform.loadAssetPack(t).get(function(t){ue.loadAssetPack(we.fromAssetsLocalized("locale")).get(function(i){var s=ue.loadAssetPack(we.fromAssets("main"));s.get(function(s){new y(s,i,e).enterHomeScene(!1),t.dispose()}),s=es.create(t,s),e.unwindToScene(s)})})};var E=function(){};s.IMap=E,E.__name__=["IMap"],Math.__name__=["Math"];var N=function(e,t,i,s,r){this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._messageAbout=s,this._doorName=r};s.Message=N,N.__name__=["Message"],N.__super__=n,N.prototype=e(n.prototype,{get_name:function(){return"Message_41"},onAdded:function(){var e=this._ctx.pack.getTexture("gameObjects/message");this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor()},onUpdate:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showMessage(this._doorName))),this.isStairFind=!1,Math.abs(this._spritePadlock.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spritePadlock.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonMessage"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",e._ctx.currentLevel.player._compMap.Sprite_0.x._value,e._ctx.currentLevel.player._compMap.Sprite_0.y._value),e._ctx.currentLevel.showMessage(e._doorName)})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},__class__:N});var D=function(e,t,i,s,r,a,n){this._isBalloonShow=!1,this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._doorName=s,this._direction=r,this._difLevel=a,this._objId=n};s.Padlock=D,D.__name__=["Padlock"],D.__super__=n,D.prototype=e(n.prototype,{get_name:function(){return"Padlock_40"},onAdded:function(){var e=this._ctx.pack.getTexture("gameObjects/padlock");if(this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor(),"left"==this._direction&&this._spritePadlock.scaleX.set__(-1*Math.abs(this._spritePadlock.scaleX._value)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this._objId==this.objectsForSave[e].eId){this.openDoorIfSave();break}++e}}},onUpdate:function(){var e,t=this;(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.actionKey=!1,2==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[7]&&this._ctx.currentLevel.tutor.closeTip(8),4==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[8]&&this._ctx.currentLevel.tutor.closeTip(9),this._ctx.haveLockpick&&(this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showPadlock(this._doorName,this._difLevel,this._objId),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=this._currentBalloon))),this.isStairFind=!1,Math.abs(this._spritePadlock.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<20*this._ctx.currentScaleCoef&&Math.abs(this._spritePadlock.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow))&&(this._isBalloonShow=!0,e=this._ctx.haveLockpick?new Fe(this._ctx.pack.getTexture("BalloonLockpick")):new Fe(this._ctx.pack.getTexture("BalloonNone")),1==this._ctx.currentLevelNumber&&0==this._ctx.currentLevel.tutor.tipsActivate[4]&&!this._ctx.haveLockpick&&this._ctx.currentLevel.tutor.showTip(5),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.haveLockpick&&e.get_pointerDown().connect(function(){t._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,t._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",t._ctx.currentLevel.player._compMap.Sprite_0.x._value,t._ctx.currentLevel.player._compMap.Sprite_0.y._value),t._ctx.currentLevel.showPadlock(t._doorName,t._difLevel,t._objId),t._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=t.owner,t._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=t._currentBalloon}));0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[4]&&!this._ctx.haveLockpick&&this._ctx.currentLevel.tutor.closeTip(5))},openDoorIfSave:function(){this._ctx.currentLevel.FindAndOpenDoor(this._doorName),this.owner.disposeChildren(),this.owner.dispose(),this.owner=null},__class__:D});var F=function(e,t,i,s,r){this._movieTimerStop=1,this._movieTimer=0,this._isBalloonShow=!1,this._ctx=t,this._stairName=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this.isDoor="close",this._part=r,this._targetX=i-20,this._targetY=s-20};s.PartDoor=F,F.__name__=["PartDoor"],F.__super__=n,F.prototype=e(n.prototype,{get_name:function(){return"PartDoor_16"},onAdded:function(){var e=new Fe(this._ctx.pack.getTexture("gameObjects/elevatorBack"));e.setScale(this._ctx.gameScale),e.setXY(this._x,this._y),e.centerAnchor(),this._ctx.currentLevel._backLayer.addChild((new ie).add(e)),this._bobElev=new Fe(this._ctx.pack.getTexture("BobElev")),this.owner.addChild((new ie).add(this._bobElev)),this._bobElev.setScale(this._ctx.gameScale),this._bobElev.setXY(this._x+3*this._ctx.currentScaleCoef,this._y),this._bobElev.centerAnchor(),this._bobElev.set_visible(!1),this._spriteDoor=new Fe(this._ctx.pack.getTexture("gameObjects/door1")),this.owner.addChild((new ie).add(this._spriteDoor)),this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor(),this._ctx.currentLevel.exitTarget=new v(this._ctx,this._targetX,this._targetY,"exit"),this._ctx.currentLevel._lightsLayer.addChild((new ie).add(this._ctx.currentLevel.exitTarget))},onUpdate:function(e){var t=this;"closeEnd"==this.isDoor&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.isDoor="done",this._ctx.levelTimer=this._ctx.currentLevel.watch._value,2==this._part&&(this._ctx.currentLevelPart=2,this._ctx.currentLevel.stopMusic(),this._ctx.currentLevel.restart.set__(!0),this._ctx.director.unwindToScene(this._ctx.currentGameScene),this._ctx.loadNextPartOfScene()),3==this._part&&(this._ctx.currentLevelPart=3,this._ctx.currentLevel.stopMusic(),this._ctx.currentLevel.restart.set__(!0),this._ctx.director.unwindToScene(this._ctx.currentGameScene),this._ctx.loadNextPartOfScene()))),"open"==this.isDoor&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.isDoor="done",this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("partIn",this._x,this._ctx.currentLevel.player._compMap.Sprite_0.y._value))),"openOut"==this.isDoor&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.isDoor="done",this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("partOut",this._x,this._y),this._bobElev.set_visible(!1),this._ctx.currentLevel.player._compMap.Sprite_0.set_visible(!0))),2&this._bobElev._flags&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0)),this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.batteriesInLevel=this._ctx.currentLevel.batery._value,this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,this._ctx.currentLevel.exitTarget.hideTarget(),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this.openDoor(),null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose()))),this.isStairFind=!1,Math.abs(this._spriteDoor.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spriteDoor.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"close"==this.isDoor&&!this._ctx.kickFirst&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&(this._isBalloonShow=!0,e=new Fe(this._ctx.pack.getTexture("BalloonStair")),this._currentBalloon=(new ie).add(e),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),e.setScale(this._ctx.gameScale),e.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),e.get_pointerDown().connect(function(){t._ctx.batteriesInLevel=t._ctx.currentLevel.batery._value,t._ctx.currentLevel.player._compMap.BobHero_33._bobBusy=!0,t._ctx.currentLevel.exitTarget.hideTarget(),t._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=t.owner,t.openDoor(),null!=t._currentBalloon&&(t._isBalloonShow=!1,t._ctx.currentLevel._plashkaLayer.removeChild(t._currentBalloon),t._currentBalloon.dispose())}))),0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())},openDoor:function(){this._ctx.isPartFinishDoor=!0,this.isDoor="open",this._movieTimer=0,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("yes2",this._x,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._spriteDoor.x.animate(this._x,this._x+60*this._ctx.currentScaleCoef,.5,be.linear),this._ctx.pack.getSound("sounds/final_door_open").play(1)},closeDoor:function(){this._movieTimer=0,this._movieTimerStop=2,this._ctx.currentLevel.player._compMap.Sprite_0.set_visible(!1),this._bobElev.set_visible(!0),this._spriteDoor.x.animate(this._x+60*this._ctx.currentScaleCoef,this._x,.5,be.linear),this.isDoor="closeEnd",this._ctx.pack.getSound("sounds/final_door_close").play(1)},closeDoorOut:function(){this._spriteDoor.x.animate(this._x+60*this._ctx.currentScaleCoef,this._x,.5,be.linear),this.isDoor="close",this._ctx.pack.getSound("sounds/final_door_close").play(1)},__class__:F});var I=function(){};s.Reflect=I,I.__name__=["Reflect"],I.field=function(e,t){try{return e[t]}catch(e){return null}},I.fields=function(e){var t=[];if(null!=e){var i,s=Object.prototype.hasOwnProperty;for(i in e)"__id__"!=i&&"hx__closures__"!=i&&s.call(e,i)&&t.push(i)}return t},I.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},I.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)};var X=function(e,t,i,s,r,a){this._switchCamera=this._seeEnemyLeft=this._seeEnemyRight=!1,this._timerWarning=this._timerSwitch=0,this._isChilled=!0,this._timerToChill=0,this._isBobInFocus=!1,this._cameraState="free",this.direction="right",this._ctx=e,this._x=t*this._ctx.gameScale,this._y=(i-12*e.gameMagnify)*this._ctx.gameScale,this._cameraDelay=s,this._viewL=this._x-r*this._ctx.gameScale,this._viewR=this._x+a*this._ctx.gameScale,this._timerCount=0};s.SecurityCamera=X,X.__name__=["SecurityCamera"],X.__super__=n,X.prototype=e(n.prototype,{get_name:function(){return"SecurityCamera_18"},onAdded:function(){var e=this,t=this._ctx.pack.getTexture("gameObjects/camera0001");this._sprite=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._sprite&&this.owner.add(this._sprite=new Fe(t)),this._sprite.texture=t,this._sprite.setScale(this._ctx.gameScale),this._sprite.setXY(this._x,this._y),(t=new ei).run(new $t(new ii([new Qt(this._cameraDelay),new Zt(function(){"free"==e._cameraState&&e._isChilled&&("left"==e.direction?(e._sprite.scaleX.set__(Math.abs(e._sprite.scaleX._value)),e._sprite.setXY(e._x-7*e._ctx.currentScaleCoef,e._y),e.direction="right"):(e._sprite.scaleX.set__(-1*Math.abs(e._sprite.scaleX._value)),e._sprite.setXY(e._x+7*e._ctx.currentScaleCoef,e._y),e.direction="left"),e._switchCamera=!0,e._sprite.texture=e._ctx.pack.getTexture("gameObjects/cameraFront"))})]))),this.owner.add(t),this._sign=new H(this._ctx,this._x,this._y-14*this._ctx.currentScaleCoef),this._ctx.currentLevel._screensLayer.addChild((new ie).add(this._sign))},onUpdate:function(e){"alertLaser"!=this._cameraState&&(this._switchCamera&&(this._timerSwitch+=e,.1<this._timerSwitch&&(this._switchCamera=!1,this._timerSwitch=0,"alert"==this._cameraState&&(this._sprite.texture=this._ctx.pack.getTexture("gameObjects/camera0003")))),"alert"==this._cameraState&&!this._isBobInFocus&&!this._switchCamera&&(this._timerCount+=e,.5<this._timerCount&&(this._timerCount=0,"left"==this.direction?(this._sprite.scaleX.set__(Math.abs(this._sprite.scaleX._value)),this._sprite.setXY(this._x-7*this._ctx.currentScaleCoef,this._y),this.direction="right"):(this._sprite.scaleX.set__(-1*Math.abs(this._sprite.scaleX._value)),this._sprite.setXY(this._x+7*this._ctx.currentScaleCoef,this._y),this.direction="left"),this._switchCamera=!0,this._sprite.texture=this._ctx.pack.getTexture("gameObjects/cameraFront"))),this._isChilled||(this._timerToChill+=e,1.5<this._timerToChill&&(this._timerToChill=0,this._isChilled=!0,this._sign.stopAction())),!(this.checkCameraLeftSide()||this.checkCameraRightSide()||this._seeEnemyLeft||this._seeEnemyRight)||this._switchCamera||this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow?(this._timerWarning=0,this._isBobInFocus=!1,"alert"==this._cameraState?this._ctx.currentLevel.globalState="alertTimer":this._switchCamera||this.resetCamera()):("free"==this._cameraState&&(this._cameraState="warning",this._sign.changeAction("_SignB"),this._sprite.texture=this._ctx.pack.getTexture("gameObjects/camera0002"),this._timerWarning+=this._timerToChill,this._isChilled=!1),"warning"==this._cameraState&&(this._timerWarning+=e,1.5<this._timerWarning&&(this._cameraState="alert",this._ctx.currentLevel.globalState="alert",this._ctx.isGameEnd||this._ctx.currentLevel.gameOver(),this._sign.changeAction("_SignA"),this._sprite.texture=this._ctx.pack.getTexture("gameObjects/camera0003"))),this._isBobInFocus=!0,this._ctx.currentLevel.talert.set__(5)))},checkCameraLeftSide:function(){return this._ctx.currentLevel.player._compMap.Sprite_0.x._value+15*this._ctx.currentScaleCoef<this._x&&Math.abs(this._ctx.currentLevel.player._compMap.BobHero_33.getY()-(this._y+25*this._ctx.currentScaleCoef))<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL&&"left"==this.direction},checkCameraRightSide:function(){return this._ctx.currentLevel.player._compMap.Sprite_0.x._value-30*this._ctx.currentScaleCoef>this._x&&Math.abs(this._ctx.currentLevel.player._compMap.BobHero_33.getY()-(this._y+25*this._ctx.currentScaleCoef))<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR&&"right"==this.direction},checkEnemyLeftSide:function(e){this._seeEnemyLeft=e+15*this._ctx.currentScaleCoef<this._x&&e>this._viewL&&"left"==this.direction},checkEnemyRightSide:function(e){this._seeEnemyRight=e-15*this._ctx.currentScaleCoef>this._x&&e<this._viewR&&"right"==this.direction},getYPos:function(){return this._y+25*this._ctx.currentScaleCoef},alertUp:function(){this._timerCount=0,this._sign.changeAction("_SignA"),this._cameraState="alertLaser",this._sprite.texture=this._ctx.pack.getTexture("gameObjects/camera0003"),this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._x?(this._sprite.scaleX.set__(-1*Math.abs(this._sprite.scaleX._value)),this._sprite.setXY(this._x-7*this._ctx.currentScaleCoef,this._y)):(this._sprite.scaleX.set__(Math.abs(this._sprite.scaleX._value)),this._sprite.setXY(this._x+7*this._ctx.currentScaleCoef,this._y))},resetCamera:function(){this._cameraState="free",this._sprite.texture=this._ctx.pack.getTexture("gameObjects/camera0001")},__class__:X});var Y=function(e,t,i,s){this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this._shadowWidth=s};s.Shadow=Y,Y.__name__=["Shadow"],Y.__super__=n,Y.prototype=e(n.prototype,{get_name:function(){return"Shadow_17"},onAdded:function(){var e=this._ctx.pack.getTexture("monitor/computer");this._spritePadlock=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spritePadlock&&this.owner.add(this._spritePadlock=new Fe(e)),this._spritePadlock.texture=e,this._spritePadlock.setScale(this._ctx.gameScale),this._spritePadlock.setXY(this._x,this._y),this._spritePadlock.centerAnchor()},onUpdate:function(){this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<this._shadowWidth*this._ctx.gameScale&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow&&"stay"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&!this._ctx.currentLevel.leftKey&&!this._ctx.currentLevel.rightKey&&(this.isStairFind=!0,this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("shadowIn"))},checkEnemyInShadow:function(){return Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<this._shadowWidth*this._ctx.gameScale},getYPos:function(){return this._y},__class__:Y});var O=function(e,t,i,s,r){this._ctx=e,this._x=t*this._ctx.gameScale,this._y=i*this._ctx.gameScale,this.isDoor=s,this.doorName=r};s.Sidedoor=O,O.__name__=["Sidedoor"],O.__super__=n,O.prototype=e(n.prototype,{get_name:function(){return"Sidedoor_12"},onAdded:function(){var e;e=7<this._ctx.currentLevelNumber?this._ctx.pack.getTexture("gameObjects/sidedoor2"):this._ctx.pack.getTexture("gameObjects/sidedoor"),this._spriteDoor=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spriteDoor&&this.owner.add(this._spriteDoor=new Fe(e)),this._spriteDoor.texture=e,this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor()},onUpdate:function(){},openDoor:function(){this.isDoor="open",this._ctx.currentLevel._objectsLayer.removeChild(this.owner),this.owner.disposeChildren(),this.owner.dispose()},__class__:O});var H=function(e,t,i){this._ctx=e,this._x=t,this._y=i};s.Sign=H,H.__name__=["Sign"],H.__super__=n,H.prototype=e(n.prototype,{get_name:function(){return"Sign_19"},onAdded:function(){var e=new ni(this._ctx.pack,"effectsAnim");this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.enemySprite.set_pointerEnabled(!1)},changeAction:function(e){"_SignB"==e&&this._ctx.pack.getSound("sounds/alert1").play(),"_SignA"==e&&this._ctx.pack.getSound("sounds/alert2").play(),this.enemySprite.set_visible(!0),this._moviePlayer.loop(e,!0)},stopAction:function(){this.enemySprite.set_visible(!1)},setCoor:function(e,t){this.enemySprite.setXY(e,t)},__class__:H});var j=function(e,t,i,s,r,a,n,o){this._isBalloonShow=!1,this._ctx=t,this._stairName=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this.groupID=r,this.isDoor=a,this.doorName=n,this._doorType=o};s.Stair=j,j.__name__=["Stair"],j.__super__=n,j.prototype=e(n.prototype,{get_name:function(){return"Stair_13"},onAdded:function(){var e;e="open"==this.isDoor?this._ctx.pack.getTexture(this._stairName):this._ctx.pack.getTexture("gameObjects/"+this._doorType),this._spriteDoor=R.instance(this.owner._compMap.Sprite_0,Fe),null==this._spriteDoor&&this.owner.add(this._spriteDoor=new Fe(e)),this._spriteDoor.texture=e,this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor()},onUpdate:function(){var e=this;if(this.isStairFind=!1,Math.abs(this._spriteDoor.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spriteDoor.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&"open"==this.isDoor&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy)){this._isBalloonShow=!0,this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair=!0,this._ctx.currentLevel.player._compMap.BobHero_33._stairGroupId=this.groupID,this._ctx.currentLevel.player._compMap.BobHero_33._stairName=this._stairName,this._ctx.currentLevel.player._compMap.BobHero_33._stairX=this._x,1==this._ctx.currentLevelNumber&&0==this._ctx.currentLevel.tutor.tipsActivate[1]&&this._ctx.currentLevel.tutor.showTip(2);var t=new Fe(this._ctx.pack.getTexture("BalloonStair"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody?e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):(e._ctx.currentLevel.FindStairToTeleport(e.groupID),e._ctx.currentLevel.player._compMap.BobHero_33.changeAction(e._stairName,e._x,e._ctx.currentLevel.player._compMap.Sprite_0.y._value)),14==e.groupID&&e._ctx.currentLevel.removeCrashWall(),null!=e._currentBalloon&&(e._isBalloonShow=!1,e._ctx.currentLevel._plashkaLayer.removeChild(e._currentBalloon),e._currentBalloon.dispose())})}this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),(this._ctx.currentLevel.isPlayerTryAction||this._ctx.currentLevel.downKey)&&"open"==this.isDoor&&(1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[1]&&this._ctx.currentLevel.tutor.closeTip(2),"cameraOn"==this.doorName&&1==this._ctx.currentLevelNumber&&this._ctx.currentLevel.tutor.closeTip(4),2==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[7]&&this._ctx.currentLevel.tutor.closeTip(8),4==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[8]&&this._ctx.currentLevel.tutor.closeTip(9),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody?this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):(this._ctx.currentLevel.FindStairToTeleport(this.groupID),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction(this._stairName,this._x,this._ctx.currentLevel.player._compMap.Sprite_0.y._value)),this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.currentLevel.downKey=!1,14==this.groupID&&this._ctx.currentLevel.removeCrashWall(),null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())),!this._ctx.currentLevel.isPlayerTryAction||"close"!=this.isDoor||"StairDoor2"!=this._doorType&&"StairDoor3"!=this._doorType||(this._ctx.currentLevel.isPlayerTryAction=!1,this._ctx.haveHackerKit&&(this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("stay",this._ctx.currentLevel.player._compMap.Sprite_0.x._value,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._ctx.currentLevel.showHackPanel(this.doorName),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=this._currentBalloon,null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())))),!this._ctx.currentLevel._isHackPanelOnScreen&&"close"==this.isDoor&&("StairDoor2"==this._doorType||"StairDoor3"==this._doorType)&&Math.abs(this._spriteDoor.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<15*this._ctx.currentScaleCoef&&Math.abs(this._spriteDoor.y._value-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&!this._ctx.kickFirst&&!this._ctx.isGameEnd&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&(this.isStairFind=!0,0==this._isBalloonShow&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobGoToStair&&(this._isBalloonShow=!0,t=this._ctx.haveHackerKit?new Fe(this._ctx.pack.getTexture("BalloonHackMonitor")):new Fe(this._ctx.pack.getTexture("BalloonNone")),this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._plashkaLayer.addChild(this._currentBalloon),t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.haveHackerKit&&t.get_pointerDown().connect(function(){e._ctx.currentLevel.showHackPanel(e.doorName),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon=e._currentBalloon,null!=e._currentBalloon&&(e._isBalloonShow=!1,e._ctx.currentLevel._plashkaLayer.removeChild(e._currentBalloon),e._currentBalloon.dispose())}))),0==this.isStairFind&&null!=this._currentBalloon&&(1==this._ctx.currentLevelNumber&&1==this._ctx.currentLevel.tutor.tipsActivate[1]&&(this._ctx.currentLevel.tutor.closeTip(2),this._ctx.currentLevel.tutor.tipsActivate[1]=0),this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair=!1)},removeBallon:function(){null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._plashkaLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair=!1)},openDoor:function(){var e;this.isDoor="open",e=this._ctx.pack.getTexture(this._stairName),this._spriteDoor=R.instance(this.owner._compMap.Sprite_0,Fe),this.owner.remove(this._spriteDoor),this.owner.add(this._spriteDoor=new Fe(e)),this._spriteDoor.texture=e,this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor()},__class__:j});var G=function(e,t,i,s){this._movieTimerStop=1,this._movieTimer=0,this._ctx=t,this._stairName=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this.isDoor="close"};s.StartDoor=G,G.__name__=["StartDoor"],G.__super__=n,G.prototype=e(n.prototype,{get_name:function(){return"StartDoor_7"},onAdded:function(){var e=new Fe(this._ctx.pack.getTexture("gameObjects/elevatorBack"));e.setScale(this._ctx.gameScale),e.setXY(this._x,this._y),e.centerAnchor(),this._ctx.currentLevel._backLayer.addChild((new ie).add(e)),this._bobElev=new Fe(this._ctx.pack.getTexture("BobElev")),this.owner.addChild((new ie).add(this._bobElev)),this._bobElev.setScale(this._ctx.gameScale),this._bobElev.setXY(this._x+3*this._ctx.currentScaleCoef,this._y),this._bobElev.centerAnchor(),this._spriteDoor=new Fe(this._ctx.pack.getTexture("gameObjects/door1")),this.owner.addChild((new ie).add(this._spriteDoor)),this._spriteDoor.setScale(this._ctx.gameScale),this._spriteDoor.setXY(this._x,this._y),this._spriteDoor.centerAnchor()},onUpdate:function(e){"open"==this.isDoor&&(this._movieTimer+=e,this._movieTimer>=this._movieTimerStop&&(this._movieTimer=0,this.isDoor="done",this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("beginLevel",this._x,this._ctx.currentLevel.player._compMap.Sprite_0.y._value),this._bobElev.set_visible(!1),this._ctx.currentLevel.player._compMap.Sprite_0.set_visible(!0)))},openDoor:function(){this.isDoor="open",this._spriteDoor.x.animate(this._x,this._x+60*this._ctx.currentScaleCoef,.5,be.linear),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.pack.getSound("sounds/final_door_open").play(1)},closeDoor:function(){this._spriteDoor.x.animate(this._x+60*this._ctx.currentScaleCoef,this._x,.5,be.linear),this._ctx.pack.getSound("sounds/final_door_close").play(1)},__class__:G});var R=function(){};s.Std=R,R.__name__=["Std"],R.is=function(e,t){return Fi.__instanceof(e,t)},R.instance=function(e,t){return e instanceof t?e:null},R.string=function(e){return Fi.__string_rec(e,"")},R.int=function(e){return 0|e},R.parseInt=function(e){var t=parseInt(e,10);return 0!=t||120!=k.cca(e,1)&&88!=k.cca(e,1)||(t=parseInt(e)),isNaN(t)?null:t},R.parseFloat=function(e){return parseFloat(e)};var W=function(){this.b=""};s.StringBuf=W,W.__name__=["StringBuf"],W.prototype={add:function(e){this.b+=R.string(e)},addSub:function(e,t,i){this.b=null==i?this.b+k.substr(e,t,null):this.b+k.substr(e,t,i)},__class__:W};var U=function(){};s.StringTools=U,U.__name__=["StringTools"],U.startsWith=function(e,t){return e.length>=t.length&&k.substr(e,0,t.length)==t},U.replace=function(e,t,i){return e.split(t).join(i)},U.fastCodeAt=function(e,t){return e.charCodeAt(t)};var K=s.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};K.TNull=["TNull",0],K.TNull.toString=r,K.TNull.__enum__=K,K.TInt=["TInt",1],K.TInt.toString=r,K.TInt.__enum__=K,K.TFloat=["TFloat",2],K.TFloat.toString=r,K.TFloat.__enum__=K,K.TBool=["TBool",3],K.TBool.toString=r,K.TBool.__enum__=K,K.TObject=["TObject",4],K.TObject.toString=r,K.TObject.__enum__=K,K.TFunction=["TFunction",5],K.TFunction.toString=r,K.TFunction.__enum__=K,K.TClass=function(e){return(e=["TClass",6,e]).__enum__=K,e.toString=r,e},K.TEnum=function(e){return(e=["TEnum",7,e]).__enum__=K,e.toString=r,e},K.TUnknown=["TUnknown",8],K.TUnknown.toString=r,K.TUnknown.__enum__=K;var z=function(){};s.Type=z,z.__name__=["Type"],z.getClass=function(e){return null==e?null:e instanceof Array&&null==e.__enum__?Array:e.__class__},z.getClassName=function(e){return e.__name__.join(".")},z.getEnumName=function(e){return e.__ename__.join(".")},z.resolveClass=function(e){return null!=(e=s[e])&&e.__name__?e:null},z.resolveEnum=function(e){return null!=(e=s[e])&&e.__ename__?e:null},z.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},z.createEnum=function(e,t,i){var s=I.field(e,t);if(null==s)throw"No such constructor "+t;if(I.isFunction(s)){if(null==i)throw"Constructor "+t+" need parameters";return s.apply(e,i)}if(null!=i&&0!=i.length)throw"Constructor "+t+" does not need parameters";return s},z.getEnumConstructs=function(e){return e.__constructs__.slice()},z.typeof=function(e){switch(typeof e){case"boolean":return K.TBool;case"string":return K.TClass(String);case"number":return Math.ceil(e)==e%2147483648?K.TInt:K.TFloat;case"object":if(null==e)return K.TNull;var t=e.__enum__;return null!=t?K.TEnum(t):null!=(e=e instanceof Array&&null==e.__enum__?Array:e.__class__)?K.TClass(e):K.TObject;case"function":return e.__name__||e.__ename__?K.TObject:K.TFunction;case"undefined":return K.TNull;default:return K.TUnknown}};var q=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};s.Vec2=q,q.__name__=["Vec2"],q.prototype={__class__:q};var V=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};s.Vector2=V,V.__name__=["Vector2"],V.prototype={__class__:V};var J=function(e,t){this.px=e,this.py=t};s.Wall=J,J.__name__=["Wall"],J.prototype={__class__:J},s.XmlType={__ename__:["XmlType"],__constructs__:[]};var Z=function(){};s.Xml=Z,Z.__name__=["Xml"],Z.parse=function(e){return Di.parse(e)},Z.createElement=function(e){var t=new Z;return t.nodeType=Z.Element,t._children=[],t._attributes=new Li,t.set_nodeName(e),t},Z.createPCData=function(e){var t=new Z;return t.nodeType=Z.PCData,t.set_nodeValue(e),t},Z.createCData=function(e){var t=new Z;return t.nodeType=Z.CData,t.set_nodeValue(e),t},Z.createComment=function(e){var t=new Z;return t.nodeType=Z.Comment,t.set_nodeValue(e),t},Z.createDocType=function(e){var t=new Z;return t.nodeType=Z.DocType,t.set_nodeValue(e),t},Z.createProcessingInstruction=function(e){var t=new Z;return t.nodeType=Z.ProcessingInstruction,t.set_nodeValue(e),t},Z.createDocument=function(){var e=new Z;return e.nodeType=Z.Document,e._children=[],e},Z.prototype={get_nodeName:function(){if(this.nodeType!=Z.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(e){if(this.nodeType!=Z.Element)throw"bad nodeType";return this._nodeName=e},set_nodeValue:function(e){if(this.nodeType==Z.Element||this.nodeType==Z.Document)throw"bad nodeType";return this._nodeValue=e},get:function(e){if(this.nodeType!=Z.Element)throw"bad nodeType";return this._attributes.get(e)},set:function(e,t){if(this.nodeType!=Z.Element)throw"bad nodeType";this._attributes.set(e,t)},exists:function(e){if(this.nodeType!=Z.Element)throw"bad nodeType";return this._attributes.exists(e)},elementsNamed:function(e){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var t=this.cur,i=this.x.length;t<i;){var s=this.x[t];if(s.nodeType==Z.Element&&s._nodeName==e)break;t++}return this.cur=t,t<i},next:function(){for(var t=this.cur,i=this.x.length;t<i;){var s=this.x[t];if(t++,s.nodeType==Z.Element&&s._nodeName==e)return this.cur=t,s}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var e=0,t=this._children.length;e<t;){var i=this._children[e];if(i.nodeType==Z.Element)return i;e++}return null},addChild:function(e){if(null==this._children)throw"bad nodetype";null!=e._parent&&k.remove(e._parent._children,e),e._parent=this,this._children.push(e)},__class__:Z};var Q=function(e,t,i,s,r,a,n){this._seeEnemyLeft=this._seeEnemyRight=!1,this._isChilled=!0,this._idleTimer=this._movieTimer=this._kickTimer=this._timerToChill=0,this._isKickoff=this._isBalloonShow=this.isStairFind=this._enemyIdle=!1,this._timerSwitch=this._timerWarning=this._timerKickoff=0,this._isBobInFocus=this._inShadow=!1,this._enemyState="free",this._direction="right",this.ENEMY_SPEED=1,this._ctx=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this._viewL=this._x-r*this._ctx.gameScale,this._viewR=this._x+a*this._ctx.gameScale,this._delay=3,this.enemyType=t,this.destroyed=new fi,this.ENEMY_SPEED*=this._ctx.gameScale,this.enemyId=n,this.isBoxCovered=!1};s["enemies.GuardA"]=Q,Q.__name__=["enemies","GuardA"],Q.__super__=n,Q.prototype=e(n.prototype,{get_name:function(){return"GuardA_28"},onAdded:function(){var e=new ni(this._ctx.pack,"guardAAnim");if(this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.movePointX=this._x,this.movePointY=this._y,this.changeAction("move"),this._sign=new H(this._ctx,this._x,this._y-34*this._ctx.currentScaleCoef),this._ctx.currentLevel._screensLayer.addChild((new ie).add(this._sign)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this.enemyId==this.objectsForSave[e].eId){this._isKickoff=!0,this.changeAction("savedead",this.objectsForSave[e].ePosX,this._y),this.objectsForSave[e].uBox?(this.isBoxCovered=!0,this.CoverTheBox()):this.checkShadows();break}++e}}},onUpdate:function(e){if(this._x=this.owner._compMap.Sprite_0.x._value,this._y=this.owner._compMap.Sprite_0.y._value,this._sign.setCoor(this._x,this._y-34*this._ctx.currentScaleCoef),!("dead"!=this.currentAction&&"savedead"!=this.currentAction||this._inShadow||this.isBoxCovered))for(var t=0,i=this._ctx.currentLevel._cameras.length;t<i;)Math.abs(this._y-this._ctx.currentLevel._cameras[t].getYPos())<30*this._ctx.currentScaleCoef&&(this._ctx.currentLevel._cameras[t].checkEnemyLeftSide(this._x),this._ctx.currentLevel._cameras[t].checkEnemyRightSide(this._x)),++t;for(t=0,i=this._ctx.levelGuards.length;t<i;)0==this._ctx.levelGuards[t].isCovered&&(this.checkEnemyLeftSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y),this.checkEnemyRightSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y)),++t;this.isBoxCovered||this.checkForBaloon(),this._isKickoff&&("kicked"==this.currentAction&&(this._kickTimer+=e,this._kickTimer>this._kickTimerStop&&this.changeAction("kickOff")),"dead"!=this.currentAction&&(this._timerKickoff+=e),.7<this._timerKickoff&&"kickOff"==this.currentAction&&this.changeAction("dead")),"stay"!=this.currentAction&&"idle2"!=this.currentAction||this._isKickoff||(this._timerSwitch+=e,1.5<this._timerSwitch&&"stay"==this.currentAction&&this.changeAction("idle2"),this._timerSwitch>this._delay&&(this._timerSwitch=0,this.changeAction("move"))),"move"==this.currentAction&&!this._isKickoff&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewR)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value+this.ENEMY_SPEED):(this._direction="left",this.IdleEnemy())),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewL)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value-this.ENEMY_SPEED):(this._direction="right",this.IdleEnemy()))),"warning"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._movieTimerStop=.4,this._isBobInFocus?this.changeAction("startTalk"):this.IdleEnemy())),"warningIdle"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._isBobInFocus?this.changeAction("shot"):(this._movieTimerStop=.4,this.changeAction("startTalk")))),"shot"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._isBobInFocus&&(this._movieTimerStop=.4,this.changeAction("warningEnd")))),"warningEnd"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,"alertTimer"==this._ctx.currentLevel.globalState?(this._movieTimerStop=.4,this.changeAction("startTalk")):this.IdleEnemy())),"startTalk"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.changeAction("talk"))),"endTalk"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.IdleEnemy())),"attentionIdle"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.IdleEnemy())),"silence"==this._ctx.currentLevel.globalState&&"alert"==this._enemyState&&this.resetEnemy(),this._isChilled||(this._timerToChill+=e,2<this._timerToChill&&(this._timerToChill=0,this._isChilled=!0,this._sign.stopAction())),(this.checkForBob()||this._seeEnemyLeft||this._seeEnemyRight)&&!this._isKickoff?(this._isBobInFocus=!0,this._ctx.currentLevel.talert.set__(5),"free"==this._enemyState&&(this._enemyState="warning",this._sign.changeAction("_SignB"),this.changeAction("attention"),this._timerWarning+=this._timerToChill,this._isChilled=!1),"warning"==this._enemyState&&(this._timerWarning+=e,1<this._timerWarning&&(this._enemyState="alert",this._ctx.currentLevel.globalState="alert",this._sign.changeAction("_SignA"),this._ctx.isGameEnd||this._ctx.currentLevel.gameOver(),this._movieTimerStop=.4,this.changeAction("warning"),this._ctx.pack.getSound("sounds/soldier_radio").play()))):(this._timerWarning=0,this._isBobInFocus&&(this._isBobInFocus=!1,"warning"==this._enemyState&&(this._movieTimerStop=.9,this.currentAction="attentionIdle",this._enemyState="free",this._moviePlayer.loop("_AttentionIdle",!1)),"alert"==this._enemyState&&(this._ctx.currentLevel.globalState="alertTimer",this.changeAction("warningEnd"))))},checkForBaloon:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,"GuardA"==this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover&&(this.isBoxCovered=!0,this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody&&this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardA",this.isStairFind=!1,null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())))),Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<20*this._ctx.currentScaleCoef&&Math.abs(this.enemySprite.y._value-this._ctx.currentLevel.player._compMap.Sprite_0.y._value)<40*this._ctx.currentScaleCoef&&!this._isKickoff&&"alert"!=this._enemyState&&("stay"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction||"move"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction)&&this.kickEnemy(),this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<24*this._ctx.currentScaleCoef&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&this._isKickoff&&this._ctx.haveBox&&!this._ctx.isGameEnd&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&(this.isStairFind=!0,0==this._isBalloonShow)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonBox"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._bulkheadLayer.addChild(this._currentBalloon),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!0,this._ctx.currentLevel.player._compMap.BobHero_33._currentEnemy=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardA",t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e.isBoxCovered=!0,e._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody&&e._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardA",e.isStairFind=!1,null!=e._currentBalloon&&(e._isBalloonShow=!1,e._ctx.currentLevel._bulkheadLayer.removeChild(e._currentBalloon),e._currentBalloon.dispose())})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!1)},kickEnemy:function(){this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("hit"),1==this._ctx.currentLevelNumber&&this._ctx.currentLevel.tutor.closeTip(7),this._isKickoff=!0,this._enemyState="free",this._ctx.kickFirst=!1,this.currentAction="kicked",this._timerWarning=this._timerSwitch=0,this._kickTimerStop=.2,this._ctx.addObjectsToSave(new b(this.enemyId,this._x,this.isBoxCovered)),this.checkShadows()},CoverTheBox:function(){if(this.isBoxCovered=!0,1==this._ctx.currentLevelPart)for(var e=0,t=this._ctx.tempObjectsForSave.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave[e].eId){this._ctx.tempObjectsForSave[e].uBox=!0;break}++e}if(2==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave2.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave2[e].eId){this._ctx.tempObjectsForSave2[e].uBox=!0;break}++e}if(3==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave3.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave3[e].eId){this._ctx.tempObjectsForSave3[e].uBox=!0;break}++e}for(this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this._sign.stopAction(),this.owner.add(e=new Fe(this._ctx.pack.getTexture("gameObjects/box"))),e.setScale(this._ctx.gameScale),e.centerAnchor(),e.setXY(this.enemySprite.x._value,this.enemySprite.y._value+2*this._ctx.currentScaleCoef),e=0,t=this._ctx.levelGuards.length;e<t;)this._ctx.levelGuards[e].guardId==this.enemyId&&(this._ctx.levelGuards[e].isCovered=!0),++e},checkShadows:function(){for(var e=0,t=this._ctx.currentLevel._shadows.length;e<t;){if(Math.abs(this._y-this._ctx.currentLevel._shadows[e].getYPos())<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel._shadows[e].checkEnemyInShadow(this._x)){this._inShadow=!0,this._ctx.currentLevel._enemiesLayer.removeChild(this.owner),this._ctx.currentLevel._objectsLayer.addChild(this.owner);break}++e}0==this._inShadow&&this._ctx.levelGuards.push(new S(this._x,this._y,this.enemyId))},resetEnemy:function(){this._isKickoff||(this._enemyState="free",this.IdleEnemy(),this._timerWarning=this._timerSwitch=0)},changeAction:function(e,t){null==t&&(t=0),this.currentAction=e,"move"==this.currentAction&&(this._moviePlayer.loop("_Walk",!1),"left"==this._direction&&this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),"right"==this._direction&&this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))),"kickOff"==this.currentAction&&(this._moviePlayer.loop("_Kicked",!0),this._ctx.pack.getSound("sounds/body_fall").play()),"dead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+8*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this._moviePlayer.loop("_Dead",!0)),"savedead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+8*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this.enemySprite.setXY(t,this.enemySprite.y._value),this._moviePlayer.loop("_Dead",!0)),"attention"==this.currentAction&&this._moviePlayer.loop("_Attention",!1),"warning"==this.currentAction&&this._moviePlayer.loop("_Warning",!1),"warningIdle"==this.currentAction&&this._moviePlayer.loop("_IdleWarning",!1),"idle2"==this.currentAction&&this._moviePlayer.loop("_Idle2",!1),"shot"==this.currentAction&&(this._movieTimerStop=.5,this._moviePlayer.loop("_Shot",!1)),"warningEnd"==this.currentAction&&(this._movieTimerStop=.5,this._moviePlayer.loop("_WarningEnd",!1)),"startTalk"==this.currentAction&&(this._movieTimerStop=.4,this._moviePlayer.loop("_StartTalk",!1)),"talk"==this.currentAction&&this._moviePlayer.loop("_Talk",!1)},checkEnemyLeftSide:function(e,t){e-20*this._ctx.gameScale<this._x&&e>this._viewL&&"left"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyLeft=!0,this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyLeft=!1},checkEnemyRightSide:function(e,t){e+20*this._ctx.gameScale>this._x&&e<this._viewR&&"right"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyRight=!0,this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyRight=!1},checkForBob:function(){if(this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow||this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy)return!1;if("stay"!=this.currentAction&&"left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),!0;if("stay"!=this.currentAction&&"right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),!0;if("attentionIdle"==this.currentAction){if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),this._direction="left",this.IdleEnemy(),!0;if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),this._direction="right",this.IdleEnemy(),!0}return!1},IdleEnemy:function(){this._enemyIdle=!0,this._idleTimer=0,this.currentAction="stay",this._moviePlayer.loop("_Idle",!1),this._ctx.pack.getSound("sounds/soldier_idle").play()},__class__:Q});var $=function(e,t,i,s,r,a,n){this._seeEnemyLeft=this._seeEnemyRight=!1,this._isChilled=!0,this._idleTimer=this._movieTimer=this._kickTimer=this._timerToChill=0,this._isKickoff=this._isBalloonShow=this.isStairFind=this._enemyIdle=!1,this._timerSwitch=this._timerWarning=this._timerKickoff=0,this._isBobInFocus=this._inShadow=!1,this._enemyState="free",this._direction="right",this.ENEMY_SPEED=.8,this._ctx=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this._viewL=this._x-r*this._ctx.gameScale,this._distanceR=this._viewR=this._x+a*this._ctx.gameScale,10==e.currentLevelNumber&&2==e.currentLevelPart&&(this._viewR=this._x+(a+150)*this._ctx.gameScale),this._delay=3,this.enemyType=t,this.destroyed=new fi,this.ENEMY_SPEED*=this._ctx.gameScale,this.enemyId=n,this.isBoxCovered=!1};s["enemies.GuardB"]=$,$.__name__=["enemies","GuardB"],$.__super__=n,$.prototype=e(n.prototype,{get_name:function(){return"GuardB_27"},onAdded:function(){var e=new ni(this._ctx.pack,"guardBAnim");if(this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.movePointX=this._x,this.movePointY=this._y,this.changeAction("move"),this._sign=new H(this._ctx,this._x,this._y-34*this._ctx.currentScaleCoef),this._ctx.currentLevel._screensLayer.addChild((new ie).add(this._sign)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this.enemyId==this.objectsForSave[e].eId){this._isKickoff=!0,this.changeAction("savedead",this.objectsForSave[e].ePosX,this._y),this.objectsForSave[e].uBox?(this.isBoxCovered=!0,this.CoverTheBox()):this.checkShadows();break}++e}}},onUpdate:function(e){if(this._x=this.owner._compMap.Sprite_0.x._value,this._y=this.owner._compMap.Sprite_0.y._value,this._sign.setCoor(this._x,this._y-34*this._ctx.currentScaleCoef),!("dead"!=this.currentAction&&"savedead"!=this.currentAction||this._inShadow||this.isBoxCovered))for(var t=0,i=this._ctx.currentLevel._cameras.length;t<i;)Math.abs(this._y-this._ctx.currentLevel._cameras[t].getYPos())<30*this._ctx.currentScaleCoef&&(this._ctx.currentLevel._cameras[t].checkEnemyLeftSide(this._x),this._ctx.currentLevel._cameras[t].checkEnemyRightSide(this._x)),++t;for(t=0,i=this._ctx.levelGuards.length;t<i;)0==this._ctx.levelGuards[t].isCovered&&(this.checkEnemyLeftSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y),this.checkEnemyRightSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y)),++t;this.isBoxCovered||this.checkForBaloon(),this._isKickoff&&("kicked"==this.currentAction&&(this._kickTimer+=e,this._kickTimer>this._kickTimerStop&&this.changeAction("kickOff")),"dead"!=this.currentAction&&(this._timerKickoff+=e),.7<this._timerKickoff&&"kickOff"==this.currentAction&&this.changeAction("dead")),"stay"!=this.currentAction&&"idle2"!=this.currentAction||this._isKickoff||(this._timerSwitch+=e,1.5<this._timerSwitch&&"stay"==this.currentAction&&this.changeAction("idle2"),this._timerSwitch>this._delay&&(this._timerSwitch=0,this.changeAction("move"))),"move"==this.currentAction&&!this._isKickoff&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._distanceR)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value+this.ENEMY_SPEED):(this._direction="left",this.IdleEnemy())),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewL)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value-this.ENEMY_SPEED):(this._direction="right",this.IdleEnemy()))),"warning"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._movieTimerStop=.4,this._isBobInFocus?this.changeAction("startTalk"):this.IdleEnemy())),"warningIdle"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._isBobInFocus?this.changeAction("shot"):(this._movieTimerStop=.4,this.changeAction("startTalk")))),"shot"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._isBobInFocus&&(this._movieTimerStop=.4,this.changeAction("warningEnd")))),"warningEnd"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,"alertTimer"==this._ctx.currentLevel.globalState?(this._movieTimerStop=.4,this.changeAction("startTalk")):this.IdleEnemy())),"startTalk"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.changeAction("talk"))),"endTalk"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.IdleEnemy())),"attentionIdle"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.IdleEnemy())),"silence"==this._ctx.currentLevel.globalState&&"alert"==this._enemyState&&this.resetEnemy(),this._isChilled||(this._timerToChill+=e,2<this._timerToChill&&(this._timerToChill=0,this._isChilled=!0,this._sign.stopAction())),(this.checkForBob()||this._seeEnemyLeft||this._seeEnemyRight)&&!this._isKickoff?(this._isBobInFocus=!0,this._ctx.currentLevel.talert.set__(5),"free"==this._enemyState&&(this._enemyState="warning",this._sign.changeAction("_SignB"),this.changeAction("attention"),this._timerWarning+=this._timerToChill,this._isChilled=!1),"warning"==this._enemyState&&(this._timerWarning+=e,1.3<this._timerWarning&&(this._enemyState="alert",this._ctx.currentLevel.globalState="alert",this._sign.changeAction("_SignA"),this._ctx.isGameEnd||this._ctx.currentLevel.gameOver(),this._movieTimerStop=.4,this.changeAction("warning"),this._ctx.pack.getSound("sounds/soldier_radio").play()))):(this._timerWarning=0,this._isBobInFocus&&(this._isBobInFocus=!1,"warning"==this._enemyState&&(this._movieTimerStop=.9,this.currentAction="attentionIdle",this._enemyState="free",this._moviePlayer.loop("_AttentionIdle",!1)),"alert"==this._enemyState&&(this._ctx.currentLevel.globalState="alertTimer",this.changeAction("warningEnd"))))},checkForBaloon:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,"GuardB"==this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover&&(this.isBoxCovered=!0,this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody&&this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardB",this.isStairFind=!1,null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())))),Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<20*this._ctx.currentScaleCoef&&Math.abs(this.enemySprite.y._value-this._ctx.currentLevel.player._compMap.Sprite_0.y._value)<40*this._ctx.currentScaleCoef&&!this._isKickoff&&"alert"!=this._enemyState&&this._ctx.haveShocker&&("stay"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction||"move"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction)&&this.kickEnemy(),this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<24*this._ctx.currentScaleCoef&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&this._isKickoff&&this._ctx.haveBox&&!this._ctx.isGameEnd&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&(this.isStairFind=!0,0==this._isBalloonShow)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonBox"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._bulkheadLayer.addChild(this._currentBalloon),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!0,this._ctx.currentLevel.player._compMap.BobHero_33._currentEnemy=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardB",t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e.isBoxCovered=!0,e._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody&&e._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="GuardB",e.isStairFind=!1,null!=e._currentBalloon&&(e._isBalloonShow=!1,e._ctx.currentLevel._bulkheadLayer.removeChild(e._currentBalloon),e._currentBalloon.dispose())})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!1)},kickEnemy:function(){this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("shock"),this._enemyState="free",this._ctx.kickFirst=!1,this._isKickoff=!0,this.currentAction="kicked",this._timerWarning=this._timerSwitch=0,this._kickTimerStop=.2,this._ctx.addObjectsToSave(new b(this.enemyId,this._x,this.isBoxCovered)),this.checkShadows()},resetEnemy:function(){this._isKickoff||(this._enemyState="free",this.IdleEnemy(),this._timerWarning=this._timerSwitch=0)},changeAction:function(e,t){null==t&&(t=0),this.currentAction=e,"move"==this.currentAction&&(this._moviePlayer.loop("_Walk",!1),"left"==this._direction&&this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),"right"==this._direction&&this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))),"kickOff"==this.currentAction&&(this._moviePlayer.loop("_Kicked",!0),this._ctx.pack.getSound("sounds/body_fall").play()),"dead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+8*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this._moviePlayer.loop("_Dead",!0)),"savedead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+8*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this.enemySprite.setXY(t,this.enemySprite.y._value),this._moviePlayer.loop("_Dead",!0)),"attention"==this.currentAction&&this._moviePlayer.loop("_Attention",!1),"warning"==this.currentAction&&this._moviePlayer.loop("_Attention",!1),"warningIdle"==this.currentAction&&this._moviePlayer.loop("_Attention",!1),"idle2"==this.currentAction&&this._moviePlayer.loop("_Idle2",!1),"shot"==this.currentAction&&(this._movieTimerStop=.5,this._moviePlayer.loop("_Shot",!1)),"warningEnd"==this.currentAction&&(this._movieTimerStop=.5,this._moviePlayer.loop("_AttentionIdle",!1)),"startTalk"==this.currentAction&&(this._movieTimerStop=.4,this._moviePlayer.loop("_StartTalk",!1)),"talk"==this.currentAction&&this._moviePlayer.loop("_Talk",!1)},checkEnemyLeftSide:function(e,t){e-20*this._ctx.gameScale<this._x&&e>this._viewL&&"left"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyLeft=!0,this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyLeft=!1},checkEnemyRightSide:function(e,t){e+20*this._ctx.gameScale>this._x&&e<this._viewR&&"right"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyRight=!0,this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyRight=!1},checkForBob:function(){if(this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow||this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy)return!1;if(Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-this._x)<40*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef&&!this._ctx.isGameEnd&&!this._isKickoff&&("left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._x||"right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._x)&&(this._enemyState="alert",this._ctx.currentLevel.globalState="alert",this._sign.changeAction("_SignA"),this._ctx.isGameEnd||this._ctx.currentLevel.gameOver(),this._movieTimerStop=.4,this.changeAction("warning")),"left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),!0;if("right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),!0;if("attentionIdle"==this.currentAction){if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),this._direction="left",this.IdleEnemy(),!0;if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),this._direction="right",this.IdleEnemy(),!0}return!1},CoverTheBox:function(){if(this.isBoxCovered=!0,1==this._ctx.currentLevelPart)for(var e=0,t=this._ctx.tempObjectsForSave.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave[e].eId){this._ctx.tempObjectsForSave[e].uBox=!0;break}++e}if(2==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave2.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave2[e].eId){this._ctx.tempObjectsForSave2[e].uBox=!0;break}++e}if(3==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave3.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave3[e].eId){this._ctx.tempObjectsForSave3[e].uBox=!0;break}++e}for(this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this._sign.stopAction(),this.owner.add(e=new Fe(this._ctx.pack.getTexture("gameObjects/box"))),e.setScale(this._ctx.gameScale),e.centerAnchor(),e.setXY(this.enemySprite.x._value,this.enemySprite.y._value+2*this._ctx.currentScaleCoef),e=0,t=this._ctx.levelGuards.length;e<t;)this._ctx.levelGuards[e].guardId==this.enemyId&&(this._ctx.levelGuards[e].isCovered=!0),++e},checkShadows:function(){for(var e=0,t=this._ctx.currentLevel._shadows.length;e<t;){if(Math.abs(this._y-this._ctx.currentLevel._shadows[e].getYPos())<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel._shadows[e].checkEnemyInShadow(this._x)){this._inShadow=!0,this._ctx.currentLevel._enemiesLayer.removeChild(this.owner),this._ctx.currentLevel._objectsLayer.addChild(this.owner);break}++e}0==this._inShadow&&this._ctx.levelGuards.push(new S(this._x,this._y,this.enemyId))},IdleEnemy:function(){this._enemyIdle=!0,this._idleTimer=0,this.currentAction="stay",this._moviePlayer.loop("_Idle",!1),this._ctx.pack.getSound("sounds/soldier_idle").play()},__class__:$});var ee=function(e,t,i,s,r,a,n,o){null==o&&(o="right"),this._isChilled=!0,this._idleTimer=this._timerToChill=0,this._isKickoff=this._enemyIdle=!1,this._timerSwitch=this._timerWarning=this._timerKickoff=this._movieTimer=0,this._isBobInFocus=this._inShadow=!1,this._enemyState="free",this._direction="right",this.ENEMY_SPEED=.6,this._ctx=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this._viewL=this._x-r*this._ctx.gameScale,this._viewR=this._x+a*this._ctx.gameScale,this._delay=3,this.enemyType=t,this.enemyId=n,this.destroyed=new fi,this._direction=o,this.ENEMY_SPEED*=this._ctx.gameScale,this._steps=this._ctx.pack.getSound("sounds/mummy_footsteps"),this._runSteps=this._ctx.pack.getSound("sounds/mummy_run"),this.isBoxCovered=this.mummyRuning=this.mummyWalking=!1};s["enemies.Mummy"]=ee,ee.__name__=["enemies","Mummy"],ee.__super__=n,ee.prototype=e(n.prototype,{get_name:function(){return"Mummy_29"},onAdded:function(){var e=new ni(this._ctx.pack,"mummyAnim");if(this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.movePointX=this._x,this.movePointY=this._y,this.changeAction("move"),this._sign=new H(this._ctx,this._x,this._y-34*this._ctx.currentScaleCoef),this._ctx.currentLevel._screensLayer.addChild((new ie).add(this._sign)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this.enemyId==this.objectsForSave[e].eId){this._isKickoff=!0,this.changeAction("savedead",this.objectsForSave[e].ePosX,this._y),this.objectsForSave[e].uBox?(this.isBoxCovered=!0,this.CoverTheBox()):this.checkShadows();break}++e}}},onUpdate:function(e){if(this._x=this.owner._compMap.Sprite_0.x._value,this._y=this.owner._compMap.Sprite_0.y._value,this._sign.setCoor(this._x,this._y-34*this._ctx.currentScaleCoef),("dead"==this.currentAction||"savedead"==this.currentAction)&&!this._inShadow)for(var t=0,i=this._ctx.currentLevel._cameras.length;t<i;)Math.abs(this._y-this._ctx.currentLevel._cameras[t].getYPos())<30*this._ctx.currentScaleCoef&&(this._ctx.currentLevel._cameras[t].checkEnemyLeftSide(this._x),this._ctx.currentLevel._cameras[t].checkEnemyRightSide(this._x)),++t;this.isBoxCovered||this.checkForBaloon(),this._isKickoff&&(this._timerKickoff+=e,.3<this._timerKickoff&&"kick"==this.currentAction&&(this.changeAction("kicked"),this._ctx.pack.getSound("sounds/body_fall").play()),.7<this._timerKickoff&&"kicked"==this.currentAction&&this.changeAction("dead"),1.4<this._timerKickoff&&"dead"==this.currentAction&&this.changeAction("comeBack"),1.8<this._timerKickoff&&(this._timerKickoff=0,this.enemySprite.setXY(this.enemySprite.x._value,this.enemySprite.y._value-4*this._ctx.currentScaleCoef),this._isKickoff=!1,this.IdleEnemy())),"stay"==this.currentAction&&!this._isKickoff&&(this._timerSwitch+=e,this._timerSwitch>this._delay&&(this._timerSwitch=0,this.changeAction("move"))),"move"==this.currentAction&&!this._isKickoff&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewR)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value+this.ENEMY_SPEED):(this._direction="left",this.IdleEnemy())),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewL)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value-this.ENEMY_SPEED):(this._direction="right",this.IdleEnemy()))),"hit"==this.currentAction&&!this._isKickoff&&(this._movieTimer+=e,"right"==this._direction&&(t=this.enemySprite.x).set__(t._value+this.ENEMY_SPEED),"left"==this._direction&&(t=this.enemySprite.x).set__(t._value-this.ENEMY_SPEED),this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._enemyState="free",this.IdleEnemy())),"run"==this.currentAction&&!this._isKickoff&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)>this.ENEMY_SPEED+30*this._ctx.currentScaleCoef?(t=this.enemySprite.x).set__(t._value+(this.ENEMY_SPEED+1)):this.changeAction("hit")),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)>this.ENEMY_SPEED+30*this._ctx.currentScaleCoef?(t=this.enemySprite.x).set__(t._value-(this.ENEMY_SPEED+1)):this.changeAction("hit"))),"gone"==this.currentAction&&!this._isKickoff&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._enemyState="free",this.IdleEnemy())),this._isChilled||(this._timerToChill+=e,2<this._timerToChill&&(this._timerToChill=0,this._isChilled=!0,this._sign.stopAction())),this.checkForBob()&&!this._isKickoff?("free"==this._enemyState&&(this._enemyState="warning",this._sign.changeAction("_SignB"),this.changeAction("scream"),this._ctx.pack.getSound("sounds/mummy_angry").play(),this._timerWarning+=this._timerToChill,this._isChilled=!1),"warning"==this._enemyState&&(this._timerWarning+=e,.6<this._timerWarning&&(this._enemyState="alert",this._timerWarning=0,this._enemyState="pursuit",this._sign.changeAction("_SignA"),this.changeAction("run"))),this._isBobInFocus=!0):(this._timerWarning=0,"warning"!=this._enemyState&&"alert"!=this._enemyState&&"pursuit"!=this._enemyState||"gone"==this.currentAction||(this.currentAction="gone",this._movieTimer=0,this._movieTimerStop=1.2,this._moviePlayer.loop("_JumpAttack",!1),this._ctx.pack.getSound("sounds/mummy_attack").play()),this._isBobInFocus=!1)},checkForBaloon:function(){Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<20*this._ctx.currentScaleCoef&&Math.abs(this.enemySprite.y._value-this._ctx.currentLevel.player._compMap.Sprite_0.y._value)<40*this._ctx.currentScaleCoef&&!this._isKickoff&&"alert"!=this._enemyState&&!this._ctx.isGameEnd&&("stay"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction||"move"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction)&&this.kickEnemy()},kickEnemy:function(){8==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&1==this._ctx.currentLevel.tutor.tipsActivate[9]&&this._ctx.currentLevel.tutor.closeTip(10),this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("hit"),this._ctx.kickFirst=!1,this._isKickoff=!0,this.currentAction="kick",this._timerWarning=this._timerSwitch=0,this._ctx.addObjectsToSave(new b(this.enemyId,this._x,this.isBoxCovered)),this.checkShadows()},CoverTheBox:function(){if(1==this._ctx.currentLevelPart)for(var e=0,t=this._ctx.tempObjectsForSave.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave[e].eId){this._ctx.tempObjectsForSave[e].uBox=!0;break}++e}if(2==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave2.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave2[e].eId){this._ctx.tempObjectsForSave2[e].uBox=!0;break}++e}if(3==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave3.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave3[e].eId){this._ctx.tempObjectsForSave3[e].uBox=!0;break}++e}this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this._sign.stopAction(),this.owner.add(e=new Fe(this._ctx.pack.getTexture("gameObjects/box"))),e.setScale(this._ctx.gameScale),e.centerAnchor(),e.setXY(this.enemySprite.x._value,this.enemySprite.y._value)},checkShadows:function(){for(var e=0,t=this._ctx.currentLevel._shadows.length;e<t;){if(Math.abs(this._y-this._ctx.currentLevel._shadows[e].getYPos())<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel._shadows[e].checkEnemyInShadow(this._x)){this._inShadow=!0;break}++e}},changeAction:function(e){this.currentAction=e,this.mummyWalking&&(this.mummyWalking=!1),this.mummyRuning&&(this.mummyRuning=!1),"move"==this.currentAction&&(this._moviePlayer.loop("_Walk",!1),"left"==this._direction&&this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),"right"==this._direction&&this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),this.mummyWalking||(this.mummyWalking=!0)),"kicked"==this.currentAction&&this._moviePlayer.loop("_Kicked",!1),"scream"==this.currentAction&&this._moviePlayer.loop("_Scream",!1),"run"==this.currentAction&&(this._moviePlayer.loop("_Run",!1),this.mummyRuning||(this.mummyRuning=!0)),"hit"==this.currentAction&&(this._movieTimerStop=1.2,this._moviePlayer.loop("_JumpAttack",!1),this._ctx.pack.getSound("sounds/mummy_attack").play(),this._ctx.currentLevel.gameOver()),"dead"==this.currentAction&&(this._moviePlayer.loop("_Dead",!1),this.enemySprite.setXY(this.enemySprite.x._value,this.enemySprite.y._value+4*this._ctx.currentScaleCoef)),"comeBack"==this.currentAction&&this._moviePlayer.loop("_ComeBack",!1)},checkForBob:function(){return!this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow&&(Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-this._x)<40*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef&&!this._ctx.isGameEnd&&!this._isKickoff&&("left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._x||"right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._x)&&(this._enemyState="alert",this._timerWarning=0,this._ctx.currentLevel.globalState="alert",this._enemyState="pursuit",this._sign.changeAction("_SignA"),this.changeAction("hit"),this._ctx.isGameEnd||this._ctx.currentLevel.gameOver(),this._movieTimerStop=.4,this.changeAction("warning")),"left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef?(this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),!0):"right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef&&(this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),!0))},IdleEnemy:function(){this.mummyWalking&&(this.mummyWalking=!1),this.mummyRuning&&(this.mummyRuning=!1),this._enemyIdle=!0,this._idleTimer=0,this._enemyState,this.currentAction="stay",this._moviePlayer.loop("_Idle",!1),this._ctx.pack.getSound("sounds/mummy_idle").play()},__class__:ee});var te=function(e,t,i,s,r,a,n,o,c){this._seeEnemyLeft=this._seeEnemyRight=!1,this._isChilled=!0,this._timerToChill=0,this._isDidWork=this._isPushButton=this._isCry=!1,this._idleTimer=this._movieTimer=this._kickTimer=0,this._isKickoff=this._isBalloonShow=this.isStairFind=this._enemyIdle=!1,this._timerSwitch=this._timerWarning=this._timerKickoff=0,this._isBobInFocus=this._inShadow=!1,this._enemyState="free",this._direction="right",this.ENEMY_SPEED=.6,this._ctx=e,this._x=i*this._ctx.gameScale,this._y=s*this._ctx.gameScale,this._viewL=this._x-r*this._ctx.gameScale,this._viewR=this._x+a*this._ctx.gameScale,this._busyPosX=o*this._ctx.gameScale,this._redButtonPosX=n*this._ctx.gameScale,this._delay=3,this.enemyType=t,this.destroyed=new fi,this.ENEMY_SPEED*=this._ctx.gameScale,this.enemyId=c,this.isBoxCovered=!1};s["enemies.Scientist"]=te,te.__name__=["enemies","Scientist"],te.__super__=n,te.prototype=e(n.prototype,{get_name:function(){return"Scientist_26"},onAdded:function(){var e=new ni(this._ctx.pack,"scientistAnim");if(this._moviePlayer=new oi(e),this.owner.add(this._moviePlayer),this.enemySprite=new Me,this.owner.add(this.enemySprite),this.enemySprite.setScale(this._ctx.gameScale),this.enemySprite.setXY(this._x,this._y),this.movePointX=this._x,this.movePointY=this._y,this.changeAction("move"),this._sign=new H(this._ctx,this._x,this._y-34*this._ctx.currentScaleCoef),this._ctx.currentLevel._screensLayer.addChild((new ie).add(this._sign)),!this._ctx.goNextPart){1==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave1),2==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave2),3==this._ctx.currentLevelPart&&(this.objectsForSave=this._ctx.objectsForSave3);e=0;for(var t=this.objectsForSave.length;e<t;){if(this.enemyId==this.objectsForSave[e].eId){this._isKickoff=!0,this.changeAction("savedead",this.objectsForSave[e].ePosX,this._y),this.objectsForSave[e].uBox?(this.isBoxCovered=!0,this.CoverTheBox()):this.checkShadows();break}++e}}},onUpdate:function(e){if(this._x=this.owner._compMap.Sprite_0.x._value,this._y=this.owner._compMap.Sprite_0.y._value,this._sign.setCoor(this._x,this._y-34*this._ctx.currentScaleCoef),!("dead"!=this.currentAction&&"savedead"!=this.currentAction||this._inShadow||this.isBoxCovered))for(var t=0,i=this._ctx.currentLevel._cameras.length;t<i;)Math.abs(this._y-this._ctx.currentLevel._cameras[t].getYPos())<30*this._ctx.currentScaleCoef&&(this._ctx.currentLevel._cameras[t].checkEnemyLeftSide(this._x),this._ctx.currentLevel._cameras[t].checkEnemyRightSide(this._x)),++t;for(t=0,i=this._ctx.levelGuards.length;t<i;)0==this._ctx.levelGuards[t].isCovered&&(this.checkEnemyLeftSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y),this.checkEnemyRightSide(this._ctx.levelGuards[t].x,this._ctx.levelGuards[t].y)),++t;this.isBoxCovered||this.checkForBaloon(),this._isKickoff&&("kicked"==this.currentAction&&(this._kickTimer+=e,this._kickTimer>this._kickTimerStop&&this.changeAction("kickOff")),"dead"!=this.currentAction&&(this._timerKickoff+=e),.6<this._timerKickoff&&"kickOff"==this.currentAction&&this.changeAction("dead")),"stay"!=this.currentAction&&"idle2"!=this.currentAction||this._isKickoff||(this._timerSwitch+=e,1.5<this._timerSwitch&&"stay"==this.currentAction&&this.changeAction("idle2"),this._timerSwitch>this._delay&&(this._timerSwitch=0,this.changeAction("move"))),"move"==this.currentAction&&!this._isKickoff&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewR)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value+this.ENEMY_SPEED):(this._direction="left",this._isDidWork=!1,this.IdleEnemy())),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewL)>this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value-this.ENEMY_SPEED):(this._direction="right",this._isDidWork=!1,this.IdleEnemy())),5>Math.abs(this._busyPosX-this.enemySprite.x._value)&&!this._isDidWork&&(this._isDidWork=!0,this.changeAction("busy"))),"attentionIdle"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.currentAction="attentionIdle2",this._enemyState="free",this._moviePlayer.loop("_AttentionIdle",!1))),"attentionIdle2"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimerStop=.8,this._movieTimer=0,this.IdleEnemy())),"busy"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.IdleEnemy())),"busyRedButton"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this._ctx.isGameEnd||this._ctx.currentLevel.gameOver())),"alert"==this._enemyState&&!this._isKickoff&&!this._isPushButton&&!this._isCry&&("right"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewR)>2*this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value+2*this.ENEMY_SPEED):(this._direction="left",this._isCry=!0,this.changeAction("startCry"))),"left"==this._direction&&(Math.abs(this.enemySprite.x._value-this._viewL)>2*this.ENEMY_SPEED?(t=this.enemySprite.x).set__(t._value-2*this.ENEMY_SPEED):(this._direction="right",this._isCry=!0,this.changeAction("startCry"))),5>Math.abs(this._redButtonPosX-this.enemySprite.x._value)&&(this._isPushButton=!0,this._ctx.currentLevel.globalState="alert",this.changeAction("busyRedButton"))),"startCry"==this.currentAction&&(this._movieTimer+=e,this._movieTimer>this._movieTimerStop&&(this._movieTimer=0,this.changeAction("cry"))),this._isChilled||(this._timerToChill+=e,2<this._timerToChill&&(this._timerToChill=0,this._isChilled=!0,this._sign.stopAction())),(this.checkForBob()||this._seeEnemyLeft||this._seeEnemyRight)&&!this._isKickoff?(this._isBobInFocus=!0,this._ctx.currentLevel.talert.set__(5),"free"==this._enemyState&&(this._enemyState="warning",this._sign.changeAction("_SignB"),this.changeAction("attention"),this._timerWarning+=this._timerToChill,this._isChilled=!1),"warning"==this._enemyState&&(this._timerWarning+=e,1<this._timerWarning&&(this._enemyState="alert",this._sign.changeAction("_SignA"),this.setAlertDirection(),this._movieTimerStop=.4,this.changeAction("alert")))):(this._timerWarning=0,this._isBobInFocus&&(this._isBobInFocus=!1,"warning"==this._enemyState&&(this._movieTimerStop=.6,this.currentAction="attentionIdle",this._enemyState="free",this._moviePlayer.loop("_AttentionIdle2",!1)),"alert"==this._enemyState&&(this._isCry=!1,this._ctx.currentLevel.globalState="alertTimer",this._sign.changeAction("_SignA"),this.setAlertDirection(),this.changeAction("alert"))))},checkForBaloon:function(){var e=this;if(this._isBalloonShow&&null!=this._currentBalloon&&(R.instance(this._currentBalloon._compMap.Sprite_0,Fe).setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),this._ctx.currentLevel.isPlayerTryAction&&(this._ctx.currentLevel.isPlayerTryAction=!1,"Scientist"==this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover&&(this.isBoxCovered=!0,this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody&&this._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="Scientist",this.isStairFind=!1,null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose())))),Math.abs(this.enemySprite.x._value-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<20*this._ctx.currentScaleCoef&&Math.abs(this.enemySprite.y._value-this._ctx.currentLevel.player._compMap.Sprite_0.y._value)<40*this._ctx.currentScaleCoef&&!this._isKickoff&&"alert"!=this._ctx.currentLevel.globalState&&("stay"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction||"move"==this._ctx.currentLevel.player._compMap.BobHero_33.currentAction)&&this.kickEnemy(),this.isStairFind=!1,Math.abs(this._x-this._ctx.currentLevel.player._compMap.Sprite_0.x._value)<24*this._ctx.currentScaleCoef&&Math.abs(this._y-this._ctx.currentLevel.player._compMap.BobHero_33.getY())<30*this._ctx.currentScaleCoef&&this._isKickoff&&this._ctx.haveBox&&!this._ctx.isGameEnd&&!this._ctx.currentLevel.player._compMap.BobHero_33._bobBusy&&(this.isStairFind=!0,0==this._isBalloonShow)){this._isBalloonShow=!0;var t=new Fe(this._ctx.pack.getTexture("BalloonBox"));this._currentBalloon=(new ie).add(t),this._ctx.currentLevel._bulkheadLayer.addChild(this._currentBalloon),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!0,this._ctx.currentLevel.player._compMap.BobHero_33._currentEnemy=this.owner,this._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="Scientist",t.setScale(this._ctx.gameScale),t.setXY(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-18*this._ctx.currentScaleCoef,this._ctx.currentLevel.player._compMap.Sprite_0.y._value-70*this._ctx.currentScaleCoef),t.get_pointerDown().connect(function(){e.isBoxCovered=!0,e._ctx.currentLevel.player._compMap.BobHero_33._isNearStair?e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setboxGostair"):e._ctx.currentLevel.player._compMap.BobHero_33.changeAction("setbox"),e._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=e.owner,e._ctx.currentLevel.player._compMap.BobHero_33._enemyNameCover="Scientist",e.isStairFind=!1,null!=e._currentBalloon&&(e._isBalloonShow=!1,e._ctx.currentLevel._bulkheadLayer.removeChild(e._currentBalloon),e._currentBalloon.dispose())})}0==this.isStairFind&&null!=this._currentBalloon&&(this._isBalloonShow=!1,this._ctx.currentLevel._bulkheadLayer.removeChild(this._currentBalloon),this._currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33._isNearEnemyBody=!1)},kickEnemy:function(){this._ctx.currentLevel.player._compMap.BobHero_33.changeAction("hit"),this._enemyState="free",this._ctx.kickFirst=!1,this._isKickoff=!0,this.currentAction="kicked",this._timerWarning=this._timerSwitch=0,this._kickTimerStop=.2,this._ctx.addObjectsToSave(new b(this.enemyId,this._x,this.isBoxCovered)),this.checkShadows()},CoverTheBox:function(){if(this.isBoxCovered=!0,1==this._ctx.currentLevelPart)for(var e=0,t=this._ctx.tempObjectsForSave.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave[e].eId){this._ctx.tempObjectsForSave[e].uBox=!0;break}++e}if(2==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave2.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave2[e].eId){this._ctx.tempObjectsForSave2[e].uBox=!0;break}++e}if(3==this._ctx.currentLevelPart)for(e=0,t=this._ctx.tempObjectsForSave3.length;e<t;){if(this.enemyId==this._ctx.tempObjectsForSave3[e].eId){this._ctx.tempObjectsForSave3[e].uBox=!0;break}++e}for(this.owner.remove(this._moviePlayer),this._moviePlayer.dispose(),this._sign.stopAction(),this.owner.add(e=new Fe(this._ctx.pack.getTexture("gameObjects/box"))),e.setScale(this._ctx.gameScale),e.centerAnchor(),e.setXY(this.enemySprite.x._value,this.enemySprite.y._value+2*this._ctx.currentScaleCoef),e=0,t=this._ctx.levelGuards.length;e<t;)this._ctx.levelGuards[e].guardId==this.enemyId&&(this._ctx.levelGuards[e].isCovered=!0),++e},checkShadows:function(){for(var e=0,t=this._ctx.currentLevel._shadows.length;e<t;){if(Math.abs(this._y-this._ctx.currentLevel._shadows[e].getYPos())<30*this._ctx.currentScaleCoef&&this._ctx.currentLevel._shadows[e].checkEnemyInShadow(this._x)){this._inShadow=!0,this._ctx.currentLevel._enemiesLayer.removeChild(this.owner),this._ctx.currentLevel._objectsLayer.addChild(this.owner);break}++e}0==this._inShadow&&this._ctx.levelGuards.push(new S(this._x,this._y,this.enemyId))},changeAction:function(e,t){null==t&&(t=0),this.currentAction=e,"move"==this.currentAction&&(this._moviePlayer.loop("_Walk",!1),"left"==this._direction&&this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),"right"==this._direction&&this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))),"kickOff"==this.currentAction&&(this._moviePlayer.loop("_Kicked",!0),this._ctx.pack.getSound("sounds/body_fall").play()),"dead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+5*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this._moviePlayer.loop("_Dead",!0)),"savedead"==this.currentAction&&(this.enemySprite.y.set__(this.enemySprite.y._value+5*this._ctx.currentScaleCoef),this._sign.changeAction("_SignC"),this.enemySprite.setXY(t,this.enemySprite.y._value),this._moviePlayer.loop("_Dead",!0)),"attention"==this.currentAction&&this._moviePlayer.loop("_Attention",!1),"alert"==this.currentAction&&this._moviePlayer.loop("_Alert",!1),"idle2"==this.currentAction&&this._moviePlayer.loop("_Idle2",!1),"busy"==this.currentAction&&(this._movieTimerStop=3,this._moviePlayer.loop("_Busy",!0)),"busyRedButton"==this.currentAction&&(this._movieTimerStop=.5,this._moviePlayer.loop("_Busy",!0)),"startCry"==this.currentAction&&(this._movieTimerStop=.4,this._moviePlayer.loop("_StartCry",!0)),"cry"==this.currentAction&&this._moviePlayer.loop("_Cry",!0)},checkEnemyLeftSide:function(e,t){e-20*this._ctx.gameScale<this._x&&e>this._viewL&&"left"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyLeft=!0,this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyLeft=!1},checkEnemyRightSide:function(e,t){e+20*this._ctx.gameScale>this._x&&e<this._viewR&&"right"==this._direction&&Math.abs(this._y-t)<30*this._ctx.currentScaleCoef?(this._seeEnemyRight=!0,this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))):this._seeEnemyRight=!1},checkForBob:function(){if(this._ctx.currentLevel.player._compMap.BobHero_33._bobInShadow)return!1;if(Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.x._value-this._x)<40*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef&&"move"!=this.currentAction&&!this._isKickoff&&"alert"!=this._enemyState&&(this._enemyState="alert",this._sign.changeAction("_SignA"),this.setAlertDirection(),this._movieTimerStop=.4,this.changeAction("alert")),"stay"!=this.currentAction&&"left"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),!0;if("stay"!=this.currentAction&&"right"==this._direction&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),!0;if("attentionIdle2"==this.currentAction){if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this._viewL-10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)),this._direction="left",this.IdleEnemy(),!0;if(this._ctx.currentLevel.player._compMap.Sprite_0.x._value>this.enemySprite.x._value&&this._ctx.currentLevel.player._compMap.Sprite_0.x._value<this._viewR+10*this._ctx.currentScaleCoef&&Math.abs(this._ctx.currentLevel.player._compMap.Sprite_0.y._value-this._y)<40*this._ctx.currentScaleCoef)return this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value)),this._direction="right",this.IdleEnemy(),!0}return!1},IdleEnemy:function(){this._enemyIdle=!0,this._idleTimer=0,this.currentAction="stay",this._moviePlayer.loop("_Idle",!1),this._ctx.pack.getSound("sounds/soldier_idle").play()},setAlertDirection:function(){this.bobDistance=Math.abs(this._ctx.currentLevel.player._compMap.BobHero_33.bobSprite.x._value-this._x),this.redButtonDistance=Math.abs(this._redButtonPosX-this._x),this.deltaDistance=Math.abs(this.bobDistance-this.redButtonDistance),this._redButtonPosX<this._x&&(this.redButtonSide="left"),this._redButtonPosX>this._x&&(this.redButtonSide="right"),this._ctx.currentLevel.player._compMap.BobHero_33.bobSprite.x._value<this._x&&(this.bobSide="left"),this._ctx.currentLevel.player._compMap.BobHero_33.bobSprite.x._value>this._x&&(this.bobSide="right"),("left"==this.bobSide&&"right"==this.redButtonSide||"left"==this.bobSide&&"left"==this.redButtonSide&&this.redButtonDistance>this.bobDistance||"right"==this.bobSide&&"right"==this.redButtonSide&&this.redButtonDistance<this.bobDistance)&&(this._direction="right",this.enemySprite.scaleX.set__(Math.abs(this.enemySprite.scaleX._value))),("right"==this.bobSide&&"left"==this.redButtonSide||"left"==this.bobSide&&"left"==this.redButtonSide&&this.redButtonDistance<this.bobDistance||"right"==this.bobSide&&"right"==this.redButtonSide&&this.redButtonDistance>this.bobDistance)&&(this._direction="left",this.enemySprite.scaleX.set__(-1*Math.abs(this.enemySprite.scaleX._value)))},__class__:te});var ie=function(){this.parent=this.firstChild=this.next=this.firstComponent=null,this._compMap={}};s["flambe.Entity"]=ie,ie.__name__=["flambe","Entity"],ie.__interfaces__=[a],ie.prototype={add:function(e){null!=e.owner&&e.owner.remove(e);var t=e.get_name(),i=this._compMap[t];for(null!=i&&this.remove(i),this._compMap[t]=e,t=null,i=this.firstComponent;null!=i;)t=i,i=i.next;return null!=t?t.next=e:this.firstComponent=e,e.owner=this,e.next=null,e.onAdded(),this},remove:function(e){for(var t=null,i=this.firstComponent;null!=i;){var s=i.next;if(i==e)return null==t?this.firstComponent=s:(t.owner=this,t.next=s),delete this._compMap[i.get_name()],!!(1&i._flags)&&(i.onStop(),i._flags&=-2),i.onRemoved(),i.owner=null,i.next=null,!0;t=i,i=s}return!1},addChild:function(e,t){if(null==t&&(t=!0),null!=e.parent&&e.parent.removeChild(e),e.parent=this,t){for(var i=null,s=this.firstChild;null!=s;)i=s,s=s.next;null!=i?i.next=e:this.firstChild=e}else e.next=this.firstChild,this.firstChild=e;return this},removeChild:function(e){for(var t=null,i=this.firstChild;null!=i;){var s=i.next;if(i==e){null==t?this.firstChild=s:t.next=s,i.parent=null,i.next=null;break}t=i,i=s}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:ie};var se=function(){};s["flambe.util.PackageLog"]=se,se.__name__=["flambe","util","PackageLog"];var re=function(){};s["flambe.platform.Platform"]=re,re.__name__=["flambe","platform","Platform"],re.prototype={__class__:re};var ae=function(){};s["flambe.platform.html.HtmlPlatform"]=ae,ae.__name__=["flambe","platform","html","HtmlPlatform"],ae.__interfaces__=[re],ae.prototype={init:function(){var e=this;jt.fixAndroidMath();var t=null;try{t=window.flambe.canvas}catch(e){}t.setAttribute("tabindex","0"),t.style.outlineStyle="none",t.style.webkitTapHighlightColor="transparent",t.setAttribute("moz-opaque","true"),this._stage=new Ot(t),this._pointer=new ot,this._mouse=new Ft(this._pointer,t),this._renderer=this.createRenderer(t),this.mainLoop=new kt,this.musicPlaying=!1,this._canvas=t,this._container=t.parentElement,this._container.style.overflow="hidden",this._container.style.position="relative",this._container.style.msTouchAction="none";var i=0,s=function(s){if(!(1e3>s.timeStamp-i)){var r=t.getBoundingClientRect(),a=e.getX(s,r);r=e.getY(s,r);switch(s.type){case"mousedown":s.target==t&&(s.preventDefault(),e._mouse.submitDown(a,r,s.button),t.focus());break;case"mousemove":e._mouse.submitMove(a,r);break;case"mouseup":e._mouse.submitUp(a,r,s.button);break;case"mousewheel":case"DOMMouseScroll":e._mouse.submitScroll(a,r,"mousewheel"==s.type?s.wheelDelta/40:-s.detail)&&s.preventDefault()}}};window.addEventListener("mousedown",s,!1),window.addEventListener("mousemove",s,!1),window.addEventListener("mouseup",s,!1),t.addEventListener("mousewheel",s,!1),t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener("contextmenu",function(e){e.preventDefault()},!1);var r=void 0!==window.ontouchstart;s="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(r||s){var a=new _t(this._pointer,r?4:window.navigator.msMaxTouchPoints);this._touch=a,s=function(t){var s;s=r?t.changedTouches:[t];var n=t.target.getBoundingClientRect();switch(i=t.timeStamp,t.type){case"touchstart":case"MSPointerDown":case"pointerdown":for(t.preventDefault(),jt.SHOULD_HIDE_MOBILE_BROWSER&&jt.hideMobileBrowser(),t=0;t<s.length;){var o=s[t];++t;var c=e.getX(o,n),h=e.getY(o,n);a.submitDown(0|(r?o.identifier:o.pointerId),c,h)}break;case"touchmove":case"MSPointerMove":case"pointermove":for(t.preventDefault(),t=0;t<s.length;)o=s[t],++t,c=e.getX(o,n),h=e.getY(o,n),a.submitMove(0|(r?o.identifier:o.pointerId),c,h);break;case"touchend":case"touchcancel":case"MSPointerUp":case"pointerup":for(t=0;t<s.length;)o=s[t],++t,c=e.getX(o,n),h=e.getY(o,n),a.submitUp(0|(r?o.identifier:o.pointerId),c,h)}},r?(t.addEventListener("touchstart",s,!1),t.addEventListener("touchmove",s,!1),t.addEventListener("touchend",s,!1),t.addEventListener("touchcancel",s,!1)):(t.addEventListener("MSPointerDown",s,!1),t.addEventListener("MSPointerMove",s,!1),t.addEventListener("MSPointerUp",s,!1))}else this._touch=new vt;var n=window.onerror;window.onerror=function(e,t,i){return ue.uncaughtError.emit(e),null!=n&&n(e,t,i)};var o=jt.loadExtension("hidden",window.document);null!=o.value?((s=function(){ue.hidden.set__(I.field(window.document,o.field))})(null),window.document.addEventListener(o.prefix+"visibilitychange",s,!1)):(s=function(e){ue.hidden.set__("pagehide"==e.type)},window.addEventListener("pageshow",s,!1),window.addEventListener("pagehide",s,!1)),ue.hidden.get_changed().connect(function(t){t||(e._skipFrame=!0)}),this._skipFrame=!1,this._lastUpdate=Date.now();var c=jt.loadExtension("requestAnimationFrame").value;if(null!=c){var h=window.performance,_=null!=h&&jt.polyfill("now",h);_&&(this._lastUpdate=h.now());var l=null;l=function(i){e.update(_?h.now():i),c(l,t)};c(l,t)}else window.setInterval(function(){e.update(Date.now())},16);de.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(e){return new Et(this,e).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var e=Ii.getLocalStorage();this._storage=null!=e?new Ht(e):new bt}return this._storage},getLocale:function(){var e=window.navigator.language;return null==e&&(e=window.navigator.userLanguage),e},update:function(e){var t=(e-this._lastUpdate)/1e3;this._lastUpdate=e,ue.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(t),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getKeyboard:function(){var e=this;if(null==this._keyboard){this._keyboard=new st;var t=function(t){switch(t.type){case"keydown":e._keyboard.submitDown(t.keyCode)&&t.preventDefault();break;case"keyup":e._keyboard.submitUp(t.keyCode)}};this._canvas.addEventListener("keydown",t,!1),this._canvas.addEventListener("keyup",t,!1)}return this._keyboard},getExternal:function(){return null==this._external&&(this._external=new Dt),this._external},getRenderer:function(){return this._renderer},getX:function(e,t){return(e.clientX-t.left)*this._stage.get_width()/t.width},getY:function(e,t){return(e.clientY-t.top)*this._stage.get_height()/t.height},createRenderer:function(e){return new Bt(e)},__class__:ae};var ne=function(e,t){this._value=e,this._changed=null!=t?new he(t):null};s["flambe.util.Value"]=ne,ne.__name__=["flambe","util","Value"],ne.prototype={watch:function(e){return e(this._value,this._value),this.get_changed().connect(e)},set__:function(e){var t=this._value;return e!=t&&(this._value=e,null!=this._changed&&this._changed.emit(e,t)),e},get_changed:function(){return null==this._changed&&(this._changed=new he),this._changed},__class__:ne};var oe=function(e,t){this._next=null,this._signal=e,this._listener=t,this.stayInList=!0};s["flambe.util.SignalConnection"]=oe,oe.__name__=["flambe","util","SignalConnection"],oe.__interfaces__=[a],oe.prototype={once:function(){return this.stayInList=!1,this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:oe};var ce=function(e){this._head=null!=e?new oe(this,e):null,this._deferredTasks=null};s["flambe.util.SignalBase"]=ce,ce.__name__=["flambe","util","SignalBase"],ce.prototype={connectImpl:function(e,t){var i=this,s=new oe(this,e);return this._head==ce.DISPATCHING_SENTINEL?this.defer(function(){i.listAdd(s,t)}):this.listAdd(s,t),s},disconnect:function(e){var t=this;this._head==ce.DISPATCHING_SENTINEL?this.defer(function(){t.listRemove(e)}):this.listRemove(e)},defer:function(e){for(var t=null,i=this._deferredTasks;null!=i;)t=i,i=i.next;e=new gi(e),null!=t?t.next=e:this._deferredTasks=e},willEmit:function(){var e=this._head;return this._head=ce.DISPATCHING_SENTINEL,e},didEmit:function(e){for(this._head=e,e=this._deferredTasks,this._deferredTasks=null;null!=e;)e.fn(),e=e.next},listAdd:function(e,t){if(t)e._next=this._head,this._head=e;else{for(var i=null,s=this._head;null!=s;)i=s,s=s._next;null!=i?i._next=e:this._head=e}},listRemove:function(e){for(var t=null,i=this._head;null!=i;){if(i==e){e=i._next,null==t?this._head=e:t._next=e;break}t=i,i=i._next}},__class__:ce};var he=function(e){ce.call(this,e)};s["flambe.util.Signal2"]=he,he.__name__=["flambe","util","Signal2"],he.__super__=ce,he.prototype=e(ce.prototype,{connect:function(e,t){return null==t&&(t=!1),this.connectImpl(e,t)},emit:function(e,t){var i=this;this._head==ce.DISPATCHING_SENTINEL?this.defer(function(){i.emitImpl(e,t)}):this.emitImpl(e,t)},emitImpl:function(e,t){for(var i=this.willEmit(),s=i;null!=s;)s._listener(e,t),s.stayInList||s.dispose(),s=s._next;this.didEmit(i)},__class__:he});var _e=function(e){ce.call(this,e)};s["flambe.util.Signal1"]=_e,_e.__name__=["flambe","util","Signal1"],_e.__super__=ce,_e.prototype=e(ce.prototype,{connect:function(e,t){return null==t&&(t=!1),this.connectImpl(e,t)},emit:function(e){var t=this;this._head==ce.DISPATCHING_SENTINEL?this.defer(function(){t.emitImpl(e)}):this.emitImpl(e)},emitImpl:function(e){for(var t=this.willEmit(),i=t;null!=i;)i._listener(e),i.stayInList||i.dispose(),i=i._next;this.didEmit(t)},__class__:_e});var le=function(e,t){this._behavior=null,ne.call(this,e,t)};s["flambe.animation.AnimatedFloat"]=le,le.__name__=["flambe","animation","AnimatedFloat"],le.__super__=ne,le.prototype=e(ne.prototype,{set__:function(e){return this._behavior=null,ne.prototype.set__.call(this,e)},update:function(e){null!=this._behavior&&(ne.prototype.set__.call(this,this._behavior.update(e)),this._behavior.isComplete()&&(this._behavior=null))},animate:function(e,t,i,s){this.set__(e),this.animateTo(t,i,s)},animateTo:function(e,t,i){this.set_behavior(new ve(this._value,e,t,i))},set_behavior:function(e){return this._behavior=e,this.update(0),e},__class__:le});var ue=function(){};s["flambe.System"]=ue,ue.__name__=["flambe","System"],ue.init=function(){ue._calledInit||(ue._platform.init(),ue._calledInit=!0)},ue.loadAssetPack=function(e){return ue._platform.loadAssetPack(e)};var de=function(){};s["flambe.Log"]=de,de.__name__=["flambe","Log"],de.info=function(){},de.__super__=se,de.prototype=e(se.prototype,{__class__:de});var pe=function(){this._realDt=0};s["flambe.SpeedAdjuster"]=pe,pe.__name__=["flambe","SpeedAdjuster"],pe.__super__=n,pe.prototype=e(n.prototype,{get_name:function(){return"SpeedAdjuster_3"},onUpdate:function(e){0<this._realDt&&(e=this._realDt,this._realDt=0),this.scale.update(e)},__class__:pe});var me=function(){};s["flambe.animation.Behavior"]=me,me.__name__=["flambe","animation","Behavior"],me.prototype={__class__:me};var be=function(){};s["flambe.animation.Ease"]=be,be.__name__=["flambe","animation","Ease"],be.linear=function(e){return e},be.quadOut=function(e){return e*(2-e)},be.sineOut=function(e){return Math.sin(1.5707963267948966*e)},be.bounceOut=function(e){return.36363636363636365>e?7.5625*e*e:.7272727272727273>e?7.5625*(e-.5454545454545454)*(e-.5454545454545454)+.75:.9090909090909091>e?7.5625*(e-.8181818181818182)*(e-.8181818181818182)+.9375:7.5625*(e-.9545454545454546)*(e-.9545454545454546)+.984375},be.circIn=function(e){return 1-Math.sqrt(1-e*e)},be.backIn=function(e){return e*e*(2.70158*e-1.70158)},be.backOut=function(e){return 1- --e*e*(-2.70158*e-1.70158)};var ve=function(e,t,i,s){this._from=e,this._to=t,this._duration=i,this.elapsed=0,this._easing=null!=s?s:be.linear};s["flambe.animation.Tween"]=ve,ve.__name__=["flambe","animation","Tween"],ve.__interfaces__=[me],ve.prototype={update:function(e){return this.elapsed+=e,this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:ve};var fe=function(){};s["flambe.asset.Asset"]=fe,fe.__name__=["flambe","asset","Asset"],fe.__interfaces__=[a],fe.prototype={__class__:fe};var ge=s["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};ge.WEBP=["WEBP",0],ge.WEBP.toString=r,ge.WEBP.__enum__=ge,ge.JXR=["JXR",1],ge.JXR.toString=r,ge.JXR.__enum__=ge,ge.PNG=["PNG",2],ge.PNG.toString=r,ge.PNG.__enum__=ge,ge.JPG=["JPG",3],ge.JPG.toString=r,ge.JPG.__enum__=ge,ge.GIF=["GIF",4],ge.GIF.toString=r,ge.GIF.__enum__=ge,ge.DDS=["DDS",5],ge.DDS.toString=r,ge.DDS.__enum__=ge,ge.PVR=["PVR",6],ge.PVR.toString=r,ge.PVR.__enum__=ge,ge.PKM=["PKM",7],ge.PKM.toString=r,ge.PKM.__enum__=ge,ge.MP3=["MP3",8],ge.MP3.toString=r,ge.MP3.__enum__=ge,ge.M4A=["M4A",9],ge.M4A.toString=r,ge.M4A.__enum__=ge,ge.OPUS=["OPUS",10],ge.OPUS.toString=r,ge.OPUS.__enum__=ge,ge.OGG=["OGG",11],ge.OGG.toString=r,ge.OGG.__enum__=ge,ge.WAV=["WAV",12],ge.WAV.toString=r,ge.WAV.__enum__=ge,ge.Data=["Data",13],ge.Data.toString=r,ge.Data.__enum__=ge;var xe=function(e,t,i,s){this.name=e,this.url=t,this.format=i,this.bytes=s};s["flambe.asset.AssetEntry"]=xe,xe.__name__=["flambe","asset","AssetEntry"],xe.prototype={__class__:xe};var ye=function(){};s["flambe.asset.AssetPack"]=ye,ye.__name__=["flambe","asset","AssetPack"],ye.__interfaces__=[a],ye.prototype={__class__:ye};var Se=function(){};s["flambe.asset.File"]=Se,Se.__name__=["flambe","asset","File"],Se.__interfaces__=[fe],Se.prototype={__class__:Se};var we=function(){this._localBase=this._remoteBase=null,this._entries=[]};s["flambe.asset.Manifest"]=we,we.__name__=["flambe","asset","Manifest"],we.fromAssets=function(e,t){null==t&&(t=!0);var i=I.field(Ci.getType(we).assets[0],e);if(null==i){if(t)throw xi.withFields("Missing asset pack",["name",e]);return null}var s=new we;s.set_localBase("assets");for(var r=0;r<i.length;){var a=i[r];++r;var n=a.name,o=e+"/"+n+"?v="+R.string(a.md5),c=we.inferFormat(n);c!=ge.Data&&(n=xi.removeFileExtension(n)),s.add(n,o,a.bytes,c)}return s},we.fromAssetsLocalized=function(e,t,i){if(null==i&&(i=!0),null==t&&(t=ue._platform.getLocale()),null!=t)for(t=t.split("-");0<t.length;){var s=we.fromAssets(e+"_"+t.join("-"),!1);if(null!=s)return s;t.pop()}return we.fromAssets(e,i)},we.inferFormat=function(e){if(null!=(e=xi.getUrlExtension(e)))switch(e.toLowerCase()){case"gif":return ge.GIF;case"jpg":case"jpeg":return ge.JPG;case"jxr":case"wdp":return ge.JXR;case"png":return ge.PNG;case"webp":return ge.WEBP;case"dds":return ge.DDS;case"pvr":return ge.PVR;case"pkm":return ge.PKM;case"m4a":return ge.M4A;case"mp3":return ge.MP3;case"ogg":return ge.OGG;case"opus":return ge.OPUS;case"wav":return ge.WAV}return ge.Data},we.prototype={add:function(e,t,i,s){return null==i&&(i=0),null==s&&(s=we.inferFormat(t)),e=new xe(e,t,s,i),this._entries.push(e),e},iterator:function(){return k.iter(this._entries)},getFullURL:function(e){var t;return null!=(t=null!=this.get_remoteBase()&&we._supportsCrossOrigin?this.get_remoteBase():this.get_localBase())?xi.joinPath(t,e.url):e.url},get_localBase:function(){return this._localBase},set_localBase:function(e){return null!=e&&di.that(!U.startsWith(e,"http://")&&!U.startsWith(e,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null),this._localBase=e},get_remoteBase:function(){return this._remoteBase},__class__:we};var ke=s["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};ke.Normal=["Normal",0],ke.Normal.toString=r,ke.Normal.__enum__=ke,ke.Add=["Add",1],ke.Add.toString=r,ke.Add.__enum__=ke,ke.Multiply=["Multiply",2],ke.Multiply.toString=r,ke.Multiply.__enum__=ke,ke.Screen=["Screen",3],ke.Screen.toString=r,ke.Screen.__enum__=ke,ke.Mask=["Mask",4],ke.Mask.toString=r,ke.Mask.__enum__=ke,ke.Copy=["Copy",5],ke.Copy.toString=r,ke.Copy.__enum__=ke;var Le=function(e,t){null==t&&(t=0),null==e&&(e=0),this.x=e,this.y=t};s["flambe.math.Point"]=Le,Le.__name__=["flambe","math","Point"],Le.prototype={__class__:Le};var Me=function(){this.blendMode=this.scissor=null;var e=this;this._flags|=54,this._localMatrix=new Je;var t=function(){e._flags|=24};this.x=new le(0,t),this.y=new le(0,t),this.rotation=new le(0,t),this.scaleX=new le(1,t),this.scaleY=new le(1,t),this.anchorX=new le(0,t),this.anchorY=new le(0,t),this.alpha=new le(1)};s["flambe.display.Sprite"]=Me,Me.__name__=["flambe","display","Sprite"],Me.hitTest=function(e,t,i){var s=e._compMap.Sprite_0;if(null!=s){if(6&~s._flags)return null;s.getLocalMatrix().inverseTransform(t,i,Me._scratchPoint)&&(t=Me._scratchPoint.x,i=Me._scratchPoint.y);var r=s.scissor;if(null!=r&&!r.contains(t,i))return null}return null!=(e=Me.hitTestBackwards(e.firstChild,t,i))?e:null!=s&&s.containsLocal(t,i)?s:null},Me.getBounds=function(e,t){return null==t&&(t=new Ze),t.set(179769313486231e294,179769313486231e294,-179769313486231e294,-179769313486231e294),Me.getBoundsImpl(e,null,t),t.width-=t.x,t.height-=t.y,t},Me.render=function(e,t){var i=e._compMap.Sprite_0;if(null!=i){var s=i.alpha._value;if(!(2&i._flags)||0>=s)return;t.save(),1>s&&t.multiplyAlpha(s),null!=i.blendMode&&t.setBlendMode(i.blendMode);var r=(s=i.getLocalMatrix()).m02,a=s.m12;32&i._flags&&(r=Math.round(r),a=Math.round(a)),t.transform(s.m00,s.m10,s.m01,s.m11,r,a),null!=(s=i.scissor)&&t.applyScissor(s.x,s.y,s.width,s.height),i.draw(t)}if(null!=(s=e._compMap.Director_2))for(s=s.occludedScenes,r=0;r<s.length;)a=s[r],++r,Me.render(a,t);for(s=e.firstChild;null!=s;)r=s.next,Me.render(s,t),s=r;null!=i&&t.restore()},Me.hitTestBackwards=function(e,t,i){if(null!=e){var s=Me.hitTestBackwards(e.next,t,i);return null!=s?s:Me.hitTest(e,t,i)}return null},Me.getBoundsImpl=function(e,t,i){if(null!=(r=e._compMap.Sprite_0)){t=null!=t?Je.multiply(t,r.getLocalMatrix()):r.getLocalMatrix();var s=r.getNaturalWidth(),r=r.getNaturalHeight();0<s&&0<r&&(Me.extendRect(t,0,0,i),Me.extendRect(t,s,0,i),Me.extendRect(t,s,r,i),Me.extendRect(t,0,r,i))}if(null!=(s=e._compMap.Director_2)){r=0;for(var a=(s=s.occludedScenes).length;r<a;)Me.getBoundsImpl(s[r],t,i),++r}for(e=e.firstChild;null!=e;)s=e.next,Me.getBoundsImpl(e,t,i),e=s},Me.extendRect=function(e,t,i,s){t=(e=e.transform(t,i,Me._scratchPoint)).x,i=e.y,t<s.x&&(s.x=t),i<s.y&&(s.y=i),t>s.width&&(s.width=t),i>s.height&&(s.height=i)},Me.__super__=n,Me.prototype=e(n.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(e,t){return 0<=e&&e<this.getNaturalWidth()&&0<=t&&t<this.getNaturalHeight()},getLocalMatrix:function(){return 8&this._flags&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)),this._localMatrix},setAnchor:function(e,t){return this.anchorX.set__(e),this.anchorY.set__(t),this},centerAnchor:function(){return this.anchorX.set__(this.getNaturalWidth()/2),this.anchorY.set__(this.getNaturalHeight()/2),this},setXY:function(e,t){return this.x.set__(e),this.y.set__(t),this},setAlpha:function(e){return this.alpha.set__(e),this},setScale:function(e){return this.scaleX.set__(e),this.scaleY.set__(e),this},setScaleXY:function(e,t){return this.scaleX.set__(e),this.scaleY.set__(t),this},onAdded:function(){64&this._flags&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(e){this.x.update(e),this.y.update(e),this.rotation.update(e),this.scaleX.update(e),this.scaleY.update(e),this.alpha.update(e),this.anchorX.update(e),this.anchorY.update(e)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var e=this.owner.parent;null!=e;){var t=e._compMap.Sprite_0;if(null!=t)return t;e=e.parent}return null},get_pointerDown:function(){return null==this._pointerDown&&(this._pointerDown=new _e),this._pointerDown},get_pointerUp:function(){return null==this._pointerUp&&(this._pointerUp=new _e),this._pointerUp},connectHover:function(){var e=this;null==this._hoverConnection&&(this._hoverConnection=ue._platform.getPointer().move.connect(function(t){for(var i=t.hit;null!=i;){if(i==e)return;i=i.getParentSprite()}null!=e._pointerOut&&64&e._flags&&e._pointerOut.emit(t),e._flags&=-65,e._hoverConnection.dispose(),e._hoverConnection=null}))},set_visible:function(e){return this._flags=pi.set(this._flags,2,e),e},set_pointerEnabled:function(e){return this._flags=pi.set(this._flags,4,e),e},onPointerDown:function(e){this.onHover(e),null!=this._pointerDown&&this._pointerDown.emit(e)},onPointerMove:function(e){this.onHover(e),null!=this._pointerMove&&this._pointerMove.emit(e)},onHover:function(e){64&this._flags||(this._flags|=64,null==this._pointerIn&&null==this._pointerOut)||(null!=this._pointerIn&&this._pointerIn.emit(e),this.connectHover())},onPointerUp:function(e){if(1===e.source[1])null!=this._pointerOut&&!!(64&this._flags)&&this._pointerOut.emit(e),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null);null!=this._pointerUp&&this._pointerUp.emit(e)},__class__:Me});var Ce=function(e,t,i){Me.call(this),this.color=e,this.width=new le(t),this.height=new le(i)};s["flambe.display.FillSprite"]=Ce,Ce.__name__=["flambe","display","FillSprite"],Ce.__super__=Me,Ce.prototype=e(Me.prototype,{draw:function(e){e.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(e){Me.prototype.onUpdate.call(this,e),this.width.update(e),this.height.update(e)},__class__:Ce});var Te=function(e){this._kernings=null,this.xOffset=this.yOffset=this.xAdvance=0,this.page=null,this.x=this.y=this.width=this.height=0,this.charCode=e};s["flambe.display.Glyph"]=Te,Te.__name__=["flambe","display","Glyph"],Te.prototype={draw:function(e,t,i){0<this.width&&e.drawSubTexture(this.page,t+this.xOffset,i+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(e){return null!=this._kernings?R.int(this._kernings.get(e)):0},setKerning:function(e,t){null==this._kernings&&(this._kernings=new wi),this._kernings.set(e,t)},__class__:Te};var Be=function(e,t){this.name=t,this._pack=e,this._file=e.getFile(t+".fnt"),this.reload()};s["flambe.display.Font"]=Be,Be.__name__=["flambe","display","Font"],Be.prototype={layoutText:function(e,t,i,s,r){return null==r&&(r=0),null==s&&(s=0),null==i&&(i=0),null==t&&(t=Pe.Left),new Ae(this,e,t,i,s,r)},reload:function(){this._glyphs=new wi,this._glyphs.set(Be.NEWLINE.charCode,Be.NEWLINE);for(var e=new Ee(this._file.toString()),t=new wi,i=0<=(i=this.name.lastIndexOf("/"))?k.substr(this.name,0,i+1):"",s=e.keywords();s.hasNext();)switch(s.next()){case"info":for(var r=e.pairs();r.hasNext();){if("size"===(a=r.next()).key)this.size=a.getInt()}break;case"common":for(r=e.pairs();r.hasNext();)if("lineHeight"===(a=r.next()).key)this.lineHeight=a.getInt();break;case"page":r=0;for(var a=null,n=e.pairs();n.hasNext();){var o=n.next();switch(o.key){case"id":r=o.getInt();break;case"file":a=o.getString()}}a=this._pack.getTexture(i+xi.removeFileExtension(a)),t.set(r,a);break;case"char":for(r=null,a=e.pairs();a.hasNext();)switch(n=a.next(),n.key){case"id":r=new Te(n.getInt());break;case"x":r.x=n.getInt();break;case"y":r.y=n.getInt();break;case"width":r.width=n.getInt();break;case"height":r.height=n.getInt();break;case"page":n=n.getInt(),r.page=t.get(n);break;case"xoffset":r.xOffset=n.getInt();break;case"yoffset":r.yOffset=n.getInt();break;case"xadvance":r.xAdvance=n.getInt()}this._glyphs.set(r.charCode,r);break;case"kerning":for(r=null,n=a=0,o=e.pairs();o.hasNext();){var c=o.next();switch(c.key){case"first":r=this._glyphs.get(c.getInt());break;case"second":a=c.getInt();break;case"amount":n=c.getInt()}}null!=r&&0!=n&&r.setKerning(a,n)}},__class__:Be};var Pe=s["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};Pe.Left=["Left",0],Pe.Left.toString=r,Pe.Left.__enum__=Pe,Pe.Center=["Center",1],Pe.Center.toString=r,Pe.Center.__enum__=Pe,Pe.Right=["Right",2],Pe.Right.toString=r,Pe.Right.__enum__=Pe;var Ae=function(e,t,i,s,r,a){this.lines=0;var n=this;this._font=e,this._glyphs=[],this._offsets=[],this._lineOffset=Math.round(e.lineHeight+a),this.bounds=new Ze;for(var o=[],c=(a=t.length,0);c<a;){var h=c++;h=t.charCodeAt(h);null!=(h=e._glyphs.get(h))&&this._glyphs.push(h)}t=-1;var _=0,l=0;for(e=e._glyphs.get(10),a=function(){n.bounds.width=Ve.max(n.bounds.width,_),n.bounds.height+=l,o[n.lines]=_,l=_=0,++n.lines},c=0;c<this._glyphs.length;){h=this._glyphs[c],this._offsets[c]=Math.round(_);var u=0<s&&_+h.width>s;u||h==e?(u&&(0<=t?(this._glyphs[t]=e,_=this._offsets[t],c=t):this._glyphs.splice(c,0,e)),t=-1,l=this._lineOffset,a()):(32==h.charCode&&(t=c),_+=h.xAdvance+r,l=Ve.max(l,h.height+h.yOffset),c+1<this._glyphs.length&&(_+=h.getKerning(this._glyphs[c+1].charCode))),++c}for(a(),r=0,e=Ae.getAlignOffset(i,o[0],s),t=179769313486231e294,a=-179769313486231e294,h=c=0,u=this._glyphs.length;h<u;){var d=this._glyphs[h];10==d.charCode&&(r+=this._lineOffset,++c,e=Ae.getAlignOffset(i,o[c],s)),this._offsets[h]+=e;var p=r+d.yOffset;t<p||(t=p),a=Ve.max(a,p+d.height),++h}this.bounds.x=Ae.getAlignOffset(i,this.bounds.width,s),this.bounds.y=t,this.bounds.height=a-t};s["flambe.display.TextLayout"]=Ae,Ae.__name__=["flambe","display","TextLayout"],Ae.getAlignOffset=function(e,t,i){switch(e[1]){case 0:return 0;case 2:return i-t;case 1:return Math.round((i-t)/2)}},Ae.prototype={draw:function(e){for(var t=0,i=0,s=this._glyphs.length;i<s;){var r=this._glyphs[i];10==r.charCode?t+=this._lineOffset:r.draw(e,this._offsets[i],t),++i}},__class__:Ae};var Ee=function(e){this._configText=e,this._keywordPattern=new d("([A-Za-z]+)(.*)",""),this._pairPattern=new d('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};s["flambe.display._Font.ConfigParser"]=Ee,Ee.__name__=["flambe","display","_Font","ConfigParser"],Ee.advance=function(e,t){var i=t.matchedPos();return k.substr(e,i.pos+i.len,e.length)},Ee.prototype={keywords:function(){var e=this,t=this._configText;return{next:function(){return t=Ee.advance(t,e._keywordPattern),e._pairText=e._keywordPattern.matched(2),e._keywordPattern.matched(1)},hasNext:function(){return e._keywordPattern.match(t)}}},pairs:function(){var e=this,t=this._pairText;return{next:function(){return t=Ee.advance(t,e._pairPattern),new Ne(e._pairPattern.matched(1),e._pairPattern.matched(2))},hasNext:function(){return e._pairPattern.match(t)}}},__class__:Ee};var Ne=function(e,t){this.key=e,this._value=t};s["flambe.display._Font.ConfigPair"]=Ne,Ne.__name__=["flambe","display","_Font","ConfigPair"],Ne.prototype={getInt:function(){return R.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:k.substr(this._value,1,this._value.length-2)},__class__:Ne};var De=function(){};s["flambe.display.Graphics"]=De,De.__name__=["flambe","display","Graphics"],De.prototype={__class__:De};var Fe=function(e){Me.call(this),this.texture=e};s["flambe.display.ImageSprite"]=Fe,Fe.__name__=["flambe","display","ImageSprite"],Fe.__super__=Me,Fe.prototype=e(Me.prototype,{draw:function(e){null!=this.texture&&e.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:Fe});var Ie=s["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};Ie.Portrait=["Portrait",0],Ie.Portrait.toString=r,Ie.Portrait.__enum__=Ie,Ie.Landscape=["Landscape",1],Ie.Landscape.toString=r,Ie.Landscape.__enum__=Ie;var Xe=function(e,t,i){null==i&&(i=-1),null==t&&(t=-1),Me.call(this),this.texture=e,0>t&&(t=null!=e?e.get_width():0),this.width=new le(t),0>i&&(i=null!=e?e.get_height():0),this.height=new le(i)};s["flambe.display.PatternSprite"]=Xe,Xe.__name__=["flambe","display","PatternSprite"],Xe.__super__=Me,Xe.prototype=e(Me.prototype,{draw:function(e){null!=this.texture&&e.drawPattern(this.texture,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(e){Me.prototype.onUpdate.call(this,e),this.width.update(e),this.height.update(e)},__class__:Xe});var Ye=function(){};s["flambe.display.Texture"]=Ye,Ye.__name__=["flambe","display","Texture"],Ye.__interfaces__=[fe],Ye.prototype={__class__:Ye};var Oe=function(){};s["flambe.display.SubTexture"]=Oe,Oe.__name__=["flambe","display","SubTexture"],Oe.__interfaces__=[Ye];var He=function(e,t){null==t&&(t=""),this._layout=null;var i=this;Me.call(this),this._font=e,this._text=t,this._align=Pe.Left,this._flags|=128;var s=function(){i._flags|=128};this.wrapWidth=new le(0,s),this.letterSpacing=new le(0,s),this.lineSpacing=new le(0,s)};s["flambe.display.TextSprite"]=He,He.__name__=["flambe","display","TextSprite"],He.__super__=Me,He.prototype=e(Me.prototype,{draw:function(e){this.updateLayout(),this._layout.draw(e)},getNaturalWidth:function(){return this.updateLayout(),0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var e=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),t=this._layout.bounds.height;return e>t?e:t},containsLocal:function(e,t){return this.updateLayout(),this._layout.bounds.contains(e,t)},setWrapWidth:function(e){return this.wrapWidth.set__(e),this},setAlign:function(e){return this.set_align(e),this},set_text:function(e){return e!=this._text&&(this._text=e,this._flags|=128),e},set_font:function(e){return e!=this._font&&(this._font=e,this._flags|=128),e},set_align:function(e){return e!=this._align&&(this._align=e,this._flags|=128),e},updateLayout:function(){128&this._flags&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(e){Me.prototype.onUpdate.call(this,e),this.wrapWidth.update(e),this.letterSpacing.update(e),this.lineSpacing.update(e)},__class__:He});var je=s["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};je.A=["A",0],je.A.toString=r,je.A.__enum__=je,je.B=["B",1],je.B.toString=r,je.B.__enum__=je,je.C=["C",2],je.C.toString=r,je.C.__enum__=je,je.D=["D",3],je.D.toString=r,je.D.__enum__=je,je.E=["E",4],je.E.toString=r,je.E.__enum__=je,je.F=["F",5],je.F.toString=r,je.F.__enum__=je,je.G=["G",6],je.G.toString=r,je.G.__enum__=je,je.H=["H",7],je.H.toString=r,je.H.__enum__=je,je.I=["I",8],je.I.toString=r,je.I.__enum__=je,je.J=["J",9],je.J.toString=r,je.J.__enum__=je,je.K=["K",10],je.K.toString=r,je.K.__enum__=je,je.L=["L",11],je.L.toString=r,je.L.__enum__=je,je.M=["M",12],je.M.toString=r,je.M.__enum__=je,je.N=["N",13],je.N.toString=r,je.N.__enum__=je,je.O=["O",14],je.O.toString=r,je.O.__enum__=je,je.P=["P",15],je.P.toString=r,je.P.__enum__=je,je.Q=["Q",16],je.Q.toString=r,je.Q.__enum__=je,je.R=["R",17],je.R.toString=r,je.R.__enum__=je,je.S=["S",18],je.S.toString=r,je.S.__enum__=je,je.T=["T",19],je.T.toString=r,je.T.__enum__=je,je.U=["U",20],je.U.toString=r,je.U.__enum__=je,je.V=["V",21],je.V.toString=r,je.V.__enum__=je,je.W=["W",22],je.W.toString=r,je.W.__enum__=je,je.X=["X",23],je.X.toString=r,je.X.__enum__=je,je.Y=["Y",24],je.Y.toString=r,je.Y.__enum__=je,je.Z=["Z",25],je.Z.toString=r,je.Z.__enum__=je,je.Number0=["Number0",26],je.Number0.toString=r,je.Number0.__enum__=je,je.Number1=["Number1",27],je.Number1.toString=r,je.Number1.__enum__=je,je.Number2=["Number2",28],je.Number2.toString=r,je.Number2.__enum__=je,je.Number3=["Number3",29],je.Number3.toString=r,je.Number3.__enum__=je,je.Number4=["Number4",30],je.Number4.toString=r,je.Number4.__enum__=je,je.Number5=["Number5",31],je.Number5.toString=r,je.Number5.__enum__=je,je.Number6=["Number6",32],je.Number6.toString=r,je.Number6.__enum__=je,je.Number7=["Number7",33],je.Number7.toString=r,je.Number7.__enum__=je,je.Number8=["Number8",34],je.Number8.toString=r,je.Number8.__enum__=je,je.Number9=["Number9",35],je.Number9.toString=r,je.Number9.__enum__=je,je.Numpad0=["Numpad0",36],je.Numpad0.toString=r,je.Numpad0.__enum__=je,je.Numpad1=["Numpad1",37],je.Numpad1.toString=r,je.Numpad1.__enum__=je,je.Numpad2=["Numpad2",38],je.Numpad2.toString=r,je.Numpad2.__enum__=je,je.Numpad3=["Numpad3",39],je.Numpad3.toString=r,je.Numpad3.__enum__=je,je.Numpad4=["Numpad4",40],je.Numpad4.toString=r,je.Numpad4.__enum__=je,je.Numpad5=["Numpad5",41],je.Numpad5.toString=r,je.Numpad5.__enum__=je,je.Numpad6=["Numpad6",42],je.Numpad6.toString=r,je.Numpad6.__enum__=je,je.Numpad7=["Numpad7",43],je.Numpad7.toString=r,je.Numpad7.__enum__=je,je.Numpad8=["Numpad8",44],je.Numpad8.toString=r,je.Numpad8.__enum__=je,je.Numpad9=["Numpad9",45],je.Numpad9.toString=r,je.Numpad9.__enum__=je,je.NumpadAdd=["NumpadAdd",46],je.NumpadAdd.toString=r,je.NumpadAdd.__enum__=je,je.NumpadDecimal=["NumpadDecimal",47],je.NumpadDecimal.toString=r,je.NumpadDecimal.__enum__=je,je.NumpadDivide=["NumpadDivide",48],je.NumpadDivide.toString=r,je.NumpadDivide.__enum__=je,je.NumpadEnter=["NumpadEnter",49],je.NumpadEnter.toString=r,je.NumpadEnter.__enum__=je,je.NumpadMultiply=["NumpadMultiply",50],je.NumpadMultiply.toString=r,je.NumpadMultiply.__enum__=je,je.NumpadSubtract=["NumpadSubtract",51],je.NumpadSubtract.toString=r,je.NumpadSubtract.__enum__=je,je.F1=["F1",52],je.F1.toString=r,je.F1.__enum__=je,je.F2=["F2",53],je.F2.toString=r,je.F2.__enum__=je,je.F3=["F3",54],je.F3.toString=r,je.F3.__enum__=je,je.F4=["F4",55],je.F4.toString=r,je.F4.__enum__=je,je.F5=["F5",56],je.F5.toString=r,je.F5.__enum__=je,je.F6=["F6",57],je.F6.toString=r,je.F6.__enum__=je,je.F7=["F7",58],je.F7.toString=r,je.F7.__enum__=je,je.F8=["F8",59],je.F8.toString=r,je.F8.__enum__=je,je.F9=["F9",60],je.F9.toString=r,je.F9.__enum__=je,je.F10=["F10",61],je.F10.toString=r,je.F10.__enum__=je,je.F11=["F11",62],je.F11.toString=r,je.F11.__enum__=je,je.F12=["F12",63],je.F12.toString=r,je.F12.__enum__=je,je.F13=["F13",64],je.F13.toString=r,je.F13.__enum__=je,je.F14=["F14",65],je.F14.toString=r,je.F14.__enum__=je,je.F15=["F15",66],je.F15.toString=r,je.F15.__enum__=je,je.Left=["Left",67],je.Left.toString=r,je.Left.__enum__=je,je.Up=["Up",68],je.Up.toString=r,je.Up.__enum__=je,je.Right=["Right",69],je.Right.toString=r,je.Right.__enum__=je,je.Down=["Down",70],je.Down.toString=r,je.Down.__enum__=je,je.Alt=["Alt",71],je.Alt.toString=r,je.Alt.__enum__=je,je.Backquote=["Backquote",72],je.Backquote.toString=r,je.Backquote.__enum__=je,je.Backslash=["Backslash",73],je.Backslash.toString=r,je.Backslash.__enum__=je,je.Backspace=["Backspace",74],je.Backspace.toString=r,je.Backspace.__enum__=je,je.CapsLock=["CapsLock",75],je.CapsLock.toString=r,je.CapsLock.__enum__=je,je.Comma=["Comma",76],je.Comma.toString=r,je.Comma.__enum__=je,je.Command=["Command",77],je.Command.toString=r,je.Command.__enum__=je,je.Control=["Control",78],je.Control.toString=r,je.Control.__enum__=je,je.Delete=["Delete",79],je.Delete.toString=r,je.Delete.__enum__=je,je.End=["End",80],je.End.toString=r,je.End.__enum__=je,je.Enter=["Enter",81],je.Enter.toString=r,je.Enter.__enum__=je,je.Equals=["Equals",82],je.Equals.toString=r,je.Equals.__enum__=je,je.Escape=["Escape",83],je.Escape.toString=r,je.Escape.__enum__=je,je.Home=["Home",84],je.Home.toString=r,je.Home.__enum__=je,je.Insert=["Insert",85],je.Insert.toString=r,je.Insert.__enum__=je,je.LeftBracket=["LeftBracket",86],je.LeftBracket.toString=r,je.LeftBracket.__enum__=je,je.Minus=["Minus",87],je.Minus.toString=r,je.Minus.__enum__=je,je.PageDown=["PageDown",88],je.PageDown.toString=r,je.PageDown.__enum__=je,je.PageUp=["PageUp",89],je.PageUp.toString=r,je.PageUp.__enum__=je,je.Period=["Period",90],je.Period.toString=r,je.Period.__enum__=je,je.Quote=["Quote",91],je.Quote.toString=r,je.Quote.__enum__=je,je.RightBracket=["RightBracket",92],je.RightBracket.toString=r,je.RightBracket.__enum__=je,je.Semicolon=["Semicolon",93],je.Semicolon.toString=r,je.Semicolon.__enum__=je,je.Shift=["Shift",94],je.Shift.toString=r,je.Shift.__enum__=je,je.Slash=["Slash",95],je.Slash.toString=r,je.Slash.__enum__=je,je.Space=["Space",96],je.Space.toString=r,je.Space.__enum__=je,je.Tab=["Tab",97],je.Tab.toString=r,je.Tab.__enum__=je,je.Menu=["Menu",98],je.Menu.toString=r,je.Menu.__enum__=je,je.Search=["Search",99],je.Search.toString=r,je.Search.__enum__=je,je.Unknown=function(e){return(e=["Unknown",100,e]).__enum__=je,e.toString=r,e};var Ge=function(){this.init(0,null)};s["flambe.input.KeyboardEvent"]=Ge,Ge.__name__=["flambe","input","KeyboardEvent"],Ge.prototype={init:function(e,t){this.id=e,this.key=t},__class__:Ge};var Re=s["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};Re.Left=["Left",0],Re.Left.toString=r,Re.Left.__enum__=Re,Re.Middle=["Middle",1],Re.Middle.toString=r,Re.Middle.__enum__=Re,Re.Right=["Right",2],Re.Right.toString=r,Re.Right.__enum__=Re,Re.Unknown=function(e){return(e=["Unknown",3,e]).__enum__=Re,e.toString=r,e};var We=s["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};We.Default=["Default",0],We.Default.toString=r,We.Default.__enum__=We,We.Button=["Button",1],We.Button.toString=r,We.Button.__enum__=We,We.None=["None",2],We.None.toString=r,We.None.__enum__=We;var Ue=function(){this.init(0,0,0,null)};s["flambe.input.MouseEvent"]=Ue,Ue.__name__=["flambe","input","MouseEvent"],Ue.prototype={init:function(e,t,i,s){this.id=e,this.viewX=t,this.viewY=i,this.button=s},__class__:Ue};var Ke=s["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};Ke.Mouse=function(e){return(e=["Mouse",0,e]).__enum__=Ke,e.toString=r,e},Ke.Touch=function(e){return(e=["Touch",1,e]).__enum__=Ke,e.toString=r,e};var ze=function(){this.init(0,0,0,null,null)};s["flambe.input.PointerEvent"]=ze,ze.__name__=["flambe","input","PointerEvent"],ze.prototype={init:function(e,t,i,s,r){this.id=e,this.viewX=t,this.viewY=i,this.hit=s,this.source=r,this._stopped=!1},__class__:ze};var qe=function(e){this.id=e,this._source=Ke.Touch(this)};s["flambe.input.TouchPoint"]=qe,qe.__name__=["flambe","input","TouchPoint"],qe.prototype={init:function(e,t){this.viewX=e,this.viewY=t},__class__:qe};var Ve=function(){};s["flambe.math.FMath"]=Ve,Ve.__name__=["flambe","math","FMath"],Ve.max=function(e,t){return e>t?e:t},Ve.clamp=function(e,t,i){return e<t?t:e>i?i:e};var Je=function(){this.identity()};s["flambe.math.Matrix"]=Je,Je.__name__=["flambe","math","Matrix"],Je.multiply=function(e,t,i){null==i&&(i=new Je);var s=e.m00*t.m00+e.m01*t.m10,r=e.m00*t.m01+e.m01*t.m11,a=e.m00*t.m02+e.m01*t.m12+e.m02;return i.m00=s,i.m01=r,i.m02=a,s=e.m10*t.m00+e.m11*t.m10,r=e.m10*t.m01+e.m11*t.m11,a=e.m10*t.m02+e.m11*t.m12+e.m12,i.m10=s,i.m11=r,i.m12=a,i},Je.prototype={set:function(e,t,i,s,r,a){this.m00=e,this.m01=i,this.m02=r,this.m10=t,this.m11=s,this.m12=a},identity:function(){this.set(1,0,0,1,0,0)},compose:function(e,t,i,s,r){var a=Math.sin(r);r=Math.cos(r);this.set(r*i,a*i,-a*s,r*s,e,t)},translate:function(e,t){this.m02+=this.m00*e+this.m01*t,this.m12+=this.m11*t+this.m10*e},transform:function(e,t,i){return null==i&&(i=new Le),i.x=e*this.m00+t*this.m01+this.m02,i.y=e*this.m10+t*this.m11+this.m12,i},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(e,t,i){var s=this.determinant();return 0!=s&&(e-=this.m02,t-=this.m12,i.x=(e*this.m11-t*this.m01)/s,i.y=(t*this.m00-e*this.m10)/s,!0)},__class__:Je};var Ze=function(e,t,i,s){null==s&&(s=0),null==i&&(i=0),null==t&&(t=0),null==e&&(e=0),this.set(e,t,i,s)};s["flambe.math.Rectangle"]=Ze,Ze.__name__=["flambe","math","Rectangle"],Ze.prototype={set:function(e,t,i,s){this.x=e,this.y=t,this.width=i,this.height=s},contains:function(e,t){if(e-=this.x,0<=this.width){if(0>e||e>this.width)return!1}else if(0<e||e<this.width)return!1;if(t-=this.y,0<=this.height){if(0>t||t>this.height)return!1}else if(0<t||t<this.height)return!1;return!0},__class__:Ze};var Qe=function(){this._disposed=!1};s["flambe.platform.BasicAsset"]=Qe,Qe.__name__=["flambe","platform","BasicAsset"],Qe.__interfaces__=[fe],Qe.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){},__class__:Qe};var $e=function(e,t){var i=this;this.manifest=t,this._platform=e,this.promise=new vi,this._bytesLoaded=new Li,this._pack=new et(t,this);var s=L.array(t);if(0==s.length)this.handleSuccess();else{for(var r=new Li,a=0;a<s.length;){var n=s[a];++a;var o=r.get(n.name);null==o&&(o=[],r.set(n.name,o)),o.push(n)}for(this._assetsRemaining=L.count(r),s=r.iterator();s.hasNext();)r=[s.next()],this.pickBestEntry(r[0],function(e){return function(s){if(null!=s){var r=t.getFullURL(s);try{i.loadEntry(r,s)}catch(e){i.handleError(s,"Unexpected error: "+R.string(e))}(r=i.promise).set_total(r._total+s.bytes)}else s=e[0][0],$e.isAudio(s.format)?i.handleLoad(s,ut.getInstance()):i.handleError(s,"Could not find a supported format to load")}}(r))}};s["flambe.platform.BasicAssetPackLoader"]=$e,$e.__name__=["flambe","platform","BasicAssetPackLoader"],$e.isAudio=function(e){switch(e[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}},$e.prototype={onDisposed:function(){},pickBestEntry:function(e,t){this.getAssetFormats(function(i){for(var s=0;s<i.length;){var r=i[s];++s;for(var a=0;a<e.length;){var n=e[a];if(++a,n.format==r)return void t(n)}}t(null)})},loadEntry:function(){},getAssetFormats:function(){},handleLoad:function(e,t){if(!this._pack.disposed){var i;switch(this.handleProgress(e,e.bytes),e.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:i=this._pack.sounds;break;case 13:i=this._pack.files}i.set(e.name,t),this._assetsRemaining-=1,0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(e,t){this._bytesLoaded.set(e.name,t);for(var i=0,s=this._bytesLoaded.iterator();s.hasNext();)i=i+s.next();this.promise.set_progress(i)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(e,t){this.promise.error.emit(xi.withFields(t,["url",e.url]))},handleTextureError:function(e){this.handleError(e,"Failed to create texture. Is the GPU context unavailable?")},__class__:$e};var et=function(e,t){this.disposed=!1,this._manifest=e,this.loader=t,this.textures=new Li,this.sounds=new Li,this.files=new Li};s["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=et,et.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"],et.__interfaces__=[ye],et.prototype={getTexture:function(e,t){null==t&&(t=!0);var i=this.textures.get(e);if(null==i&&t)throw xi.withFields("Missing texture",["name",e]);return i},getSound:function(e,t){null==t&&(t=!0);var i=this.sounds.get(e);if(null==i&&t)throw xi.withFields("Missing sound",["name",e]);return i},getFile:function(e,t){null==t&&(t=!0);var i=this.files.get(e);if(null==i&&t)throw xi.withFields("Missing file",["name",e]);return i},dispose:function(){if(!this.disposed){this.disposed=!0;for(var e=this.textures.iterator();e.hasNext();)e.next().dispose();for(this.textures=null,e=this.sounds.iterator();e.hasNext();)e.next().dispose();for(this.sounds=null,e=this.files.iterator();e.hasNext();)e.next().dispose();this.files=null,this.loader.onDisposed()}},__class__:et};var tt=function(e){this._disposed=!1,this._content=e};s["flambe.platform.BasicFile"]=tt,tt.__name__=["flambe","platform","BasicFile"],tt.__interfaces__=[Se],tt.__super__=Qe,tt.prototype=e(Qe.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:tt});var it=function(){};s["flambe.subsystem.KeyboardSystem"]=it,it.__name__=["flambe","subsystem","KeyboardSystem"],it.prototype={__class__:it};var st=function(){this.down=new _e,this.up=new _e,this.backButton=new fi,this._keyStates=new wi};s["flambe.platform.BasicKeyboard"]=st,st.__name__=["flambe","platform","BasicKeyboard"],st.__interfaces__=[it],st.prototype={submitDown:function(e){return 16777238==e?null!=this.backButton._head&&(this.backButton.emit(),!0):(this._keyStates.exists(e)||(this._keyStates.set(e,!0),st._sharedEvent.init(st._sharedEvent.id+1,wt.toKey(e)),this.down.emit(st._sharedEvent)),!0)},submitUp:function(e){this._keyStates.exists(e)&&(this._keyStates.remove(e),st._sharedEvent.init(st._sharedEvent.id+1,wt.toKey(e)),this.up.emit(st._sharedEvent))},__class__:st};var rt=function(){};s["flambe.subsystem.MouseSystem"]=rt,rt.__name__=["flambe","subsystem","MouseSystem"];var at=function(e){this._pointer=e,this._source=Ke.Mouse(at._sharedEvent),this.down=new _e,this.move=new _e,this.up=new _e,this.scroll=new _e,this._y=this._x=0,this._cursor=We.Default,this._buttonStates=new wi};s["flambe.platform.BasicMouse"]=at,at.__name__=["flambe","platform","BasicMouse"],at.__interfaces__=[rt],at.prototype={submitDown:function(e,t,i){this._buttonStates.exists(i)||(this._buttonStates.set(i,!0),this.prepare(e,t,Lt.toButton(i)),this._pointer.submitDown(e,t,this._source),this.down.emit(at._sharedEvent))},submitMove:function(e,t){this.prepare(e,t,null),this._pointer.submitMove(e,t,this._source),this.move.emit(at._sharedEvent)},submitUp:function(e,t,i){this._buttonStates.exists(i)&&(this._buttonStates.remove(i),this.prepare(e,t,Lt.toButton(i)),this._pointer.submitUp(e,t,this._source),this.up.emit(at._sharedEvent))},submitScroll:function(e,t,i){return this._x=e,this._y=t,null!=this.scroll._head&&(this.scroll.emit(i),!0)},prepare:function(e,t,i){this._x=e,this._y=t,at._sharedEvent.init(at._sharedEvent.id+1,e,t,i)},__class__:at};var nt=function(){};s["flambe.subsystem.PointerSystem"]=nt,nt.__name__=["flambe","subsystem","PointerSystem"],nt.prototype={__class__:nt};var ot=function(e,t,i){null==i&&(i=!1),null==t&&(t=0),null==e&&(e=0),this.down=new _e,this.move=new _e,this.up=new _e,this._x=e,this._y=t,this._isDown=i};s["flambe.platform.BasicPointer"]=ot,ot.__name__=["flambe","platform","BasicPointer"],ot.__interfaces__=[nt],ot.prototype={submitDown:function(e,t,i){if(!this._isDown){this.submitMove(e,t,i),this._isDown=!0;var s=[],r=Me.hitTest(ue.root,e,t);if(null!=r){var a=r.owner;do{var n=a._compMap.Sprite_0;null!=n&&s.push(n),a=a.parent}while(null!=a)}for(this.prepare(e,t,r,i),e=0;e<s.length;)if(t=s[e],++e,t.onPointerDown(ot._sharedEvent),ot._sharedEvent._stopped)return;this.down.emit(ot._sharedEvent)}},submitMove:function(e,t,i){if(e!=this._x||t!=this._y){var s=[],r=Me.hitTest(ue.root,e,t);if(null!=r){var a=r.owner;do{var n=a._compMap.Sprite_0;null!=n&&s.push(n),a=a.parent}while(null!=a)}for(this.prepare(e,t,r,i),e=0;e<s.length;)if(t=s[e],++e,t.onPointerMove(ot._sharedEvent),ot._sharedEvent._stopped)return;this.move.emit(ot._sharedEvent)}},submitUp:function(e,t,i){if(this._isDown){this.submitMove(e,t,i),this._isDown=!1;var s=[],r=Me.hitTest(ue.root,e,t);if(null!=r){var a=r.owner;do{var n=a._compMap.Sprite_0;null!=n&&s.push(n),a=a.parent}while(null!=a)}for(this.prepare(e,t,r,i),e=0;e<s.length;)if(t=s[e],++e,t.onPointerUp(ot._sharedEvent),ot._sharedEvent._stopped)return;this.up.emit(ot._sharedEvent)}},prepare:function(e,t,i,s){this._x=e,this._y=t,ot._sharedEvent.init(ot._sharedEvent.id+1,e,t,i,s)},__class__:ot};var ct=function(e,t,i){this._x=this._y=0,this._parent=null,this.rootX=this.rootY=0,this._disposed=!1,this.root=e,this._width=t,this._height=i};s["flambe.platform.BasicTexture"]=ct,ct.__name__=["flambe","platform","BasicTexture"],ct.__interfaces__=[Oe],ct.__super__=Qe,ct.prototype=e(Qe.prototype,{subTexture:function(e,t,i,s){return(i=this.root.createTexture(i,s))._parent=this,i._x=e,i._y=t,i.rootX=this.rootX+e,i.rootY=this.rootY+t,i},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:ct});var ht=function(){};s["flambe.subsystem.TouchSystem"]=ht,ht.__name__=["flambe","subsystem","TouchSystem"];var _t=function(e,t){null==t&&(t=4),this._pointer=e,this._maxPoints=t,this._pointMap=new wi,this._points=[],this.down=new _e,this.move=new _e,this.up=new _e};s["flambe.platform.BasicTouch"]=_t,_t.__name__=["flambe","platform","BasicTouch"],_t.__interfaces__=[ht],_t.prototype={submitDown:function(e,t,i){if(!this._pointMap.exists(e)){var s=new qe(e);s.init(t,i),this._pointMap.set(e,s),this._points.push(s),null==this._pointerTouch&&(this._pointerTouch=s,this._pointer.submitDown(t,i,s._source)),this.down.emit(s)}},submitMove:function(e,t,i){null!=(e=this._pointMap.get(e))&&(e.init(t,i),this._pointerTouch==e&&this._pointer.submitMove(t,i,e._source),this.move.emit(e))},submitUp:function(e,t,i){var s=this._pointMap.get(e);null!=s&&(s.init(t,i),this._pointMap.remove(e),k.remove(this._points,s),this._pointerTouch==s&&(this._pointerTouch=null,this._pointer.submitUp(t,i,s._source)),this.up.emit(s))},__class__:_t};var lt=function(){};s["flambe.sound.Sound"]=lt,lt.__name__=["flambe","sound","Sound"],lt.__interfaces__=[fe],lt.prototype={__class__:lt};var ut=function(){this._disposed=!1,this._playback=new pt(this)};s["flambe.platform.DummySound"]=ut,ut.__name__=["flambe","platform","DummySound"],ut.__interfaces__=[lt],ut.getInstance=function(){return null==ut._instance&&(ut._instance=new ut),ut._instance},ut.__super__=Qe,ut.prototype=e(Qe.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:ut});var dt=function(){};s["flambe.sound.Playback"]=dt,dt.__name__=["flambe","sound","Playback"],dt.__interfaces__=[a],dt.prototype={__class__:dt};var pt=function(e){this._sound=e,this.volume=new le(0),this._complete=new ne(!0)};s["flambe.platform.DummyPlayback"]=pt,pt.__name__=["flambe","platform","DummyPlayback"],pt.__interfaces__=[dt],pt.prototype={dispose:function(){},__class__:pt};var mt=function(){};s["flambe.subsystem.StorageSystem"]=mt,mt.__name__=["flambe","subsystem","StorageSystem"],mt.prototype={__class__:mt};var bt=function(){this.clear()};s["flambe.platform.DummyStorage"]=bt,bt.__name__=["flambe","platform","DummyStorage"],bt.__interfaces__=[mt],bt.prototype={get_supported:function(){return!1},set:function(e,t){return this._hash.set(e,t),!0},get:function(e,t){return this._hash.exists(e)?this._hash.get(e):t},clear:function(){this._hash=new Li},__class__:bt};var vt=function(){this.down=new _e,this.move=new _e,this.up=new _e};s["flambe.platform.DummyTouch"]=vt,vt.__name__=["flambe","platform","DummyTouch"],vt.__interfaces__=[ht],vt.prototype={__class__:vt};var ft=function(){this._entries=[]};s["flambe.platform.EventGroup"]=ft,ft.__name__=["flambe","platform","EventGroup"],ft.__interfaces__=[a],ft.prototype={addListener:function(e,t,i){e.addEventListener(t,i,!1),this._entries.push(new gt(e,t,i))},addDisposingListener:function(e,t,i){var s=this;this.addListener(e,t,function(e){s.dispose(),i(e)})},dispose:function(){for(var e=0,t=this._entries;e<t.length;){var i=t[e];++e,i.dispatcher.removeEventListener(i.type,i.listener,!1)}this._entries=[]},__class__:ft};var gt=function(e,t,i){this.dispatcher=e,this.type=t,this.listener=i};s["flambe.platform._EventGroup.Entry"]=gt,gt.__name__=["flambe","platform","_EventGroup","Entry"],gt.prototype={__class__:gt};var xt=function(){};s["flambe.platform.InternalGraphics"]=xt,xt.__name__=["flambe","platform","InternalGraphics"],xt.__interfaces__=[De],xt.prototype={__class__:xt};var yt=function(){};s["flambe.subsystem.RendererSystem"]=yt,yt.__name__=["flambe","subsystem","RendererSystem"],yt.prototype={__class__:yt};var St=function(){};s["flambe.platform.InternalRenderer"]=St,St.__name__=["flambe","platform","InternalRenderer"],St.__interfaces__=[yt],St.prototype={__class__:St};var wt=function(){};s["flambe.platform.KeyCodes"]=wt,wt.__name__=["flambe","platform","KeyCodes"],wt.toKey=function(e){switch(e){case 65:return je.A;case 66:return je.B;case 67:return je.C;case 68:return je.D;case 69:return je.E;case 70:return je.F;case 71:return je.G;case 72:return je.H;case 73:return je.I;case 74:return je.J;case 75:return je.K;case 76:return je.L;case 77:return je.M;case 78:return je.N;case 79:return je.O;case 80:return je.P;case 81:return je.Q;case 82:return je.R;case 83:return je.S;case 84:return je.T;case 85:return je.U;case 86:return je.V;case 87:return je.W;case 88:return je.X;case 89:return je.Y;case 90:return je.Z;case 48:return je.Number0;case 49:return je.Number1;case 50:return je.Number2;case 51:return je.Number3;case 52:return je.Number4;case 53:return je.Number5;case 54:return je.Number6;case 55:return je.Number7;case 56:return je.Number8;case 57:return je.Number9;case 96:return je.Numpad0;case 97:return je.Numpad1;case 98:return je.Numpad2;case 99:return je.Numpad3;case 100:return je.Numpad4;case 101:return je.Numpad5;case 102:return je.Numpad6;case 103:return je.Numpad7;case 104:return je.Numpad8;case 105:return je.Numpad9;case 107:return je.NumpadAdd;case 110:return je.NumpadDecimal;case 111:return je.NumpadDivide;case 108:return je.NumpadEnter;case 106:return je.NumpadMultiply;case 109:return je.NumpadSubtract;case 112:return je.F1;case 113:return je.F2;case 114:return je.F3;case 115:return je.F4;case 116:return je.F5;case 117:return je.F6;case 118:return je.F7;case 119:return je.F8;case 120:return je.F9;case 121:return je.F10;case 122:return je.F11;case 123:return je.F12;case 37:return je.Left;case 38:return je.Up;case 39:return je.Right;case 40:return je.Down;case 18:return je.Alt;case 192:return je.Backquote;case 220:return je.Backslash;case 8:return je.Backspace;case 20:return je.CapsLock;case 188:return je.Comma;case 15:return je.Command;case 17:return je.Control;case 46:return je.Delete;case 35:return je.End;case 13:return je.Enter;case 187:return je.Equals;case 27:return je.Escape;case 36:return je.Home;case 45:return je.Insert;case 219:return je.LeftBracket;case 189:return je.Minus;case 34:return je.PageDown;case 33:return je.PageUp;case 190:return je.Period;case 222:return je.Quote;case 221:return je.RightBracket;case 186:return je.Semicolon;case 16:return je.Shift;case 191:return je.Slash;case 32:return je.Space;case 9:return je.Tab;case 16777234:return je.Menu;case 16777247:return je.Search}return je.Unknown(e)};var kt=function(){this._tickables=[]};s["flambe.platform.MainLoop"]=kt,kt.__name__=["flambe","platform","MainLoop"],kt.updateEntity=function(e,t){var i=e._compMap.SpeedAdjuster_3;if(null!=i&&(i._realDt=t,0>=(t*=i.scale._value)))i.onUpdate(t);else{for(i=e.firstComponent;null!=i;){var s=i.next;!(1&i._flags)&&(i._flags|=1,i.onStart()),i.onUpdate(t),i=s}for(i=e.firstChild;null!=i;)s=i.next,kt.updateEntity(i,t),i=s}},kt.prototype={update:function(e){if(!(0>=e)){1<e&&(e=1);for(var t=0;t<this._tickables.length;){var i=this._tickables[t];null==i||i.update(e)?this._tickables.splice(t,1):++t}ue.volume.update(e),kt.updateEntity(ue.root,e)}},render:function(e){var t=e.graphics;null!=t&&(e.willRender(),Me.render(ue.root,t),e.didRender())},addTickable:function(e){this._tickables.push(e)},__class__:kt};var Lt=function(){};s["flambe.platform.MouseCodes"]=Lt,Lt.__name__=["flambe","platform","MouseCodes"],Lt.toButton=function(e){switch(e){case 0:return Re.Left;case 1:return Re.Middle;case 2:return Re.Right}return Re.Unknown(e)};var Mt=function(){};s["flambe.platform.TextureRoot"]=Mt,Mt.__name__=["flambe","platform","TextureRoot"],Mt.prototype={__class__:Mt};var Ct=function(){};s["flambe.platform.Tickable"]=Ct,Ct.__name__=["flambe","platform","Tickable"],Ct.prototype={__class__:Ct};var Tt=function(e,t){this._firstDraw=!1,this._canvasCtx=e.getContext("2d",{alpha:t})};s["flambe.platform.html.CanvasGraphics"]=Tt,Tt.__name__=["flambe","platform","html","CanvasGraphics"],Tt.__interfaces__=[xt],Tt.prototype={save:function(){this._canvasCtx.save()},transform:function(e,t,i,s,r,a){this._canvasCtx.transform(e,t,i,s,r,a)},restore:function(){this._canvasCtx.restore()},drawTexture:function(e,t,i){this.drawSubTexture(e,t,i,0,0,e.get_width(),e.get_height())},drawSubTexture:function(e,t,i,s,r,a,n){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(e,t,i,s,r,a,n),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(e.root.image,e.rootX+s|0,e.rootY+r|0,0|a,0|n,0|t,0|i,0|a,0|n)},drawPattern:function(e,t,i,s,r){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawPattern(e,t,i,s,r),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle=e.getPattern(),this._canvasCtx.fillRect(0|t,0|i,0|s,0|r))},fillRect:function(e,t,i,s,r){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(e,t,i,s,r),this._canvasCtx.globalCompositeOperation="source-over";else{for(e=(16777215&e).toString(16);6>e.length;)e="0"+R.string(e);this._canvasCtx.fillStyle="#"+R.string(e),this._canvasCtx.fillRect(0|t,0|i,0|s,0|r)}},multiplyAlpha:function(e){this._canvasCtx.globalAlpha*=e},setBlendMode:function(e){var t;switch(e[1]){case 0:t="source-over";break;case 1:t="lighter";break;case 2:t="multiply";break;case 3:t="screen";break;case 4:t="destination-in";break;case 5:t="copy"}this._canvasCtx.globalCompositeOperation=t},applyScissor:function(e,t,i,s){this._canvasCtx.beginPath(),this._canvasCtx.rect(0|e,0|t,0|i,0|s),this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:Tt};var Bt=function(e){this.graphics=new Tt(e,!1),this._hasGPU=new ne(!0)};s["flambe.platform.html.CanvasRenderer"]=Bt,Bt.__name__=["flambe","platform","html","CanvasRenderer"],Bt.__interfaces__=[St],Bt.prototype={get_type:function(){return si.Canvas},createTextureFromImage:function(e){return(e=new At(Bt.CANVAS_TEXTURES?jt.createCanvas(e):e)).createTexture(e.width,e.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Bt};var Pt=function(e,t,i){this._rootUpdateCount=0,this._pattern=null,ct.call(this,e,t,i)};s["flambe.platform.html.CanvasTexture"]=Pt,Pt.__name__=["flambe","platform","html","CanvasTexture"],Pt.__super__=ct,Pt.prototype=e(ct.prototype,{getPattern:function(){return this._rootUpdateCount==this.root.updateCount&&null!=this._pattern||(this._rootUpdateCount=this.root.updateCount,this._pattern=this.root.createPattern(this.rootX,this.rootY,this._width,this._height)),this._pattern},__class__:Pt});var At=function(e){this._graphics=null,this.updateCount=0,this._disposed=!1,this.image=e,this.width=e.width,this.height=e.height};s["flambe.platform.html.CanvasTextureRoot"]=At,At.__name__=["flambe","platform","html","CanvasTextureRoot"],At.__interfaces__=[Mt],At.__super__=Qe,At.prototype=e(Qe.prototype,{createTexture:function(e,t){return new Pt(this,e,t)},createPattern:function(e,t,i,s){var r=this.getContext2d(),a=this.image;return 0==e&&0==t&&i==this.width&&s==this.height||((i=(a=jt.createEmptyCanvas(i,s)).getContext("2d")).globalCompositeOperation="copy",i.drawImage(this.image,-e,-t)),r.createPattern(a,"repeat")},getContext2d:function(){return Fi.__instanceof(this.image,HTMLCanvasElement)||(this.image=jt.createCanvas(this.image)),this.image.getContext("2d")},onDisposed:function(){this._graphics=this.image=null},__class__:At});var Et=function(e,t){$e.call(this,e,t)};s["flambe.platform.html.HtmlAssetPackLoader"]=Et,Et.__name__=["flambe","platform","html","HtmlAssetPackLoader"],Et.detectImageFormats=function(e){var t,i,s=[ge.PNG,ge.JPG,ge.GIF],r=2;(t=window.document.createElement("img")).onload=t.onerror=function(){1==t.width&&s.unshift(ge.WEBP),0==--r&&e(s)},t.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",(i=window.document.createElement("img")).onload=i.onerror=function(){1==i.width&&s.unshift(ge.JXR),0==--r&&e(s)},i.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},Et.detectAudioFormats=function(){var e;if(null==(e=window.document.createElement("audio"))||null==i(e,e.canPlayType))return[];var t=new d("\\b(iPhone|iPod|iPad|Windows Phone)\\b",""),s=window.navigator.userAgent;if(!Gt.get_supported()&&t.match(s))return[];t=[{format:ge.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:ge.MP3,mimeType:"audio/mpeg"},{format:ge.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:ge.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:ge.WAV,mimeType:"audio/wav"}],s=[];for(var r=0;r<t.length;){var a=t[r];++r;var n="";try{n=e.canPlayType(a.mimeType)}catch(e){}""!=n&&s.push(a.format)}return s},Et.supportsBlob=function(){if(Et._detectBlobSupport){if(Et._detectBlobSupport=!1,new d("\\bSilk\\b","").match(window.navigator.userAgent)||null==window.Blob)return!1;var e=new XMLHttpRequest;if(e.open("GET",".",!0),""!=e.responseType)return!1;if(e.responseType="blob","blob"!=e.responseType)return!1;Et._URL=jt.loadExtension("URL").value}return null!=Et._URL&&null!=Et._URL.createObjectURL},Et.__super__=$e,Et.prototype=e($e.prototype,{loadEntry:function(e,t){var i=this;switch(t.format[1]){case 0:case 1:case 2:case 3:case 4:var s;s=window.document.createElement("img");var r=new ft;r.addDisposingListener(s,"load",function(){Et.supportsBlob()&&Et._URL.revokeObjectURL(s.src);var e=i._platform.getRenderer().createTextureFromImage(s);null!=e?i.handleLoad(t,e):i.handleTextureError(t)}),r.addDisposingListener(s,"error",function(){i.handleError(t,"Failed to load image")}),Et.supportsBlob()?this.download(e,t,"blob",function(e){s.src=Et._URL.createObjectURL(e)}):s.src=e;break;case 5:case 6:case 7:this.download(e,t,"arraybuffer",function(){var e=i._platform.getRenderer().createCompressedTexture(t.format,null);null!=e?i.handleLoad(t,e):i.handleTextureError(t)});break;case 8:case 9:case 10:case 11:case 12:if(Gt.get_supported())this.download(e,t,"arraybuffer",function(e){Gt.ctx.decodeAudioData(e,function(e){i.handleLoad(t,new Gt(e))},function(){i.handleLoad(t,ut.getInstance())})});else{var a;(a=window.document.createElement("audio")).preload="auto";var n=++Et._mediaRefCount;null==Et._mediaElements&&(Et._mediaElements=new wi),Et._mediaElements.set(n,a),(r=new ft).addDisposingListener(a,"canplaythrough",function(){Et._mediaElements.remove(n),i.handleLoad(t,new It(a))}),r.addDisposingListener(a,"error",function(){Et._mediaElements.remove(n);var e=a.error.code;3==e||4==e?i.handleLoad(t,ut.getInstance()):i.handleError(t,"Failed to load audio: "+a.error.code)}),r.addListener(a,"progress",function(){if(0<a.buffered.length&&0<a.duration){var e=a.buffered.end(0)/a.duration;i.handleProgress(t,e*t.bytes|0)}}),a.src=e,a.load()}break;case 13:this.download(e,t,"text",function(e){i.handleLoad(t,new tt(e))})}},getAssetFormats:function(e){var t=this;null==Et._supportedFormats&&(Et._supportedFormats=new vi,Et.detectImageFormats(function(e){Et._supportedFormats.set_result(t._platform.getRenderer().getCompressedTextureFormats().concat(e).concat(Et.detectAudioFormats()).concat([ge.Data]))})),Et._supportedFormats.get(e)},download:function(e,t,i,s){var r=this,a=null,n=null,o=0,c=!1,h=function(){c&&(c=!1,window.clearInterval(o))},_=3,l=function(){return 0<=--_&&(n(),!0)};n=function(){h(),null!=a&&a.abort(),(a=new XMLHttpRequest).open("GET",e,!0),a.responseType=i;var n=0;a.onprogress=function(e){c||(c=!0,o=window.setInterval(function(){4!=a.readyState&&5e3<Date.now()-n&&!l()&&(h(),r.handleError(t,"Download stalled"))},1e3)),n=Date.now(),r.handleProgress(t,e.loaded)},a.onerror=function(){0==a.status&&l()||(h(),r.handleError(t,"HTTP error "+a.status))},a.onload=function(){var e=a.response;null==e&&(e=a.responseText),h(),s(e)},a.send()};n()},__class__:Et});var Nt=function(){};s["flambe.subsystem.ExternalSystem"]=Nt,Nt.__name__=["flambe","subsystem","ExternalSystem"],Nt.prototype={__class__:Nt};var Dt=function(){};s["flambe.platform.html.HtmlExternal"]=Dt,Dt.__name__=["flambe","platform","html","HtmlExternal"],Dt.__interfaces__=[Nt],Dt.prototype={call:function(e,t){null==t&&(t=[]);for(var i=window,s=i,r=0,a=e.split(".");r<a.length;){var n=a[r];++r,s=I.field(i=s,n)}return s.apply(i,t)},__class__:Dt};var Ft=function(e,t){at.call(this,e),this._canvas=t};s["flambe.platform.html.HtmlMouse"]=Ft,Ft.__name__=["flambe","platform","html","HtmlMouse"],Ft.__super__=at,Ft.prototype=e(at.prototype,{__class__:Ft});var It=function(e){this._disposed=!1,this.audioElement=e};s["flambe.platform.html.HtmlSound"]=It,It.__name__=["flambe","platform","html","HtmlSound"],It.__interfaces__=[lt],It.__super__=Qe,It.prototype=e(Qe.prototype,{play:function(e){return null==e&&(e=1),new Xt(this,e,!1)},loop:function(e){return null==e&&(e=1),new Xt(this,e,!0)},onDisposed:function(){this.audioElement=null},__class__:It});var Xt=function(e,t,i){var s=this;this._sound=e,this._tickableAdded=!1,this._clonedElement=window.document.createElement("audio"),this._clonedElement.loop=i,this._clonedElement.src=e.audioElement.src,this.volume=new le(t,function(){s.updateVolume()}),this.updateVolume(),this._complete=new ne(!1),this.playAudio(),ue.hidden._value&&this.set_paused(!0)};s["flambe.platform.html._HtmlSound.HtmlPlayback"]=Xt,Xt.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"],Xt.__interfaces__=[Ct,dt],Xt.prototype={set_paused:function(e){return this._clonedElement.paused!=e&&(e?this._clonedElement.pause():this.playAudio()),e},update:function(e){return this.volume.update(e),this._complete.set__(this._clonedElement.ended),!(!this._complete._value&&!this._clonedElement.paused)&&(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},playAudio:function(){var e=this;this._clonedElement.loop&&!ae.instance.musicPlaying&&(ae.instance.musicPlaying=!0,this._clonedElement.play(),this._tickableAdded||(ae.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=ue.volume.get_changed().connect(function(){e.updateVolume()}),this._hideBinding=ue.hidden.get_changed().connect(function(t){t?(e._wasPaused=e._clonedElement.paused,e.set_paused(!0)):e.set_paused(e._wasPaused)})))},updateVolume:function(){this._clonedElement.volume=ue.volume._value*this.volume._value},__class__:Xt};var Yt=function(){};s["flambe.subsystem.StageSystem"]=Yt,Yt.__name__=["flambe","subsystem","StageSystem"],Yt.prototype={__class__:Yt};var Ot=function(e){var t=this;this._canvas=e,this.resize=new fi,this.scaleFactor=Ot.computeScaleFactor(),1!=this.scaleFactor&&(jt.setVendorStyle(this._canvas,"transform-origin","top left"),jt.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")")),jt.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){jt.callLater(i(t,t.hideMobileBrowser),200)},!1),this.hideMobileBrowser()),window.addEventListener("resize",i(this,this.onWindowResize),!1),this.onWindowResize(null),this.orientation=new ne(null),null!=window.orientation&&(window.addEventListener("orientationchange",i(this,this.onOrientationChange),!1),this.onOrientationChange(null)),this.fullscreen=new ne(!1),jt.addVendorListener(window.document,"fullscreenchange",function(){t.updateFullscreen()},!1),this.updateFullscreen()};s["flambe.platform.html.HtmlStage"]=Ot,Ot.__name__=["flambe","platform","html","HtmlStage"],Ot.__interfaces__=[Yt],Ot.computeScaleFactor=function(){var e=window.devicePixelRatio;null==e&&(e=1);var t=window.document.createElement("canvas").getContext("2d");return null==(t=jt.loadExtension("backingStorePixelRatio",t).value)&&(t=1),e/=t,t=window.screen.height,1136<e*window.screen.width||1136<e*t?1:e},Ot.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var e=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(e.width,e.height)},resizeCanvas:function(e,t){var i=this.scaleFactor*e,s=this.scaleFactor*t;return(this._canvas.width!=i||this._canvas.height!=s)&&(this._canvas.width=0|i,this._canvas.height=0|s,this.resize.emit(),!0)},hideMobileBrowser:function(){var e=this,t=window.document.documentElement.style;t.height=window.innerHeight+100+"px",t.width=window.innerWidth+"px",t.overflow="visible",jt.callLater(function(){jt.hideMobileBrowser(),jt.callLater(function(){t.height=window.innerHeight+"px",e.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(jt.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(1==jt.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Ot};var Ht=function(e){this._storage=e};s["flambe.platform.html.HtmlStorage"]=Ht,Ht.__name__=["flambe","platform","html","HtmlStorage"],Ht.__interfaces__=[mt],Ht.prototype={get_supported:function(){return!0},set:function(e,t){var i;try{var s=new yi;s.useCache=!0,s.useEnumIndex=!1,s.serialize(t),i=s.toString()}catch(e){return!1}try{this._storage.setItem("flambe:"+e,i)}catch(e){return!1}return!0},get:function(e,t){var i=null;try{i=this._storage.getItem("flambe:"+e)}catch(e){}if(null!=i)try{return Si.run(i)}catch(e){}return t},__class__:Ht};var jt=function(){};s["flambe.platform.html.HtmlUtil"]=jt,jt.__name__=["flambe","platform","html","HtmlUtil"],jt.callLater=function(e,t){null==t&&(t=0),window.setTimeout(e,t)},jt.hideMobileBrowser=function(){window.scrollTo(1,0)},jt.loadExtension=function(e,t){if(null==t&&(t=window),null!=(i=I.field(t,e)))return{prefix:"",field:e,value:i};for(var i=e.charAt(0).toUpperCase()+k.substr(e,1,null),s=0,r=jt.VENDOR_PREFIXES;s<r.length;){var a=r[s];++s;var n=a+i,o=I.field(t,n);if(null!=o)return{prefix:a,field:n,value:o}}return{prefix:null,field:null,value:null}},jt.loadFirstExtension=function(e,t){for(var i=0;i<e.length;){var s=e[i];if(++i,null!=(s=jt.loadExtension(s,t)).field)return s}return{prefix:null,field:null,value:null}},jt.polyfill=function(e,t){null==t&&(t=window);var i=jt.loadExtension(e,t).value;return null!=i&&(t[e]=i,!0)},jt.setVendorStyle=function(e,t,i){e=e.style;for(var s=0,r=jt.VENDOR_PREFIXES;s<r.length;){var a=r[s];++s,e.setProperty("-"+a+"-"+t,i)}e.setProperty(t,i)},jt.addVendorListener=function(e,t,i,s){for(var r=0,a=jt.VENDOR_PREFIXES;r<a.length;){var n=a[r];++r,e.addEventListener(n+t,i,s)}e.addEventListener(t,i,s)},jt.orientation=function(e){switch(e){case-90:case 90:return Ie.Landscape;default:return Ie.Portrait}},jt.createEmptyCanvas=function(e,t){var i;return(i=window.document.createElement("canvas")).width=e,i.height=t,i},jt.createCanvas=function(e){var t=jt.createEmptyCanvas(e.width,e.height),i=t.getContext("2d");return i.save(),i.globalCompositeOperation="copy",i.drawImage(e,0,0),i.restore(),t},jt.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var e=Math.sin,t=Math.cos;Math.sin=function(t){return 0==t?0:e(t)},Math.cos=function(e){return 0==e?1:t(e)}}};var Gt=function(e){this._disposed=!1,this.buffer=e};s["flambe.platform.html.WebAudioSound"]=Gt,Gt.__name__=["flambe","platform","html","WebAudioSound"],Gt.__interfaces__=[lt],Gt.get_supported=function(){if(Gt._detectSupport){Gt._detectSupport=!1;var e=jt.loadExtension("AudioContext").value;null!=e&&(Gt.ctx=new e,Gt.gain=Gt.createGain(),Gt.gain.connect(Gt.ctx.destination),ue.volume.watch(function(e){Gt.gain.gain.value=e}))}return null!=Gt.ctx},Gt.createGain=function(){return null!=Gt.ctx.createGain?Gt.ctx.createGain():Gt.ctx.createGainNode()},Gt.start=function(e,t){null!=e.start?e.start(t):e.noteOn(t)},Gt.__super__=Qe,Gt.prototype=e(Qe.prototype,{play:function(e){return null==e&&(e=1),new Rt(this,e,!1)},loop:function(e){return null==e&&(e=1),new Rt(this,e,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:Gt});var Rt=function(e,t,i){var s=this;this._sound=e,this._head=Gt.gain,this._complete=new ne(!1),this._sourceNode=Gt.ctx.createBufferSource(),this._sourceNode.buffer=e.buffer,this._sourceNode.loop=i,this._sourceNode.onended=function(){s._complete.set__(!0)},Gt.start(this._sourceNode,0),this.playAudio(),this.volume=new le(t,function(e){s.setVolume(e)}),1!=t&&this.setVolume(t),ue.hidden._value&&this.set_paused(!0)};s["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=Rt,Rt.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"],Rt.__interfaces__=[Ct,dt],Rt.prototype={set_paused:function(e){return e!=0<=this._pausedAt&&(e?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio()),e},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(Gt.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(e){return this.volume.update(e),3==this._sourceNode.playbackState&&this._complete.set__(!0),!!(this._complete._value||0<=this._pausedAt)&&(this._tickableAdded=!1,this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},setVolume:function(e){null==this._gainNode&&(this._gainNode=Gt.createGain(),this.insertNode(this._gainNode)),this._gainNode.gain.value=e},insertNode:function(e){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(e)),e.connect(this._head),this._head=e},playAudio:function(){var e=this;this._sourceNode.connect(this._head),this._startedAt=Gt.ctx.currentTime,this._pausedAt=-1,this._tickableAdded||(ae.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=ue.hidden.get_changed().connect(function(t){t?(e._wasPaused=0<=e._pausedAt,e.set_paused(!0)):e.set_paused(e._wasPaused)}))},__class__:Rt};var Wt=function(){this._width=this._height=-1,this._transitor=null,this.scenes=[],this.occludedScenes=[],this._root=new ie};s["flambe.scene.Director"]=Wt,Wt.__name__=["flambe","scene","Director"],Wt.__super__=n,Wt.prototype=e(n.prototype,{get_name:function(){return"Director_2"},pushScene:function(e,t){var i=this;this.completeTransition();var s=this.get_topScene();null!=s?this.playTransition(s,e,t,function(){i.hide(s)}):(this.add(e),this.invalidateVisibility())},unwindToScene:function(e,t){var i=this;this.completeTransition();var s=this.get_topScene();if(null!=s){if(s!=e){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=e;)this.scenes.pop().dispose();this.playTransition(s,e,t,function(){i.hideAndDispose(s)})}}else this.pushScene(e,t)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var e=0,t=this.scenes;e<t.length;){var i=t[e];++e,i.dispose()}this.scenes=[],this.occludedScenes=[],this._root.dispose()},onUpdate:function(e){null!=this._transitor&&this._transitor.update(e)&&this.completeTransition()},get_topScene:function(){var e=this.scenes.length;return 0<e?this.scenes[e-1]:null},add:function(e){var t=this.get_topScene();null!=t&&this._root.removeChild(t),k.remove(this.scenes,e),this.scenes.push(e),this._root.addChild(e)},hide:function(e){null!=(e=e._compMap.Scene_4)&&e.hidden.emit()},hideAndDispose:function(e){this.hide(e),e.dispose()},show:function(e){null!=(e=e._compMap.Scene_4)&&e.shown.emit()},invalidateVisibility:function(){for(var e=this.scenes.length;0<e;){var t=this.scenes[--e]._compMap.Scene_4;if(null==t||t.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(e,this.scenes.length-1):[],null!=(e=this.get_topScene())&&this.show(e)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(e,t,i,s){this.completeTransition(),this.add(t),null!=i?(this.occludedScenes.push(e),this._transitor=new Ut(e,t,i,s),this._transitor.init(this)):(s(),this.invalidateVisibility())},get_width:function(){return 0>this._width?ue._platform.getStage().get_width():this._width},get_height:function(){return 0>this._height?ue._platform.getStage().get_height():this._height},__class__:Wt});var Ut=function(e,t,i,s){this._from=e,this._to=t,this._transition=i,this._onComplete=s};s["flambe.scene._Director.Transitor"]=Ut,Ut.__name__=["flambe","scene","_Director","Transitor"],Ut.prototype={init:function(e){this._transition.init(e,this._from,this._to)},update:function(e){return this._transition.update(e)},complete:function(){this._transition.complete(),this._onComplete()},__class__:Ut};var Kt=function(e){null==e&&(e=!0),this.opaque=e,this.shown=new fi,this.hidden=new fi};s["flambe.scene.Scene"]=Kt,Kt.__name__=["flambe","scene","Scene"],Kt.__super__=n,Kt.prototype=e(n.prototype,{get_name:function(){return"Scene_4"},__class__:Kt});var zt=function(){};s["flambe.scene.Transition"]=zt,zt.__name__=["flambe","scene","Transition"],zt.prototype={init:function(e,t,i){this._director=e,this._from=t,this._to=i},update:function(){return!0},complete:function(){},__class__:zt};var qt=function(e,t){this._duration=e,this._ease=null!=t?t:be.linear};s["flambe.scene.TweenTransition"]=qt,qt.__name__=["flambe","scene","TweenTransition"],qt.__super__=zt,qt.prototype=e(zt.prototype,{init:function(e,t,i){zt.prototype.init.call(this,e,t,i),this._elapsed=0},update:function(e){return this._elapsed+=e,this._elapsed>=this._duration},interp:function(e,t){return e+(t-e)*this._ease(this._elapsed/this._duration)},__class__:qt});var Vt=function(e,t){this._direction=2,qt.call(this,e,t)};s["flambe.scene.SlideTransition"]=Vt,Vt.__name__=["flambe","scene","SlideTransition"],Vt.__super__=qt,Vt.prototype=e(qt.prototype,{init:function(e,t,i){switch(qt.prototype.init.call(this,e,t,i),this._direction){case 0:this._x=0,this._y=-this._director.get_height();break;case 1:this._x=0,this._y=this._director.get_height();break;case 2:this._x=-this._director.get_width(),this._y=0;break;case 3:this._x=this._director.get_width(),this._y=0}null==(e=this._from._compMap.Sprite_0)&&this._from.add(e=new Me),e.setXY(0,0),null==(e=this._to._compMap.Sprite_0)&&this._to.add(e=new Me),e.setXY(-this._x,-this._y)},update:function(e){return e=qt.prototype.update.call(this,e),this._from._compMap.Sprite_0.setXY(this.interp(0,this._x),this.interp(0,this._y)),this._to._compMap.Sprite_0.setXY(this.interp(-this._x,0),this.interp(-this._y,0)),e},complete:function(){this._from._compMap.Sprite_0.setXY(0,0),this._to._compMap.Sprite_0.setXY(0,0)},__class__:Vt});var Jt=function(){};s["flambe.script.Action"]=Jt,Jt.__name__=["flambe","script","Action"],Jt.prototype={__class__:Jt};var Zt=function(e){this._fn=e};s["flambe.script.CallFunction"]=Zt,Zt.__name__=["flambe","script","CallFunction"],Zt.__interfaces__=[Jt],Zt.prototype={update:function(){return this._fn(),0},__class__:Zt};var Qt=function(e){this._duration=e,this._elapsed=0};s["flambe.script.Delay"]=Qt,Qt.__name__=["flambe","script","Delay"],Qt.__interfaces__=[Jt],Qt.prototype={update:function(e){if(this._elapsed+=e,this._elapsed>=this._duration){var t=this._elapsed-this._duration;return this._elapsed=0,e-t}return-1},__class__:Qt};var $t=function(e,t){null==t&&(t=-1),this._action=e,this._remaining=this._count=t};s["flambe.script.Repeat"]=$t,$t.__name__=["flambe","script","Repeat"],$t.__interfaces__=[Jt],$t.prototype={update:function(e,t){if(0==this._count)return 0;var i=this._action.update(e,t);return 0<this._count&&0<=i&&0==--this._remaining?(this._remaining=this._count,i):-1},__class__:$t};var ei=function(){this.stopAll()};s["flambe.script.Script"]=ei,ei.__name__=["flambe","script","Script"],ei.__super__=n,ei.prototype=e(n.prototype,{get_name:function(){return"Script_1"},run:function(e){return e=new ti(e),this._handles.push(e),e},stopAll:function(){this._handles=[]},onUpdate:function(e){for(var t=0;t<this._handles.length;){var i=this._handles[t];i.removed||0<=i.action.update(e,this.owner)?this._handles.splice(t,1):++t}},__class__:ei});var ti=function(e){this.removed=!1,this.action=e};s["flambe.script._Script.Handle"]=ti,ti.__name__=["flambe","script","_Script","Handle"],ti.__interfaces__=[a],ti.prototype={dispose:function(){this.removed=!0,this.action=null},__class__:ti};var ii=function(e){this._idx=0,this._runningActions=null!=e?e.slice():[]};s["flambe.script.Sequence"]=ii,ii.__name__=["flambe","script","Sequence"],ii.__interfaces__=[Jt],ii.prototype={update:function(e,t){for(var i=0;;){var s=this._runningActions[this._idx];if(null!=s){if(!(0<=(s=s.update(e-i,t))))return-1;i+=s}if(++this._idx,this._idx>=this._runningActions.length){this._idx=0;break}if(i>e)return-1}return i},__class__:ii};var si=s["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};si.Stage3D=["Stage3D",0],si.Stage3D.toString=r,si.Stage3D.__enum__=si,si.WebGL=["WebGL",1],si.WebGL.toString=r,si.WebGL.__enum__=si,si.Canvas=["Canvas",2],si.Canvas.toString=r,si.Canvas.__enum__=si;var ri=function(){};s["flambe.swf.Symbol"]=ri,ri.__name__=["flambe","swf","Symbol"],ri.prototype={__class__:ri};var ai=function(e,t){this._name=e.symbol;var i=e.rect;this.texture=t.subTexture(i[0],i[1],i[2],i[3]),null!=(i=e.origin)?(this.anchorX=i[0],this.anchorY=i[1]):this.anchorY=this.anchorX=0};s["flambe.swf.BitmapSymbol"]=ai,ai.__name__=["flambe","swf","BitmapSymbol"],ai.__interfaces__=[ri],ai.prototype={createSprite:function(){var e=new Fe(this.texture);return e.setAnchor(this.anchorX,this.anchorY),e},__class__:ai};var ni=function(e,t){this._file=e.getFile(t+"/library.json");var i=JSON.parse(this._file.toString());this._symbols=new Li,this.frameRate=i.frameRate;for(var s=[],r=0,a=i.movies;r<a.length;){var n=a[r];++r,n=new _i(this,n),s.push(n),this._symbols.set(n._name,n)}for(1!=(i=i.textureGroups)[0].scaleFactor||i.length,i=i[0].atlases,r=0;r<i.length;){var o=i[r];for(++r,a=e.getTexture(t+"/"+xi.removeFileExtension(o.file)),n=0,o=o.textures;n<o.length;){var c=o[n];++n,c=new ai(c,a),this._symbols.set(c._name,c)}}for(i=0;i<s.length;)for(a=s[i],++i,r=0,a=a.layers;r<a.length;)for(n=a[r],++r,o=(n=n.keyframes).length,c=0;c<o;){var h=c++,_=n[h];if(null!=_.symbolName){var l=this._symbols.get(_.symbolName);_.symbol=l}_.tweened&&1==_.duration&&h+1<o&&(!(h=n[h+1]).visible||null==h.symbolName)&&(_.visible=!1)}};s["flambe.swf.Library"]=ni,ni.__name__=["flambe","swf","Library"],ni.prototype={createSprite:function(e,t){null==t&&(t=!0);var i=this._symbols.get(e);if(null==i){if(t)throw xi.withFields("Missing symbol",["name",e]);return null}return i.createSprite()},__class__:ni};var oi=function(e){this._oneshotSprite=this._loopingSprite=null,this._lib=e,this._root=new ie,this.movie=new ne(null),this.setCache(!0)};s["flambe.swf.MoviePlayer"]=oi,oi.__name__=["flambe","swf","MoviePlayer"],oi.__super__=n,oi.prototype=e(n.prototype,{get_name:function(){return"MoviePlayer_30"},setCache:function(e){return this._cache=e?new Li:null,this},loop:function(e,t){return null==t&&(t=!0),(t||null==this._loopingSprite||this._loopingSprite.symbol._name!=e)&&(this._oneshotSprite=null,this._loopingSprite=this.playFromCache(e)),this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose(),this._oneshotSprite=this._loopingSprite=null,this.movie.set__(null)},onUpdate:function(e){null!=this._oneshotSprite&&this._oneshotSprite._position+e>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},playFromCache:function(e){var t;return null!=this._cache?null!=(t=this._cache.get(e))?t.set_position(0):(t=this.createMovie(e),this._cache.set(e,t)):t=this.createMovie(e),this.setCurrent(t)},createMovie:function(e){return e=this._lib.createSprite(e,!0),null!=this._decorator&&this._decorator(e),e},setCurrent:function(e){return this._root.add(e),this.movie.set__(e)},__class__:oi});var ci=function(e){this._looped=null,Me.call(this),this.symbol=e,this.speed=new le(1),this._animators=Array(e.layers.length);for(var t=0,i=this._animators.length;t<i;){var s=t++;this._animators[s]=new hi(e.layers[s])}this._position=this._frame=0,this.goto(1)};s["flambe.swf.MovieSprite"]=ci,ci.__name__=["flambe","swf","MovieSprite"],ci.__super__=Me,ci.prototype=e(Me.prototype,{onAdded:function(){Me.prototype.onAdded.call(this);for(var e=0,t=this._animators;e<t.length;){var i=t[e];++e,this.owner.addChild(i.content)}},onRemoved:function(){Me.prototype.onRemoved.call(this);for(var e=0,t=this._animators;e<t.length;){var i=t[e];++e,this.owner.removeChild(i.content)}},onUpdate:function(e){switch(Me.prototype.onUpdate.call(this,e),this.speed.update(e),384&this._flags){case 0:this._position+=this.speed._value*e,this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 256:this._flags&=-257}this.goto(this._position*this.symbol.frameRate)},goto:function(e){if(this._frame!=e){if(e<this._frame)for(var t=0,i=this._animators;t<i.length;){var s=i[t];++t,s.needsKeyframeUpdate=!0,s.keyframeIdx=0}for(t=0,i=this._animators;t<i.length;)s=i[t],++t,s.composeFrame(e);this._frame=e}},set_position:function(e){return this._position=Ve.clamp(e,0,this.symbol.duration)},rewind:function(){this._position=0,this._flags|=256},__class__:ci});var hi=function(e){if(this.keyframeIdx=0,this.needsKeyframeUpdate=!1,this.layer=e,this.content=new ie,e.empty)this._sprites=null;else{this._sprites=Array(e.keyframes.length);for(var t=0,i=this._sprites.length;t<i;){var s=t++,r=e.keyframes[s];this._sprites[s]=0<s&&e.keyframes[s-1].symbol==r.symbol?this._sprites[s-1]:null==r.symbol?new Me:r.symbol.createSprite()}this.content.add(this._sprites[0])}};s["flambe.swf._MovieSprite.LayerAnimator"]=hi,hi.__name__=["flambe","swf","_MovieSprite","LayerAnimator"],hi.prototype={composeFrame:function(e){if(null!=this._sprites){var t=this.layer.keyframes,i=t.length-1;if(e>this.layer.frames)this.content._compMap.Sprite_0.set_visible(!1),this.keyframeIdx=i,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<i&&t[this.keyframeIdx+1].index<=e;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var s;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,(s=this._sprites[this.keyframeIdx])!=this.content._compMap.Sprite_0&&(z.getClass(s)==ci&&s.rewind(),this.content.add(s))):s=this.content._compMap.Sprite_0;var r=t[this.keyframeIdx],a=r.visible&&null!=r.symbol;if(s.set_visible(a),a){a=r.x;var n=r.y,o=r.scaleX,c=r.scaleY,h=r.skewX,_=r.skewY,l=r.alpha;if(r.tweened&&this.keyframeIdx<i){var u;if(e=(e-r.index)/r.duration,0!=(i=r.ease))0>i?(u=1-(u=1-e)*u,i=-i):u=e*e,e=i*u+(1-i)*e;a+=((t=t[this.keyframeIdx+1]).x-a)*e,n+=(t.y-n)*e,o+=(t.scaleX-o)*e,c+=(t.scaleY-c)*e,h+=(t.skewX-h)*e,_+=(t.skewY-_)*e,l+=(t.alpha-l)*e}t=s.getLocalMatrix(),e=Math.sin(h),h=Math.cos(h),i=Math.sin(_),_=Math.cos(_),t.set(_*o,i*o,-e*c,h*c,a,n),t.translate(-r.pivotX,-r.pivotY),s.alpha.set__(l)}}}},__class__:hi};var _i=function(e,t){this._name=t.id,this.frameRate=e.frameRate,this.frames=0,this.layers=Array(t.layers.length);for(var i=0,s=this.layers.length;i<s;){var r=i++,a=new li(t.layers[r]);this.frames=Math.max(a.frames,this.frames),this.layers[r]=a}this.duration=this.frames/this.frameRate};s["flambe.swf.MovieSymbol"]=_i,_i.__name__=["flambe","swf","MovieSymbol"],_i.__interfaces__=[ri],_i.prototype={createSprite:function(){return new ci(this)},__class__:_i};var li=function(e){this.empty=!0,this.name=e.name;var t=null;this.keyframes=Array(e.keyframes.length);for(var i=0,s=this.keyframes.length;i<s;){var r=i++;t=new ui(e.keyframes[r],t);this.keyframes[r]=t,this.empty=this.empty&&null==t.symbolName}this.frames=null!=t?t.index+t.duration:0};s["flambe.swf.MovieLayer"]=li,li.__name__=["flambe","swf","MovieLayer"],li.prototype={__class__:li};var ui=function(e,t){this.ease=0,this.visible=this.tweened=!0,this.alpha=1,this.skewX=this.skewY=this.pivotX=this.pivotY=0,this.scaleX=this.scaleY=1,this.x=this.y=0,this.symbol=null,this.index=null!=t?t.index+t.duration:0,this.duration=e.duration,this.label=e.label,this.symbolName=e.ref;var i=e.loc;null!=i&&(this.x=i[0],this.y=i[1]),null!=(i=e.scale)&&(this.scaleX=i[0],this.scaleY=i[1]),null!=(i=e.skew)&&(this.skewX=i[0],this.skewY=i[1]),null!=(i=e.pivot)&&(this.pivotX=i[0],this.pivotY=i[1]),null!=e.alpha&&(this.alpha=e.alpha),null!=e.visible&&(this.visible=e.visible),null!=e.tweened&&(this.tweened=e.tweened),null!=e.ease&&(this.ease=e.ease)};s["flambe.swf.MovieKeyframe"]=ui,ui.__name__=["flambe","swf","MovieKeyframe"],ui.prototype={__class__:ui};var di=function(){};s["flambe.util.Assert"]=di,di.__name__=["flambe","util","Assert"],di.that=function(){};var pi=function(){};s["flambe.util.BitSets"]=pi,pi.__name__=["flambe","util","BitSets"],pi.set=function(e,t,i){return i?e|t:e&~t};var mi=function(){this.mainSection=new Li,this.sections=new Li};s["flambe.util.Config"]=mi,mi.__name__=["flambe","util","Config"],mi.parse=function(e){var t=new mi,i=new d("^\\s*;",""),s=new d("^\\s*\\[\\s*([^\\]]*)\\s*\\]",""),r=new d("^\\s*([\\w\\.\\-_]+)\\s*=\\s*(.*)",""),a=t.mainSection,n=0;for(e=new d("\r\n|\r|\n","g").split(e);n<e.length;){var o=e[n];if(++n,!i.match(o))if(s.match(o))o=s.matched(1),t.sections.exists(o)?a=t.sections.get(o):(a=new Li,t.sections.set(o,a));else if(r.match(o)){o=r.matched(1);var c=r.matched(2),h=c.charCodeAt(0);34!=h&&39!=h||c.charCodeAt(c.length-1)!=h||(c=k.substr(c,1,c.length-2)),c=U.replace(U.replace(U.replace(U.replace(U.replace(U.replace(c,"\\n","\n"),"\\r","\r"),"\\t","\t"),"\\'","'"),'\\"','"'),"\\\\","\\"),a.set(o,c)}}return t},mi.prototype={get:function(e){var t,i=e.indexOf(".");return 0>i?this.mainSection.get(e):null!=(t=this.sections.get(k.substr(e,0,i)))?(e=k.substr(e,i+1,null),t.get(e)):null},__class__:mi};var bi=function(e){this.config=e,this.missingTranslation=new _e};s["flambe.util.MessageBundle"]=bi,bi.__name__=["flambe","util","MessageBundle"],bi.parse=function(e){return new bi(mi.parse(e))},bi.prototype={get:function(e,t){var i=this.config.get(e);return null==i?(this.missingTranslation.emit(e),e):null!=t?xi.substitute(i,t):i},__class__:bi};var vi=function(){this.success=new _e,this.error=new _e,this.progressChanged=new fi,this.hasResult=!1,this._total=this._progress=0};s["flambe.util.Promise"]=vi,vi.__name__=["flambe","util","Promise"],vi.prototype={set_result:function(e){if(this.hasResult)throw"Promise result already assigned";return this._result=e,this.hasResult=!0,this.success.emit(e),e},get:function(e){return this.hasResult?(e(this._result),null):this.success.connect(e).once()},set_progress:function(e){return this._progress!=e&&(this._progress=e,this.progressChanged.emit()),e},set_total:function(e){return this._total!=e&&(this._total=e,this.progressChanged.emit()),e},__class__:vi};var fi=function(e){ce.call(this,e)};s["flambe.util.Signal0"]=fi,fi.__name__=["flambe","util","Signal0"],fi.__super__=ce,fi.prototype=e(ce.prototype,{emit:function(){var e=this;this._head==ce.DISPATCHING_SENTINEL?this.defer(function(){e.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var e=this.willEmit(),t=e;null!=t;)t._listener(),t.stayInList||t.dispose(),t=t._next;this.didEmit(e)},__class__:fi});var gi=function(e){this.next=null,this.fn=e};s["flambe.util._SignalBase.Task"]=gi,gi.__name__=["flambe","util","_SignalBase","Task"],gi.prototype={__class__:gi};var xi=function(){};s["flambe.util.Strings"]=xi,xi.__name__=["flambe","util","Strings"],xi.getFileExtension=function(e){var t=e.lastIndexOf(".");return 0<t?k.substr(e,t+1,null):null},xi.removeFileExtension=function(e){var t=e.lastIndexOf(".");return 0<t?k.substr(e,0,t):e},xi.getUrlExtension=function(e){var t=e.lastIndexOf("?");return 0<=t&&(e=k.substr(e,0,t)),0<=(t=e.lastIndexOf("/"))&&(e=k.substr(e,t+1,null)),xi.getFileExtension(e)},xi.joinPath=function(e,t){return 0<e.length&&47!=e.charCodeAt(e.length-1)&&(e+="/"),e+t},xi.substitute=function(e,t){for(var i=0,s=t.length;i<s;){var r=i++;e=U.replace(e,"{"+r+"}",t[r])}return e},xi.withFields=function(e,t){var i=t.length;if(0<i){e=0<e.length?e+" [":e+"[";for(var s=0;s<i;){0<s&&(e+=", ");var r=t[s],a=t[s+1];if(R.is(a,Error)){var n=a.stack;null!=n&&(a=n)}e+=r+"="+R.string(a),s+=2}e+="]"}return e};var yi=function(){this.buf=new W,this.cache=[],this.useCache=yi.USE_CACHE,this.useEnumIndex=yi.USE_ENUM_INDEX,this.shash=new Li,this.scount=0};s["haxe.Serializer"]=yi,yi.__name__=["haxe","Serializer"],yi.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.get(e);null!=t?(this.buf.b+="R",this.buf.b+=""+t):(this.shash.set(e,this.scount++),this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=""+e.length,this.buf.b+=":",this.buf.b+=e)},serializeRef:function(e){for(var t=typeof e,i=0,s=this.cache.length;i<s;){var r=i++,a=this.cache[r];if(typeof a==t&&a==e)return this.buf.b+="r",this.buf.b+=""+r,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,i=I.fields(e);t<i.length;){var s=i[t];++t,this.serializeString(s),this.serialize(I.field(e,s))}this.buf.b+="g"},serialize:function(e){var t=z.typeof(e);switch(t[1]){case 0:this.buf.b+="n";break;case 1:if(0==e){this.buf.b+="z";break}this.buf.b+="i",this.buf.b+=""+e;break;case 2:Math.isNaN(e)?this.buf.b+="k":Math.isFinite(e)?(this.buf.b+="d",this.buf.b+=""+e):this.buf.b=0>e?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=e?this.buf.b+"t":this.buf.b+"f";break;case 6:if((t=t[2])==String){this.serializeString(e);break}if(this.useCache&&this.serializeRef(e))break;switch(t){case Array:t=0,this.buf.b+="a";for(var i=e.length,s=0;s<i;){var r=s++;null==e[r]?t++:(0<t&&(1==t?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=""+t),t=0),this.serialize(e[r]))}0<t&&(1==t?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=""+t)),this.buf.b+="h";break;case B:for(this.buf.b+="l",e=e.iterator();e.hasNext();)this.serialize(e.next());this.buf.b+="h";break;case Date:this.buf.b+="v",this.buf.add(k.dateStr(e));break;case Li:for(this.buf.b+="b",t=e.keys();t.hasNext();)i=t.next(),this.serializeString(i),this.serialize(e.get(i));this.buf.b+="h";break;case wi:for(this.buf.b+="q",t=e.keys();t.hasNext();)i=t.next(),this.buf.b+=":",this.buf.b+=""+i,this.serialize(e.get(i));this.buf.b+="h";break;case ki:for(this.buf.b+="M",t=e.keys();t.hasNext();)i=t.next(),s=I.field(i,"__id__"),I.deleteField(i,"__id__"),this.serialize(i),i.__id__=s,this.serialize(e.h[i.__id__]);this.buf.b+="h";break;case Mi:for(s=0,r=e.length-2,t=new W,i=yi.BASE64;s<r;){var a=e.get(s++),n=e.get(s++),o=e.get(s++);t.add(i.charAt(a>>2)),t.add(i.charAt(63&(a<<4|n>>4))),t.add(i.charAt(63&(n<<2|o>>6))),t.add(i.charAt(63&o))}s==r?(r=e.get(s++),e=e.get(s++),t.add(i.charAt(r>>2)),t.add(i.charAt(63&(r<<4|e>>4))),t.add(i.charAt(e<<2&63))):s==r+1&&(e=e.get(s++),t.add(i.charAt(e>>2)),t.add(i.charAt(e<<4&63))),e=t.b,this.buf.b+="s",this.buf.b+=""+e.length,this.buf.b+=":",this.buf.b+=e;break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(z.getClassName(t)),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(z.getClassName(t)),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 4:if(this.useCache&&this.serializeRef(e))break;this.buf.b+="o",this.serializeFields(e);break;case 7:if(t=t[2],this.useCache){if(this.serializeRef(e))break;this.cache.pop()}for(this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w",this.serializeString(z.getEnumName(t)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=R.string(e[1])):this.serializeString(e[0]),this.buf.b+=":",t=e.length,this.buf.b+=""+(t-2),i=2;i<t;)s=i++,this.serialize(e[s]);this.useCache&&this.cache.push(e);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+R.string(e)}},__class__:yi};var Si=function(e){this.buf=e,this.length=e.length,this.pos=0,this.scache=[],this.cache=[],null==(e=Si.DEFAULT_RESOLVER)&&(e=z,Si.DEFAULT_RESOLVER=e),this.setResolver(e)};s["haxe.Unserializer"]=Si,Si.__name__=["haxe","Unserializer"],Si.initCodes=function(){for(var e=[],t=0,i=Si.BASE64.length;t<i;){var s=t++;e[Si.BASE64.charCodeAt(s)]=s}return e},Si.run=function(e){return new Si(e).unserialize()},Si.prototype={setResolver:function(e){this.resolver=null==e?{resolveClass:function(){return null},resolveEnum:function(){return null}}:e},get:function(e){return this.buf.charCodeAt(e)},readDigits:function(){for(var e=0,t=!1,i=this.pos;;){var s=this.buf.charCodeAt(this.pos);if(s!=s)break;if(45==s){if(this.pos!=i)break;t=!0}else{if(48>s||57<s)break;e=10*e+(s-48)}this.pos++}return t&&(e*=-1),e},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw"Invalid object key";var i=this.unserialize();e[t]=i}this.pos++},unserializeEnum:function(e,t){if(58!=this.get(this.pos++))throw"Invalid enum format";var i=this.readDigits();if(0==i)return z.createEnum(e,t);for(var s=[];0<i--;)s.push(this.unserialize());return z.createEnum(e,t,s)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var e=this.pos;;){if(!(43<=(o=this.buf.charCodeAt(this.pos))&&58>o||101==o||69==o))break;this.pos++}return R.parseFloat(k.substr(this.buf,e,this.pos-e));case 121:if(e=this.readDigits(),58!=this.get(this.pos++)||this.length-this.pos<e)throw"Invalid string length";return o=k.substr(this.buf,this.pos,e),this.pos+=e,o=decodeURIComponent(o.split("+").join(" ")),this.scache.push(o),o;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:for(e=[],this.cache.push(e);;){if(104==(o=this.buf.charCodeAt(this.pos))){this.pos++;break}117==o?(this.pos++,o=this.readDigits(),e[e.length+o-1]=null):e.push(this.unserialize())}return e;case 111:return e={},this.cache.push(e),this.unserializeObject(e),e;case 114:if(0>(e=this.readDigits())||e>=this.cache.length)throw"Invalid reference";return this.cache[e];case 82:if(0>(e=this.readDigits())||e>=this.scache.length)throw"Invalid string reference";return this.scache[e];case 120:throw this.unserialize();case 99:if(e=this.unserialize(),null==(o=this.resolver.resolveClass(e)))throw"Class not found "+e;return e=z.createEmptyInstance(o),this.cache.push(e),this.unserializeObject(e),e;case 119:if(e=this.unserialize(),null==(o=this.resolver.resolveEnum(e)))throw"Enum not found "+e;return e=this.unserializeEnum(o,this.unserialize()),this.cache.push(e),e;case 106:if(e=this.unserialize(),null==(o=this.resolver.resolveEnum(e)))throw"Enum not found "+e;this.pos++;var t=this.readDigits(),i=z.getEnumConstructs(o)[t];if(null==i)throw"Unknown enum index "+e+"@"+t;return e=this.unserializeEnum(o,i),this.cache.push(e),e;case 108:for(e=new B,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)e.add(this.unserialize());return this.pos++,e;case 98:for(e=new Li,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)o=this.unserialize(),e.set(o,this.unserialize());return this.pos++,e;case 113:for(e=new wi,this.cache.push(e),o=this.get(this.pos++);58==o;)o=this.readDigits(),e.set(o,this.unserialize()),o=this.get(this.pos++);if(104!=o)throw"Invalid IntMap format";return e;case 77:for(e=new ki,this.cache.push(e);104!=this.buf.charCodeAt(this.pos);)o=this.unserialize(),e.set(o,this.unserialize());return this.pos++,e;case 118:return e=k.substr(this.buf,this.pos,19),e=k.strDate(e),this.cache.push(e),this.pos+=19,e;case 115:if(e=this.readDigits(),i=this.buf,58!=this.get(this.pos++)||this.length-this.pos<e)throw"Invalid bytes length";var s=Si.CODES;null==s&&(s=Si.initCodes(),Si.CODES=s);var r=this.pos,a=3&e,n=r+(e-a),o=Mi.alloc(3*(e>>2)+(2<=a?a-1:0));for(t=0;r<n;){var c=s[U.fastCodeAt(i,r++)],h=s[U.fastCodeAt(i,r++)];o.set(t++,c<<2|h>>4),c=s[U.fastCodeAt(i,r++)],o.set(t++,h<<4|c>>2),h=s[U.fastCodeAt(i,r++)],o.set(t++,c<<6|h)}return 2<=a&&(h=s[U.fastCodeAt(i,r++)],n=s[U.fastCodeAt(i,r++)],o.set(t++,h<<2|n>>4),3==a&&(i=s[U.fastCodeAt(i,r++)],o.set(t++,n<<4|i>>2))),this.pos+=e,this.cache.push(o),o;case 67:if(e=this.unserialize(),null==(o=this.resolver.resolveClass(e)))throw"Class not found "+e;if(e=z.createEmptyInstance(o),this.cache.push(e),e.hxUnserialize(this),103!=this.get(this.pos++))throw"Invalid custom data";return e}throw this.pos--,"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos},__class__:Si};var wi=function(){this.h={}};s["haxe.ds.IntMap"]=wi,wi.__name__=["haxe","ds","IntMap"],wi.__interfaces__=[E],wi.prototype={set:function(e,t){this.h[e]=t},get:function(e){return this.h[e]},exists:function(e){return this.h.hasOwnProperty(e)},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return k.iter(t)},__class__:wi};var ki=function(){this.h={},this.h.__keys__={}};s["haxe.ds.ObjectMap"]=ki,ki.__name__=["haxe","ds","ObjectMap"],ki.__interfaces__=[E],ki.prototype={set:function(e,t){var i=e.__id__||(e.__id__=++ki.count);this.h[i]=t,this.h.__keys__[i]=e},keys:function(){var e,t=[];for(e in this.h.__keys__)this.h.hasOwnProperty(e)&&t.push(this.h.__keys__[e]);return k.iter(t)},__class__:ki};var Li=function(){this.h={}};s["haxe.ds.StringMap"]=Li,Li.__name__=["haxe","ds","StringMap"],Li.__interfaces__=[E],Li.prototype={set:function(e,t){this.h["$"+e]=t},get:function(e){return this.h["$"+e]},exists:function(e){return this.h.hasOwnProperty("$"+e)},keys:function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(e.substr(1));return k.iter(t)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:Li};var Mi=function(e,t){this.length=e,this.b=t};s["haxe.io.Bytes"]=Mi,Mi.__name__=["haxe","io","Bytes"],Mi.alloc=function(e){for(var t=[],i=0;i<e;)i++,t.push(0);return new Mi(e,t)},Mi.prototype={get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},__class__:Mi};var Ci=function(){};s["haxe.rtti.Meta"]=Ci,Ci.__name__=["haxe","rtti","Meta"],Ci.getType=function(e){return null==(e=e.__meta__)||null==e.obj?{}:e.obj};var Ti=function(e){this.__x=e};s["haxe.xml._Fast.NodeAccess"]=Ti,Ti.__name__=["haxe","xml","_Fast","NodeAccess"],Ti.prototype={resolve:function(e){var t=this.__x.elementsNamed(e).next();if(null==t)throw(this.__x.nodeType==Z.Document?"Document":this.__x.get_nodeName())+" is missing element "+e;return new Ni(t)},__class__:Ti};var Bi=function(e){this.__x=e};s["haxe.xml._Fast.AttribAccess"]=Bi,Bi.__name__=["haxe","xml","_Fast","AttribAccess"],Bi.prototype={resolve:function(e){if(this.__x.nodeType==Z.Document)throw"Cannot access document attribute "+e;var t=this.__x.get(e);if(null==t)throw this.__x.get_nodeName()+" is missing attribute "+e;return t},__class__:Bi};var Pi=function(e){this.__x=e};s["haxe.xml._Fast.HasAttribAccess"]=Pi,Pi.__name__=["haxe","xml","_Fast","HasAttribAccess"],Pi.prototype={__class__:Pi};var Ai=function(e){this.__x=e};s["haxe.xml._Fast.HasNodeAccess"]=Ai,Ai.__name__=["haxe","xml","_Fast","HasNodeAccess"],Ai.prototype={__class__:Ai};var Ei=function(e){this.__x=e};s["haxe.xml._Fast.NodeListAccess"]=Ei,Ei.__name__=["haxe","xml","_Fast","NodeListAccess"],Ei.prototype={resolve:function(e){var t=new B;for(e=this.__x.elementsNamed(e);e.hasNext();){var i=e.next();t.add(new Ni(i))}return t},__class__:Ei};var Ni=function(e){if(e.nodeType!=Z.Document&&e.nodeType!=Z.Element)throw"Invalid nodeType "+R.string(e.nodeType);this.x=e,this.node=new Ti(e),this.nodes=new Ei(e),this.att=new Bi(e),this.has=new Pi(e),this.hasNode=new Ai(e)};s["haxe.xml.Fast"]=Ni,Ni.__name__=["haxe","xml","Fast"],Ni.prototype={__class__:Ni};var Di=function(){};s["haxe.xml.Parser"]=Di,Di.__name__=["haxe","xml","Parser"],Di.parse=function(e){var t=Z.createDocument();return Di.doParse(e,0,t),t},Di.doParse=function(e,t,i){null==t&&(t=0);for(var s=null,r=1,a=1,n=null,o=0,c=0,h=0,_=e.charCodeAt(t),l=new W;_==_;){switch(r){case 0:switch(_){case 10:case 13:case 9:case 32:break;default:r=a;continue}break;case 1:if(60!==_){o=t,r=13;continue}r=0,a=2;break;case 13:60==_?(a=Z.createPCData(l.b+k.substr(e,o,t-o)),l=new W,i.addChild(a),c++,r=0,a=2):38==_&&(l.addSub(e,o,t-o),r=18,a=13,o=t+1);break;case 17:93==_&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(r=Z.createCData(k.substr(e,o,t-o)),i.addChild(r),c++,t+=2,r=1);break;case 2:switch(_){case 33:if(91==e.charCodeAt(t+1)){if(t+=2,"CDATA["!=k.substr(e,t,6).toUpperCase())throw"Expected <![CDATA[";t+=5,r=17}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=k.substr(e,t+2,6).toUpperCase())throw"Expected <!DOCTYPE";t+=8,r=16}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw"Expected \x3c!--";t+=2,r=15}o=t+1;break;case 63:r=14,o=t;break;case 47:if(null==i)throw"Expected node name";o=t+1,r=0,a=10;break;default:r=3,o=t;continue}break;case 3:if(!(97<=_&&122>=_||65<=_&&90>=_||48<=_&&57>=_||58==_||46==_||95==_||45==_)){if(t==o)throw"Expected node name";s=Z.createElement(k.substr(e,o,t-o)),i.addChild(s),r=0,a=4;continue}break;case 4:switch(_){case 47:r=11,c++;break;case 62:r=9,c++;break;default:r=5,o=t;continue}break;case 5:if(!(97<=_&&122>=_||65<=_&&90>=_||48<=_&&57>=_||58==_||46==_||95==_||45==_)){if(o==t)throw"Expected attribute name";if(n=k.substr(e,o,t-o),s.exists(n))throw"Duplicate attribute";r=0,a=6;continue}break;case 6:if(61!==_)throw"Expected =";r=0,a=7;break;case 7:switch(_){case 34:case 39:r=8,o=t;break;default:throw'Expected "'}break;case 8:_==e.charCodeAt(o)&&(a=k.substr(e,o+1,t-o-1),s.set(n,a),r=0,a=4);break;case 9:o=t=Di.doParse(e,t,s),r=1;break;case 11:if(62!==_)throw"Expected >";r=1;break;case 12:if(62===_)return 0==c&&i.addChild(Z.createPCData("")),t;throw"Expected >";case 10:if(!(97<=_&&122>=_||65<=_&&90>=_||48<=_&&57>=_||58==_||46==_||95==_||45==_)){if(o==t)throw"Expected node name";if(k.substr(e,o,t-o)!=i.get_nodeName())throw"Expected </"+i.get_nodeName()+">";r=0,a=12;continue}break;case 15:45==_&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(Z.createComment(k.substr(e,o,t-o))),t+=2,r=1);break;case 16:91==_?h++:93==_?h--:62==_&&0==h&&(i.addChild(Z.createDocType(k.substr(e,o,t-o))),r=1);break;case 14:63==_&&62==e.charCodeAt(t+1)&&(t++,r=k.substr(e,o+1,t-o-2),i.addChild(Z.createProcessingInstruction(r)),r=1);break;case 18:59==_&&(35==(o=k.substr(e,o,t-o)).charCodeAt(0)?(o=120==o.charCodeAt(1)?R.parseInt("0"+k.substr(o,1,o.length-1)):R.parseInt(k.substr(o,1,o.length-1)),l.add(String.fromCharCode(o))):Di.escapes.exists(o)?l.add(Di.escapes.get(o)):l.b+="&"+o+";",o=t+1,r=a)}_=U.fastCodeAt(e,++t)}if(1==r&&(o=t,r=13),13==r)return(t!=o||0==c)&&i.addChild(Z.createPCData(l.b+k.substr(e,o,t-o))),t;throw"Unexpected end"};var Fi=function(){};s["js.Boot"]=Fi,Fi.__name__=["js","Boot"],Fi.getClass=function(e){return e instanceof Array&&null==e.__enum__?Array:e.__class__},Fi.__string_rec=function(e,t){if(null==e)return"null";if(5<=t.length)return"<...>";switch("function"==(i=typeof e)&&(e.__name__||e.__ename__)&&(i="object"),i){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];for(var i=e[0]+"(",s=(t=t+"\t",2),r=e.length;s<r;){var a=s++;i=2!=a?i+","+Fi.__string_rec(e[a],t):i+Fi.__string_rec(e[a],t)}return i+")"}for(i=e.length,s="[",t+="\t",r=0;r<i;)s+=(0<(a=r++)?",":"")+Fi.__string_rec(e[a],t);return s+"]"}try{s=e.toString}catch(e){return"???"}if(null!=s&&s!=Object.toString&&"[object Object]"!=(i=e.toString()))return i;for(i in i=null,s="{\n",t+="\t",r=null!=e.hasOwnProperty,e)r&&!e.hasOwnProperty(i)||"prototype"==i||"__class__"==i||"__super__"==i||"__interfaces__"==i||"__properties__"==i||(2!=s.length&&(s+=", \n"),s+=t+i+" : "+Fi.__string_rec(e[i],t));return s+"\n"+(t=t.substring(1))+"}";case"function":return"<function>";case"string":return e;default:return""+e}},Fi.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var i=e.__interfaces__;if(null!=i)for(var s=0,r=i.length;s<r;){var a;if((a=i[a=s++])==t||Fi.__interfLoop(a,t))return!0}return Fi.__interfLoop(e.__super__,t)},Fi.__instanceof=function(e,t){if(null==t)return!1;switch(t){case os:return(0|e)===e;case hs:return"number"==typeof e;case _s:return"boolean"==typeof e;case String:return"string"==typeof e;case Array:return e instanceof Array&&null==e.__enum__;case cs:return!0;default:return null!=e&&(!("function"!=typeof t||!(e instanceof t||Fi.__interfLoop(Fi.getClass(e),t)))||(t==us&&null!=e.__name__||t==ds&&null!=e.__ename__||e.__enum__==t))}};var Ii=function(){};s["js.Browser"]=Ii,Ii.__name__=["js","Browser"],Ii.getLocalStorage=function(){try{var e=window.localStorage;return e.getItem(""),e}catch(e){return null}};var Xi=function(e,t,i){this._timerStop=.8,this._timer=0,this._codeEntered=!1,this._ctx=e,this._objectName=t,this._passcode=i,this._buttonDown=[],this._buttonDownTimer=[],this._buttons=[]};s["screens.CodePanel"]=Xi,Xi.__name__=["screens","CodePanel"],Xi.__super__=n,Xi.prototype=e(n.prototype,{get_name:function(){return"CodePanel_22"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Fe(this._ctx.pack.getTexture("backTap"));this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10);var i=this._ctx.pack.getTexture("codePanel/codepanelBack"),s=new Fe(i);for(this.owner.addChild((new ie).add(s)),s.setXY(350*this._ctx.gameMagnify,260*this._ctx.gameMagnify),s.centerAnchor(),this._codeText=new He(this._ctx.segmentFont),this._codeText.setXY(272*this._ctx.gameMagnify,110*this._ctx.gameMagnify),this.owner.addChild((new ie).add(this._codeText)),this._codeText.set_text(""),s=0;12>s;)s++,this._buttonDown.push(!1),this._buttonDownTimer.push(0);i=this._ctx.pack.getTexture("codePanel/codebutton001"),i=new Fe(i),this.owner.addChild((new ie).add(i)),i.setXY(352*this._ctx.gameMagnify,382*this._ctx.gameMagnify),i.centerAnchor(),this._buttons.push(i),i.get_pointerDown().connect(function(){e._buttons[0].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown001"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"0")}e._buttonDown[0]=!0,e._buttons[0].texture=e._ctx.pack.getTexture("codePanel/codebutton001")});s=Math.round(302*this._ctx.gameMagnify);for(var r=Math.round(232*this._ctx.gameMagnify),a=2,n=0;3>n;){n++;for(var o=0;3>o;)o++,i=this._ctx.pack.getTexture("codePanel/codebutton00"+a),i=new Fe(i),this.owner.addChild((new ie).add(i)),i.setXY(s,r),i.centerAnchor(),this._buttons.push(i),2==a&&(i.get_pointerDown().connect(function(){e._buttons[1].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown002"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"1")}e._buttonDown[1]=!0,e._buttons[1].texture=e._ctx.pack.getTexture("codePanel/codebutton002")})),3==a&&(i.get_pointerDown().connect(function(){e._buttons[2].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown003"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"2")}e._buttonDown[2]=!0,e._buttons[2].texture=e._ctx.pack.getTexture("codePanel/codebutton003")})),4==a&&(i.get_pointerDown().connect(function(){e._buttons[3].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown004"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"3")}e._buttonDown[3]=!0,e._buttons[3].texture=e._ctx.pack.getTexture("codePanel/codebutton004")})),5==a&&(i.get_pointerDown().connect(function(){e._buttons[4].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown005"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"4")}e._buttonDown[4]=!0,e._buttons[4].texture=e._ctx.pack.getTexture("codePanel/codebutton005")})),6==a&&(i.get_pointerDown().connect(function(){e._buttons[5].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown006"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"5")}e._buttonDown[5]=!0,e._buttons[5].texture=e._ctx.pack.getTexture("codePanel/codebutton006")})),7==a&&(i.get_pointerDown().connect(function(){e._buttons[6].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown007"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"6")}e._buttonDown[6]=!0,e._buttons[6].texture=e._ctx.pack.getTexture("codePanel/codebutton007")})),8==a&&(i.get_pointerDown().connect(function(){e._buttons[7].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown008"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"7")}e._buttonDown[7]=!0,e._buttons[7].texture=e._ctx.pack.getTexture("codePanel/codebutton008")})),9==a&&(i.get_pointerDown().connect(function(){e._buttons[8].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown009"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"8")}e._buttonDown[8]=!0,e._buttons[8].texture=e._ctx.pack.getTexture("codePanel/codebutton009")})),10==a&&(i.get_pointerDown().connect(function(){e._buttons[9].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown010"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){if(!e._codeEntered){var t=e._codeText;t.set_text(t._text+"9")}e._buttonDown[9]=!0,e._buttons[9].texture=e._ctx.pack.getTexture("codePanel/codebutton0010")})),s+=Math.round(50*this._ctx.gameMagnify),a++;s=Math.round(302*this._ctx.gameMagnify),r+=Math.round(50*this._ctx.gameMagnify)}i=new Fe(this._ctx.pack.getTexture("codePanel/codebutton0011")),this.owner.addChild((new ie).add(i)),i.setXY(302*this._ctx.gameMagnify,382*this._ctx.gameMagnify),i.centerAnchor(),this._buttons.push(i),i.get_pointerDown().connect(function(){e._buttons[10].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown011"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){e._codeEntered||e._codeText.set_text(e._codeText._text.substring(0,e._codeText._text.length-1)),e._buttonDown[10]=!0,e._buttons[10].texture=e._ctx.pack.getTexture("codePanel/codebutton0011")}),i=new Fe(this._ctx.pack.getTexture("codePanel/codebutton0012")),this.owner.addChild((new ie).add(i)),i.setXY(402*this._ctx.gameMagnify,382*this._ctx.gameMagnify),i.centerAnchor(),this._buttons.push(i),i.get_pointerDown().connect(function(){e._buttons[11].texture=e._ctx.pack.getTexture("codePanel/codebuttonDown012"),e._ctx.pack.getSound("sounds/code_button_push").play()}),i.get_pointerUp().connect(function(){e._codeEntered||e._codeText.set_text(""),e._buttonDown[11]=!0,e._buttons[11].texture=e._ctx.pack.getTexture("codePanel/codebutton0012")}),this._closeBtn=new Fe(this._ctx.pack.getTexture("buttons/BtnClose")),this.owner.addChild((new ie).add(this._closeBtn)),this._closeBtn.setXY(480*this._ctx.gameMagnify,70*this._ctx.gameMagnify),this._closeBtn.centerAnchor(),this._closeBtn.get_pointerDown().connect(function(){e._ctx.pack.getSound("sounds/button_click").play(),e._ctx.currentLevel.closeCodePanel()}),t.get_pointerDown().connect(function(){e._ctx.currentLevel.closeCodePanel()}),(t=this.owner._compMap.Sprite_0).setScale(this._ctx.gameScale),t.setXY(0,this._ctx.currentLevel.ySdvigCoef)},onUpdate:function(e){if("down"==this._ctx.currentLevel.digit0&&(this._ctx.currentLevel.digit0="hold",this._buttons[0].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown001"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit0){if(this._ctx.currentLevel.digit0="up_complete",!this._codeEntered){var t=this._codeText;t.set_text(t._text+"0")}this._buttonDown[0]=!0,this._buttons[0].texture=this._ctx.pack.getTexture("codePanel/codebutton001")}"down"==this._ctx.currentLevel.digit1&&(this._ctx.currentLevel.digit1="hold",this._buttons[1].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown002"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit1&&(this._ctx.currentLevel.digit1="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"1"),this._buttonDown[1]=!0,this._buttons[1].texture=this._ctx.pack.getTexture("codePanel/codebutton002")),"down"==this._ctx.currentLevel.digit2&&(this._ctx.currentLevel.digit2="hold",this._buttons[2].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown003"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit2&&(this._ctx.currentLevel.digit2="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"2"),this._buttonDown[2]=!0,this._buttons[2].texture=this._ctx.pack.getTexture("codePanel/codebutton003")),"down"==this._ctx.currentLevel.digit3&&(this._ctx.currentLevel.digit3="hold",this._buttons[3].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown004"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit3&&(this._ctx.currentLevel.digit3="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"3"),this._buttonDown[3]=!0,this._buttons[3].texture=this._ctx.pack.getTexture("codePanel/codebutton004")),"down"==this._ctx.currentLevel.digit4&&(this._ctx.currentLevel.digit4="hold",this._buttons[4].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown005"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit4&&(this._ctx.currentLevel.digit4="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"4"),this._buttonDown[4]=!0,this._buttons[4].texture=this._ctx.pack.getTexture("codePanel/codebutton005")),"down"==this._ctx.currentLevel.digit5&&(this._ctx.currentLevel.digit5="hold",this._buttons[5].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown006"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit5&&(this._ctx.currentLevel.digit5="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"5"),this._buttonDown[5]=!0,this._buttons[5].texture=this._ctx.pack.getTexture("codePanel/codebutton006")),"down"==this._ctx.currentLevel.digit6&&(this._ctx.currentLevel.digit6="hold",this._buttons[6].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown007"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit6&&(this._ctx.currentLevel.digit6="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"6"),this._buttonDown[6]=!0,this._buttons[6].texture=this._ctx.pack.getTexture("codePanel/codebutton007")),"down"==this._ctx.currentLevel.digit7&&(this._ctx.currentLevel.digit7="hold",this._buttons[7].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown008"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit7&&(this._ctx.currentLevel.digit7="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"7"),this._buttonDown[7]=!0,this._buttons[7].texture=this._ctx.pack.getTexture("codePanel/codebutton008")),"down"==this._ctx.currentLevel.digit8&&(this._ctx.currentLevel.digit8="hold",this._buttons[8].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown009"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit8&&(this._ctx.currentLevel.digit8="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"8"),this._buttonDown[8]=!0,this._buttons[8].texture=this._ctx.pack.getTexture("codePanel/codebutton009")),"down"==this._ctx.currentLevel.digit9&&(this._ctx.currentLevel.digit9="hold",this._buttons[9].texture=this._ctx.pack.getTexture("codePanel/codebuttonDown010"),this._ctx.pack.getSound("sounds/code_button_push").play()),"up"==this._ctx.currentLevel.digit9&&(this._ctx.currentLevel.digit9="up_complete",this._codeEntered||(t=this._codeText).set_text(t._text+"9"),this._buttonDown[9]=!0,this._buttons[9].texture=this._ctx.pack.getTexture("codePanel/codebutton0010")),4==this._codeText._text.length&&!this._codeEntered&&(this._codeEntered=!0,this._ctx.currentLevel.codePanelActive=!1,this._passcode==this._codeText._text?(this._ctx.pack.getSound("sounds/code_open").play(),this._codeText.set_text("open")):(this._ctx.pack.getSound("sounds/code_error").play(),this._codeText.set_text("  err"),this._codeText.setXY(this._codeText.x._value-3*this._ctx.gameMagnify,this._codeText.y._value))),this._codeEntered&&(this._timer+=e,this._timer>=this._timerStop&&("open"==this._codeText._text&&((e=this._ctx.currentLevel.player._compMap.BobHero_33).currentPadlock._compMap.Codepad_10.CodePadDone(),e.currentPadlock._compMap.Codepad_10.removeBallon(),this._ctx.currentLevel._charactersLayer.removeChild(this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon)),this._ctx.currentLevel.closeCodePanel()))},__class__:Xi});var Yi=function(e){this._timerStop=.8,this._timer=0,this._currentSprite=1,this._ctx=e};s["screens.Comics"]=Yi,Yi.__name__=["screens","Comics"],Yi.__super__=n,Yi.prototype=e(n.prototype,{get_name:function(){return"Comics_32"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Ce(2105376,ue._platform.getStage().get_width()+600,ue._platform.getStage().get_height()+600);this.owner.addChild((new ie).add(t)),t.centerAnchor(),t.setXY(.5*ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_height()),this.picture1=new Fe(this._ctx.comicsPack.getTexture("picture1")),this.owner.addChild((new ie).add(this.picture1)),this.picture1.setXY(10,10),this.picture3=new Fe(this._ctx.comicsPack.getTexture("picture3")),this.owner.addChild((new ie).add(this.picture3)),this.picture3.setXY(230,10),this.picture4=new Fe(this._ctx.comicsPack.getTexture("picture4")),this.owner.addChild((new ie).add(this.picture4)),this.picture4.setXY(450,10),this.picture5=new Fe(this._ctx.comicsPack.getTexture("picture5")),this.owner.addChild((new ie).add(this.picture5)),this.picture5.setXY(10,260),this.picture6=new Fe(this._ctx.comicsPack.getTexture("picture6")),this.owner.addChild((new ie).add(this.picture6)),this.picture6.setXY(230,260),this.picture8=new Fe(this._ctx.comicsPack.getTexture("picture8")),this.owner.addChild((new ie).add(this.picture8)),this.picture8.setXY(450,260),this.picture2=new Fe(this._ctx.comicsPack.getTexture("picture2")),this.owner.addChild((new ie).add(this.picture2)),this.picture2.setXY(170,10),this.picture7=new Fe(this._ctx.comicsPack.getTexture("picture7")),this.owner.addChild((new ie).add(this.picture7)),this.picture7.setXY(360,260),this.picture1.alpha.set__(0),this.picture2.alpha.set__(0),this.picture3.alpha.set__(0),this.picture4.alpha.set__(0),this.picture5.alpha.set__(0),this.picture6.alpha.set__(0),this.picture7.alpha.set__(0),this.picture8.alpha.set__(0),t=new Fe(this._ctx.pack.getTexture("backTap")),this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10),t.get_pointerDown().connect(function(){e._timer=e._timerStop+1}),this._currentSprite=1,this._timer=this._timerStop},onUpdate:function(e){this._timer+=e,this._timer>this._timerStop&&(this._timer=0,1==this._currentSprite&&(this.picture1.alpha.animate(0,1,.4,be.backIn),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start1").play()),2==this._currentSprite&&(this.picture2.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start2_1").play()),3==this._currentSprite&&(this.picture3.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start2").play()),4==this._currentSprite&&(this.picture4.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start3").play()),5==this._currentSprite&&(this.picture5.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start4").play()),6==this._currentSprite&&(this.picture6.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start5").play()),7==this._currentSprite&&(this.picture7.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start5_1").play()),8==this._currentSprite&&(this.picture8.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_start6").play()),this._currentSprite+=1,10==this._currentSprite&&(this._comixPlayback.dispose(),this._ctx.currentLevelNumber=1,this._ctx.stopComixMusic(),this._ctx.enterPlayingScene(),this._ctx.isLevelPointSaved=!1))},__class__:Yi});var Oi=function(){};s["screens.CompletedMenu"]=Oi,Oi.__name__=["screens","CompletedMenu"],Oi.create=function(e,t,i){e.totalBatteries=e.getTotalBatteries(),(t=new ie).add(new Kt(!1)),e.playMenuMusic();var s=new Me;t.add(s),(s=new Fe(e.pack.getTexture("screens/BackgrndWellDone"))).centerAnchor(),s.setXY(.5*ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_height()),e.isSquare?s.setScale(e.gameScaleSquare):s.setScale(e.gameScale);var r=new Fe(e.pack.getTexture("screens/WellDone"));r.setXY(.5*ue._platform.getStage().get_width(),.15*ue._platform.getStage().get_height()),r.centerAnchor(),r.setScale(e.gameScale);var a=new Fe(e.pack.getTexture("buttons/docsCompelete"));a.setXY(.5*ue._platform.getStage().get_width(),.35*ue._platform.getStage().get_height()),a.centerAnchor(),a.setScale(e.gameScale);var n=new He(new Be(e.pack,"fonts/Interface"));n.setXY(.5*ue._platform.getStage().get_width(),.335*ue._platform.getStage().get_height()),n.set_text(e.docsPickedOnLevel+"/"+e.getBatteriesInLevel(e.currentLevelNumber-1)),n.setScale(e.gameScale);var o=new Fe(e.pack.getTexture("screens/WinStar"));o.setXY(.5*ue._platform.getStage().get_width(),.75*ue._platform.getStage().get_height()),o.centerAnchor();var c=new Fe(e.pack.getTexture("screens/WinStar"));c.setXY(o.x._value-1.2*o.getNaturalWidth()*e.gameScale,.75*ue._platform.getStage().get_height()),c.centerAnchor();var h=new Fe(e.pack.getTexture("screens/WinStar"));h.setXY(o.x._value+1.2*o.getNaturalWidth()*e.gameScale,.75*ue._platform.getStage().get_height()),h.centerAnchor();var _=new Fe(e.pack.getTexture("screens/WinStarFull"));_.setXY(o.x._value-1.2*o.getNaturalWidth()*e.gameScale,.75*ue._platform.getStage().get_height()),_.setScale(0),_.centerAnchor();var l=new Fe(e.pack.getTexture("screens/WinStarFull"));l.setXY(.5*ue._platform.getStage().get_width(),.75*ue._platform.getStage().get_height()),l.setScale(0),l.centerAnchor();var u=new Fe(e.pack.getTexture("screens/WinStarFull"));for(u.setXY(o.x._value+1.2*o.getNaturalWidth()*e.gameScale,.75*ue._platform.getStage().get_height()),u.setScale(0),u.centerAnchor(),c.setScale(e.gameScale),o.setScale(e.gameScale),h.setScale(e.gameScale),t.addChild((new ie).add(s)),t.addChild((new ie).add(r)),t.addChild((new ie).add(c)),t.addChild((new ie).add(o)),t.addChild((new ie).add(h)),t.addChild((new ie).add(_)),t.addChild((new ie).add(l)),t.addChild((new ie).add(u)),t.addChild((new ie).add(a)),t.addChild((new ie).add(n)),1<=e.starsForLevelCompletedScreen&&(_.scaleX.animate(_.scaleX._value,1.5*c.scaleX._value,.3,be.linear),_.scaleY.animate(_.scaleY._value,1.5*c.scaleX._value,.3,be.linear),_.rotation.animate(0,360,.3,be.linear)),_.scaleX.get_changed().connect(function(t){t>=1.5*c.scaleX._value&&(_.scaleX.animate(_.scaleX._value,c.scaleX._value,.3,be.linear),_.scaleY.animate(_.scaleY._value,c.scaleX._value,.3,be.linear),e.pack.getSound("sounds/star1").play(),2<=e.starsForLevelCompletedScreen&&(l.scaleX.animate(l.scaleX._value,1.5*c.scaleX._value,.3,be.linear),l.scaleY.animate(l.scaleY._value,1.5*c.scaleX._value,.3,be.linear),l.rotation.animate(0,360,.3,be.linear)))}),l.scaleX.get_changed().connect(function(t){t>=1.5*c.scaleX._value&&(l.scaleX.animate(l.scaleX._value,c.scaleX._value,.3,be.linear),l.scaleY.animate(l.scaleY._value,c.scaleX._value,.3,be.linear),e.pack.getSound("sounds/star2").play(),3<=e.starsForLevelCompletedScreen&&(u.scaleX.animate(u.scaleX._value,1.5*c.scaleX._value,.3,be.linear),u.scaleY.animate(u.scaleY._value,1.5*c.scaleX._value,.3,be.linear),u.rotation.animate(0,360,.3,be.linear)))}),u.scaleX.get_changed().connect(function(t){t>=1.5*c.scaleX._value&&(u.scaleX.animate(u.scaleX._value,c.scaleX._value,.3,be.linear),u.scaleY.animate(u.scaleY._value,c.scaleX._value,.3,be.linear),e.pack.getSound("sounds/star3").play())}),s=new ie,r=-120*e.gameScale,a=0;a<i.length;)o=i[a++],n=[i[a++]],(o=new Fe(e.pack.getTexture("buttons/"+o))).setXY(r,.9*ue._platform.getStage().get_height()),o.setScale(e.gameScale),o.centerAnchor(),o.get_pointerDown().connect(function(t){return function(){e.pack.getSound("sounds/button_click").play(),t[0]()}}(n)),r+=120*e.gameScale,s.addChild((new ie).add(o));return Me.getBounds(s),(i=new Me).centerAnchor(),i.x.animate(ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_width(),.5,be.backOut),t.addChild(s.add(i)),t};var Hi=function(e,t,i){this._qElementsMenu=9,this._currentElement=1,this._ctx=e,this._objectName=t,this._passcode=i,this.textElements=[],this.pictureIndexs=[],this.tempTextElements=[],this.tempPictureIndexs=[]};s["screens.ComputerScreen"]=Hi,Hi.__name__=["screens","ComputerScreen"],Hi.__super__=n,Hi.prototype=e(n.prototype,{get_name:function(){return"ComputerScreen_23"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Fe(this._ctx.pack.getTexture("backTap"));this.owner.addChild((new ie).add(t)),t.setXY(0,0);var i=this._ctx.pack.getTexture("monitor/MonitorBack");i=new Fe(i);this.owner.addChild((new ie).add(i)),i.setXY(350*this._ctx.gameMagnify,270*this._ctx.gameMagnify),i.centerAnchor(),4==this._ctx.currentLevelNumber&&(i=new Fe(this._ctx.pack.getTexture("tutorial/computerTip")),this.owner.addChild((new ie).add(i)),i.setXY(10,400)),i=new Fe(this._ctx.pack.getTexture("monitor/MonitorLine")),this.owner.addChild((new ie).add(i)),i.setXY(370*this._ctx.gameMagnify,255*this._ctx.gameMagnify),i.centerAnchor(),this._selector=new Fe(this._ctx.pack.getTexture("monitor/MonitorSelector")),this.owner.addChild((new ie).add(this._selector)),this._selector.setXY(272*this._ctx.gameMagnify,166*this._ctx.gameMagnify),this._selector.centerAnchor(),this.picture1=new Fe(this._ctx.pack.getTexture("monitor/doorCodeTxt")),this.owner.addChild((new ie).add(this.picture1)),this.picture1.setXY(440*this._ctx.gameMagnify,250*this._ctx.gameMagnify),this.picture1.centerAnchor(),this.picture2=new Fe(this._ctx.pack.getTexture("monitor/asciibob")),this.owner.addChild((new ie).add(this.picture2)),this.picture2.setXY(440*this._ctx.gameMagnify,250*this._ctx.gameMagnify),this.picture2.centerAnchor(),this.picture3=new Fe(this._ctx.pack.getTexture("monitor/blackcat")),this.owner.addChild((new ie).add(this.picture3)),this.picture3.setXY(440*this._ctx.gameMagnify,250*this._ctx.gameMagnify),this.picture3.centerAnchor(),this.picture4=new Fe(this._ctx.pack.getTexture("monitor/superspy")),this.owner.addChild((new ie).add(this.picture4)),this.picture4.setXY(440*this._ctx.gameMagnify,250*this._ctx.gameMagnify),this.picture4.centerAnchor(),this.picture5=new Fe(this._ctx.pack.getTexture("monitor/house")),this.owner.addChild((new ie).add(this.picture5)),this.picture5.setXY(440*this._ctx.gameMagnify,250*this._ctx.gameMagnify),this.picture5.centerAnchor();i=0;for(var s=this._qElementsMenu;i<s;)this.element1=new He(this._ctx.computerLight),this.textElements.push(this.element1),0==i&&(this.element1.set_text("house.txt"),this.pictureIndexs.push(5)),1==i&&(this.element1.set_text("system.bat"),this.pictureIndexs.push(0)),2==i&&(this.element1.set_text("autoexec.bat"),this.pictureIndexs.push(0)),3==i&&(this.element1.set_text("commmand.com"),this.pictureIndexs.push(0)),4==i&&(this.element1.set_text("config.sys"),this.pictureIndexs.push(0)),5==i&&(this.element1.set_text("asciibob.txt"),this.pictureIndexs.push(2)),6==i&&(this.element1.set_text("superspy.txt"),this.pictureIndexs.push(4)),7==i&&(this.element1.set_text("blackcat.txt"),this.pictureIndexs.push(3)),8==i&&(this.element1.set_text("boot.dat"),this.pictureIndexs.push(0)),++i;4==this._ctx.currentLevelNumber&&(this._qElementsMenu=3),6==this._ctx.currentLevelNumber&&(this._qElementsMenu=4),7==this._ctx.currentLevelNumber&&1==this._ctx.currentLevelPart&&(this._qElementsMenu=5),7==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&(this._qElementsMenu=6),8==this._ctx.currentLevelNumber&&(this._qElementsMenu=7),10==this._ctx.currentLevelNumber&&1==this._ctx.currentLevelPart&&(this._qElementsMenu=8),10==this._ctx.currentLevelNumber&&2==this._ctx.currentLevelPart&&(this._qElementsMenu=9),this.generateMenu(this._qElementsMenu),t.get_pointerDown().connect(function(){e._ctx.currentLevel.closeComputerScreen()}),(t=this.owner._compMap.Sprite_0).setScale(this._ctx.gameScale),t.setXY(0,this._ctx.currentLevel.ySdvigCoef),this.codePicture1=new Fe(this._ctx.pack.getTexture("monitor/monitorNum"+this._passcode.charAt(0))),this.owner.addChild((new ie).add(this.codePicture1)),this.codePicture1.setXY(400*this._ctx.gameMagnify,295*this._ctx.gameMagnify),this.codePicture1.centerAnchor(),this.codePicture2=new Fe(this._ctx.pack.getTexture("monitor/monitorNum"+this._passcode.charAt(1))),this.owner.addChild((new ie).add(this.codePicture2)),this.codePicture2.setXY(430*this._ctx.gameMagnify,295*this._ctx.gameMagnify),this.codePicture2.centerAnchor(),this.codePicture3=new Fe(this._ctx.pack.getTexture("monitor/monitorNum"+this._passcode.charAt(2))),this.owner.addChild((new ie).add(this.codePicture3)),this.codePicture3.setXY(460*this._ctx.gameMagnify,295*this._ctx.gameMagnify),this.codePicture3.centerAnchor(),this.codePicture4=new Fe(this._ctx.pack.getTexture("monitor/monitorNum"+this._passcode.charAt(3))),this.owner.addChild((new ie).add(this.codePicture4)),this.codePicture4.setXY(490*this._ctx.gameMagnify,295*this._ctx.gameMagnify),this.codePicture4.centerAnchor(),this._currentElement=2,this.sortElements()},onUpdate:function(){this._ctx.currentLevel.actionKey?(this._ctx.currentLevel.actionKey=!1,this._currentElement-=1,1>this._currentElement&&(this._currentElement=this._qElementsMenu),this.sortElements(),this._ctx.pack.getSound("sounds/computer_cursor").play()):this._ctx.currentLevel.downKey&&(this._ctx.currentLevel.downKey=!1,this._currentElement+=1,this._currentElement>this._qElementsMenu&&(this._currentElement=1),this.sortElements(),this._ctx.pack.getSound("sounds/computer_cursor").play())},generateMenu:function(e){for(var t=this,i=0;0<e;)i=Math.floor(Math.random()*this.textElements.length),this.owner.addChild((new ie).add(this.textElements[i])),this.tempTextElements.push(this.textElements[i]),this.tempPictureIndexs.push(this.pictureIndexs[i]),this.textElements.splice(i,1),this.pictureIndexs.splice(i,1),e-=1;0==(i=Math.floor(Math.random()*this.tempTextElements.length))&&(i=1),this.tempTextElements[i].set_text("reminder.txt"),this.tempPictureIndexs[i]=1;e=Math.round(138),i=Math.round(27*this._ctx.gameMagnify);for(var s=0,r=this._qElementsMenu;s<r;)this.tempTextElements[s].setXY(190*this._ctx.gameMagnify,e),e+=i,0==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=1,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),1==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=2,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),2==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=3,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),3==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=4,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),4==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=5,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),5==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=6,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),6==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=7,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),7==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=8,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),8==s&&this.tempTextElements[s].get_pointerDown().connect(function(){t._currentElement=9,t.sortElements(),t._ctx.pack.getSound("sounds/computer_cursor").play()}),++s},sortElements:function(){this.codePicture1.set_visible(!1),this.codePicture2.set_visible(!1),this.codePicture3.set_visible(!1),this.codePicture4.set_visible(!1),this.picture1.set_visible(!1),this.picture2.set_visible(!1),this.picture3.set_visible(!1),this.picture4.set_visible(!1),this.picture5.set_visible(!1),this._selector.setXY(this._selector.x._value,this.tempTextElements[this._currentElement-1].y._value+6*this._ctx.gameMagnify);for(var e=0,t=this._qElementsMenu;e<t;)this.tempTextElements[e].set_font(this._ctx.computerDark),++e;this.tempTextElements[this._currentElement-1].set_font(this._ctx.computerLight),1==this.tempPictureIndexs[this._currentElement-1]&&(this.codePicture1.set_visible(!0),this.codePicture2.set_visible(!0),this.codePicture3.set_visible(!0),this.codePicture4.set_visible(!0),this.picture1.set_visible(!0)),2==this.tempPictureIndexs[this._currentElement-1]&&this.picture2.set_visible(!0),3==this.tempPictureIndexs[this._currentElement-1]&&this.picture3.set_visible(!0),4==this.tempPictureIndexs[this._currentElement-1]&&this.picture4.set_visible(!0),5==this.tempPictureIndexs[this._currentElement-1]&&this.picture5.set_visible(!0)},__class__:Hi});var ji=function(){};s["screens.EmptyScene"]=ji,ji.__name__=["screens","EmptyScene"],ji.create=function(){var e=new ie,t=new Me;return e.add(t),t=new Ce(0,750,600),e.addChild((new ie).add(t)),e};var Gi=function(e){this._timerStop=2.8,this._timer=0,this._currentSprite=1,this._ctx=e};s["screens.FinalComics"]=Gi,Gi.__name__=["screens","FinalComics"],Gi.__super__=n,Gi.prototype=e(n.prototype,{get_name:function(){return"FinalComics_37"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Ce(2105376,this._ctx.targetWidth+10*this._ctx.gameMagnify,this._ctx.targetHeight*this._ctx.gameMagnify);this.owner.addChild((new ie).add(t)),this.picture1=new Fe(this._ctx.finalComicsPack.getTexture("finpic1")),this.owner.addChild((new ie).add(this.picture1)),this.picture1.setXY(20,30),this.picture2=new Fe(this._ctx.finalComicsPack.getTexture("finpic2")),this.owner.addChild((new ie).add(this.picture2)),this.picture2.setXY(435,30),this.picture3=new Fe(this._ctx.finalComicsPack.getTexture("finpic3")),this.owner.addChild((new ie).add(this.picture3)),this.picture3.setXY(20,280),this.picture4=new Fe(this._ctx.finalComicsPack.getTexture("finpic4")),this.owner.addChild((new ie).add(this.picture4)),this.picture4.setXY(288,280),this.picture1.alpha.set__(0),this.picture2.alpha.set__(0),this.picture3.alpha.set__(0),this.picture4.alpha.set__(0),t=new Fe(this._ctx.pack.getTexture("backTap")),this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10),t.get_pointerDown().connect(function(){e._timer=e._timerStop+1}),this._currentSprite=1,this._timer=this._timerStop},onUpdate:function(e){this._timer+=e,this._timer>this._timerStop&&(this._timer=0,1==this._currentSprite&&(this.picture1.alpha.animate(0,1,.4,be.backIn),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_final1").play()),2==this._currentSprite&&(this.picture2.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_final2").play()),3==this._currentSprite&&(this.picture3.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_final3").play()),4==this._currentSprite&&(this.picture4.alpha.animate(0,1,.4,be.backIn),this._comixPlayback.dispose(),this._comixPlayback=this._ctx.pack.getSound("sounds/comix_final4").play()),this._currentSprite+=1,6==this._currentSprite&&(this._ctx.isLevelPointSaved=!1,this._ctx.stopComixMusic(),this._comixPlayback.dispose(),this._ctx.enterEmptyScene(),this._ctx.enterLevelMap()))},__class__:Gi});var Ri=function(){};s["screens.FinalScene"]=Ri,Ri.__name__=["screens","FinalScene"],Ri.create=function(e){var t=new ie,i=new Me;return t.add(i),i=new Gi(e),t.addChild((new ie).add(i)),(i=t._compMap.Sprite_0).setScale(e.gameScale),i.setXY(0,0),e.stopMenuMusic(),t};var Wi=function(){};s["screens.GameScene"]=Wi,Wi.__name__=["screens","GameScene"],Wi.create=function(e){var t=new ie,i=new Fe(e.pack.getTexture("backLevels"));i.setXY(0,0),t.addChild((new ie).add(i)),e.isSquare?i.setScale(e.gameScaleSquare):i.setScale(e.gameScale),(i=new He(e.interfaceFont)).setXY(240*e.currentScaleCoef,22*e.currentScaleCoef),i.set_text("");var s=new T(e);return e.currentLevel=s,t.add(s),s.pauseBtn.get_pointerDown().connect(function(){e.currentLevel.paused.set__(!0),e.pack.getSound("sounds/button_click").play(),e.showPrompt(e.messages.get("paused"),["Play",function(){h5ads.adWrapper.once("onContentPaused",function(){}),h5ads.adWrapper.once("onContentResumed",function(){e.currentLevel.paused.set__(!1),e.director.unwindToScene(t)}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},"Home",function(){s.stopMusic(),e.isLevelPointSaved=!1,e.resetSaveArrays(),e.director.unwindToScene(t),e.enterLevelMap()}])}),s.restartBtn.get_pointerDown().connect(function(){e.levelTry+=1,e.pack.getSound("sounds/button_click").play(),s.stopMusic(),e.currentLevel.restart.set__(!0),e.director.unwindToScene(t),e.restartScene()}),s.watch.watch(function(e){999>e&&s.timeLabel.set_text(""+e)}),s.score.watch(function(i){0>=i&&(i=new Ce(2105376,ue._platform.getStage().get_width()+100,ue._platform.getStage().get_height()+300),t.addChild((new ie).add(i)),s.stopMusic(),e.showGameover(e.messages.get("game_over"),["Replay",function(){e.currentScreen="game",e.director.unwindToScene(t),e.restartScene()},"Home",function(){e.currentScreen="game",e.isLevelPointSaved=!1,e.resetSaveArrays(),e.director.unwindToScene(t),e.enterLevelMap()}]))}),s.batery.watch(function(t){10>t?s.bateryLabel.setXY(190+e.centerCoefX,24+e.centerCoefY):s.bateryLabel.setXY(180+e.centerCoefX,24+e.centerCoefY),s.bateryLabel.set_text(""+t)}),s.talert.watch(function(){}),s.levelWin.watch(function(i){i&&(i=new Ce(2105376,ue._platform.getStage().get_width()+100,ue._platform.getStage().get_height()+300),t.addChild((new ie).add(i)),s.stopMusic(),e.showCompelted(e.messages.get("win"),["Replay",function(){e.currentScreen="game",e.isLevelPointSaved=!1,e.resetSaveArrays(),e.director.unwindToScene(t),e.restartScene()},"PlayNext",function(){e.currentScreen="game",e.director.unwindToScene(t),e.isLevelPointSaved=!1,e.resetSaveArrays(),10>e.currentLevelNumber?(e.currentLevelNumber+=1,e.enterEmptyScene(),e.showAdGameplay()):(e.stopMenuMusic(),e.playComixMusic(),e.enterFinalComics())},"Home",function(){e.currentScreen="game",e.isLevelPointSaved=!1,e.resetSaveArrays(),10>e.currentLevelNumber?(e.director.unwindToScene(t),e.enterLevelMap()):(e.stopMenuMusic(),e.playComixMusic(),e.enterFinalComics())}]))}),t};var Ui=function(){};s["screens.GameoverMenu"]=Ui,Ui.__name__=["screens","GameoverMenu"],Ui.create=function(e,t,i){(t=new ie).add(new Kt(!1));var s=new Me;t.add(s),(s=new Fe(e.pack.getTexture("screens/BackgrndBusted"))).centerAnchor(),s.setXY(.5*ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_height()),e.isSquare?s.setScale(e.gameScaleSquare):s.setScale(e.gameScale);var r=new Fe(e.pack.getTexture("screens/Busted"));r.setXY(.5*ue._platform.getStage().get_width(),.2*ue._platform.getStage().get_height()),r.centerAnchor(),r.setScale(e.gameScale),t.addChild((new ie).add(s)),t.addChild((new ie).add(r));s=new ie;for(var a=r=0;a<i.length;){var n=i[a++],o=[i[a++]];(n=new Fe(e.pack.getTexture("buttons/"+n))).setXY(r,.8*ue._platform.getStage().get_height()),n.setScale(e.gameScale),n.get_pointerDown().connect(function(t){return function(){e.pack.getSound("sounds/button_click").play(),t[0]()}}(o)),r+=120*e.gameScale,s.addChild((new ie).add(n))}return i=Me.getBounds(s),(r=new Me).x.animate(ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_width()-.5*i.width,.5,be.backOut),t.addChild(s.add(r)),t};var Ki=function(e,t){this.regenerate=!1,this.gridSize=29,this.deltaY=72,this.deltaX=29,this._isMarkerMove=!1,this._markerPos=new q,this._timerMarkerStop=.12,this._timerMarker=0,this._timerStop=.8,this._timer=0,this._targetReach=!1,this.hackPanelActive=!0,this._ctx=e,this._objectName=t,5==e.currentLevelNumber&&(this.kolHodov=4),6==e.currentLevelNumber&&(this.kolHodov=5),7==e.currentLevelNumber&&(this.kolHodov=6),8==e.currentLevelNumber&&(this.kolHodov=7),9==e.currentLevelNumber&&(this.kolHodov=8),10==e.currentLevelNumber&&(this.kolHodov=9)};s["screens.HackKitPanel"]=Ki,Ki.__name__=["screens","HackKitPanel"],Ki.__super__=n,Ki.prototype=e(n.prototype,{get_name:function(){return"HackKitPanel_25"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Fe(this._ctx.pack.getTexture("backTap"));this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10);var i=this._ctx.pack.getTexture("hackerPanel/panelBack");i=new Fe(i);for(this.owner.addChild((new ie).add(i)),i.setXY(160*this._ctx.gameMagnify,260*this._ctx.gameMagnify),i.centerAnchor(),5==this._ctx.currentLevelNumber&&(i=new Fe(this._ctx.pack.getTexture("tutorial/hackKitTip")),this.owner.addChild((new ie).add(i)),i.setXY(-170,400)),this.regenerate=!0;this.regenerate;)this.regenerate=!1,this.generateGame();for(i=0;11>i;)for(var s=i++,r=0;13>r;){var a=r++;2==this.grid[s][a]&&this.setBlock(s,a),3==this.grid[s][a]&&this.setTarget(s,a)}this.setMarker(this.markerX,this.markerY),i=new Fe(this._ctx.pack.getTexture("hackerPanel/tapZone")),this.owner.addChild((new ie).add(i)),i.setXY(160*this._ctx.gameMagnify,260*this._ctx.gameMagnify),i.centerAnchor(),i.setScale(10),i.get_pointerDown().connect(function(t){var i=R.int(ue._platform.getStage().get_width()/e._ctx.gameScale-e._ctx.targetWidth),s=R.int(ue._platform.getStage().get_height()/e._ctx.gameScale-e._ctx.targetHeight);i=t.viewX/e._ctx.gameScale-i/2,t=t.viewY/e._ctx.gameScale-s/2;i<e._markerPos.x&&50>Math.abs(t-e._markerPos.y)&&!e._isMarkerMove&&(e._markerDirection="left",e._isMarkerMove=!0,e._marker.rotation.set__(-90)),i>e._markerPos.x&&50>Math.abs(t-e._markerPos.y)&&!e._isMarkerMove&&(e._markerDirection="right",e._isMarkerMove=!0,e._marker.rotation.set__(90)),t<e._markerPos.y&&50>Math.abs(i-e._markerPos.x)&&!e._isMarkerMove&&(e._markerDirection="up",e._isMarkerMove=!0,e._marker.rotation.set__(0)),t>e._markerPos.y&&50>Math.abs(i-e._markerPos.x)&&!e._isMarkerMove&&(e._markerDirection="down",e._isMarkerMove=!0,e._marker.rotation.set__(180))}),t.get_pointerDown().connect(function(){e._ctx.currentLevel.closeHackPanel()}),(t=this.owner._compMap.Sprite_0).setScale(this._ctx.gameScale),t.setXY(184,this._ctx.currentLevel.ySdvigCoef),this._ctx.currentLevel.actionKey=!1},onUpdate:function(e){if(this.hackPanelActive&&(this._ctx.currentLevel.actionKey&&!this._isMarkerMove&&(this._ctx.currentLevel.actionKey=!1,this._markerDirection="up",this._isMarkerMove=!0,this._marker.rotation.set__(0)),this._ctx.currentLevel.downKey&&!this._isMarkerMove&&(this._ctx.currentLevel.downKey=!1,this._markerDirection="down",this._isMarkerMove=!0,this._marker.rotation.set__(180)),this._ctx.currentLevel.leftKey&&!this._isMarkerMove&&(this._ctx.currentLevel.leftKey=!1,this._markerDirection="left",this._isMarkerMove=!0,this._marker.rotation.set__(-90)),this._ctx.currentLevel.rightKey&&!this._isMarkerMove&&(this._ctx.currentLevel.rightKey=!1,this._markerDirection="right",this._isMarkerMove=!0,this._marker.rotation.set__(90))),this._isMarkerMove){this._timerMarker+=e;var t=this._markerAlpha.alpha;t.set__(t._value-.3),this._timerMarker>=this._timerMarkerStop&&(this._timerMarker=0,this.MoveMarker())}this._targetReach&&(this._timer+=e,this._timer>=this._timerStop&&(this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock._compMap.Stair_13.removeBallon(),this._ctx.currentLevel._charactersLayer.removeChild(this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon),this._ctx.currentLevel.FindAndOpenDoor(this._objectName),this._ctx.currentLevel.closeHackPanel()))},MoveMarker:function(){this._markerAlpha.setXY(this._markerPos.x,this._markerPos.y),this._markerAlpha.alpha.set__(1),this._markerAlpha.rotation.set__(this._marker.rotation._value),"left"==this._markerDirection&&(this.checkBlocks(this._markerPos.x-this.gridSize*this._ctx.gameMagnify,this._markerPos.y)?this._isMarkerMove=!1:(this._markerPos.x-=this.gridSize*this._ctx.gameMagnify,this._ctx.pack.getSound("sounds/computer_cursor").play())),"right"==this._markerDirection&&(this.checkBlocks(this._markerPos.x+this.gridSize*this._ctx.gameMagnify,this._markerPos.y)?this._isMarkerMove=!1:(this._markerPos.x+=this.gridSize*this._ctx.gameMagnify,this._ctx.pack.getSound("sounds/computer_cursor").play())),"up"==this._markerDirection&&(this.checkBlocks(this._markerPos.x,this._markerPos.y-this.gridSize*this._ctx.gameMagnify)?this._isMarkerMove=!1:(this._markerPos.y-=this.gridSize*this._ctx.gameMagnify,this._ctx.pack.getSound("sounds/computer_cursor").play())),"down"==this._markerDirection&&(this.checkBlocks(this._markerPos.x,this._markerPos.y+this.gridSize*this._ctx.gameMagnify)?this._isMarkerMove=!1:(this._markerPos.y+=this.gridSize*this._ctx.gameMagnify,this._ctx.pack.getSound("sounds/computer_cursor").play())),this._marker.setXY(this._markerPos.x,this._markerPos.y),(this._markerPos.x<(this.gridSize+this.deltaX)*this._ctx.gameMagnify||this._markerPos.x>(10*this.gridSize+this.deltaX)*this._ctx.gameMagnify||this._markerPos.y<(this.gridSize+this.deltaY)*this._ctx.gameMagnify||this._markerPos.y>(13*this.gridSize+this.deltaY)*this._ctx.gameMagnify)&&(this._ctx.pack.getSound("sounds/hacker_toolkit_error").play(),this._ctx.currentLevel.closeHackPanel()),1>Math.abs(this._markerPos.x-this._target.x._value)&&1>Math.abs(this._markerPos.y-this._target.y._value)&&(this._isMarkerMove=!1,this._targetReach=!0,this.hackPanelActive=!1,this._marker.set_visible(!1),this._markerAlpha.set_visible(!1),this._target.texture=this._ctx.pack.getTexture("hackerPanel/targetFull"),this._ctx.pack.getSound("sounds/hacker_toolkit_win").play())},checkBlocks:function(e,t){for(var i=0,s=this.blocks.length;i<s;){if(1>Math.abs(e-this.blocks[i].x._value)&&1>Math.abs(t-this.blocks[i].y._value))return!0;++i}return!1},generateGame:function(){this.markersPos=[],this.grid=[],this.blocks=[];for(var e=0;11>e;){e++,this.gridLine=[];for(var t=0;13>t;)t++,this.gridLine.push(0);this.grid.push(this.gridLine)}for(this.idx=Math.floor(7*Math.random())+2,this.idy=Math.floor(10*Math.random())+1,this.markerX=this.idx,this.markerY=this.idy,this.grid[this.idx][this.idy]=-1,this.markersPos.push(new V(this.idx,this.idy)),this.direction=this.getDirection(Math.floor(8*Math.random())),e=1,t=this.kolHodov;e<=t;)this.newDirection(),this.changeDirection(),4==e&&this.setChoice(),++e;this.newTarget()},setChoice:function(){"left"==this.direction&&(this.steps=Math.floor(Math.random()*(this.idx-1))+1,0==this.checkPlace(this.idx-this.steps,this.idy)?this.grid[this.idx-this.steps][this.idy]=2:this.regenerate=!0),"right"==this.direction&&(this.steps=Math.floor(Math.random()*(9-this.idx))+1,0==this.checkPlace(this.idx+this.steps,this.idy)?this.grid[this.idx+this.steps][this.idy]=2:this.regenerate=!0),"up"==this.direction&&(this.steps=Math.floor(Math.random()*(this.idy-1))+1,0==this.checkPlace(this.idx,this.idy-this.steps)?this.grid[this.idx][this.idy-this.steps]=2:this.regenerate=!0),"down"==this.direction&&(this.steps=Math.floor(Math.random()*(12-this.idy))+1,0==this.checkPlace(this.idx,this.idy+this.steps)?this.grid[this.idx][this.idy+this.steps]=2:this.regenerate=!0)},changeDirection:function(){"left"==this.direction||"right"==this.direction?this.direction=5>10*Math.random()?"up":"down":"up"!=this.direction&&"down"!=this.direction||(this.direction=5>10*Math.random()?"left":"right")},newTarget:function(){this.steps=Math.floor(7*Math.random())+2,"left"==this.direction&&2>this.idx-this.steps&&(this.direction="right"),"right"==this.direction&&9<this.idx+this.steps&&(this.direction="left"),"up"==this.direction&&2>this.idy-this.steps&&(this.direction="down"),"down"==this.direction&&12<this.idy+this.steps&&(this.direction="up"),this.isGo=!0;for(var e=0;e<this.steps&&(this.moveGenMarker(),0!=this.isGo);)++e;2>this.checkPlace(this.idx,this.idy)&&-1!=this.checkPlace(this.idx,this.idy)&&3<Math.abs(this.markerX-this.idx)&&3<Math.abs(this.markerY-this.idy)?this.grid[this.idx][this.idy]=3:this.regenerate=!0;e=1;var t,i,s,r=this.markersPos.length;if(i=this.markersPos[0].x,s=this.markersPos[0].y,!this.regenerate)for(;e<r;){if(3>e?this.markersPos[e].x!=this.idx&&this.markersPos[e].y!=this.idy||(this.regenerate=!0):this.markersPos[e].x!=this.idx&&this.markersPos[e].y!=this.idy||this.markersPos[e].x!=this.markerX&&this.markersPos[e].y!=this.markerY||(this.regenerate=!0),this.markersPos[e].x==this.idx){t=this.markersPos[e].x<this.idx?"right":"left";for(var a=0,n=Math.abs(this.markersPos[e].x-this.idx);a<n;){if(i="right"==t?i+1:i-1,2==this.checkPlace(i,this.idy)){this.regenerate=!0;break}++a}}if(this.markersPos[e].y==this.idy)for(t=this.markersPos[e].y<this.idy?"up":"down",i=0,a=Math.abs(this.markersPos[e].y-this.idy);i<a;){if(s="up"==t?s+1:s-1,2==this.checkPlace(this.idx,s)){this.regenerate=!0;break}++i}if(this.regenerate)break;++e,i=this.markersPos[e-1].x,s=this.markersPos[e-1].y}},newDirection:function(){this.steps=Math.floor(5*Math.random())+2,"left"==this.direction&&2>this.idx-this.steps&&(this.direction="right"),"right"==this.direction&&9<this.idx+this.steps&&(this.direction="left"),"up"==this.direction&&2>this.idy-this.steps&&(this.direction="down"),"down"==this.direction&&12<this.idy+this.steps&&(this.direction="up"),this.isGo=!0;for(var e=0;e<this.steps&&(this.moveGenMarker(),0!=this.isGo);)++e;this.markersPos.push(new V(this.idx,this.idy)),"left"==this.direction&&(0==this.checkPlace(this.idx-1,this.idy)?this.grid[this.idx-1][this.idy]=2:this.regenerate=!0),"right"==this.direction&&(0==this.checkPlace(this.idx+1,this.idy)?this.grid[this.idx+1][this.idy]=2:this.regenerate=!0),"up"==this.direction&&(0==this.checkPlace(this.idx,this.idy-1)?this.grid[this.idx][this.idy-1]=2:this.regenerate=!0),"down"==this.direction&&(0==this.checkPlace(this.idx,this.idy+1)?this.grid[this.idx][this.idy+1]=2:this.regenerate=!0)},moveGenMarker:function(){"left"==this.direction&&(2<this.idx-1&&2>this.checkPlace(this.idx-1,this.idy)?(this.idx-=1,this.grid[this.idx][this.idy]=1,this.setDot(this.idx,this.idy)):this.isGo=!1),"right"==this.direction&&(9>this.idx+1&&2>this.checkPlace(this.idx+1,this.idy)?(this.idx+=1,this.grid[this.idx][this.idy]=1,this.setDot(this.idx,this.idy)):this.isGo=!1),"up"==this.direction&&(2<this.idy-1&&2>this.checkPlace(this.idx,this.idy-1)?(this.idy-=1,this.grid[this.idx][this.idy]=1,this.setDot(this.idx,this.idy)):this.isGo=!1),"down"==this.direction&&(12>this.idy-1&&2>this.checkPlace(this.idx,this.idy+1)?(this.idy+=1,this.grid[this.idx][this.idy]=1,this.setDot(this.idx,this.idy)):this.isGo=!1)},checkPlace:function(e,t){return 0==this.grid[e][t]?0:2==this.grid[e][t]?2:1},setTarget:function(e,t){this._target=new Fe(this._ctx.pack.getTexture("hackerPanel/target")),this.owner.addChild((new ie).add(this._target)),this.currentX=e*this.gridSize+this.deltaX,this.currentY=t*this.gridSize+this.deltaY,this._target.setXY(this.currentX*this._ctx.gameMagnify,this.currentY*this._ctx.gameMagnify),this._target.centerAnchor()},setMarker:function(e,t){this._markerPos.x=(e*this.gridSize+this.deltaX)*this._ctx.gameMagnify,this._markerPos.y=(t*this.gridSize+this.deltaY)*this._ctx.gameMagnify,this._marker=new Fe(this._ctx.pack.getTexture("hackerPanel/marker")),this.owner.addChild((new ie).add(this._marker)),this._marker.setXY(this._markerPos.x,this._markerPos.y),this._marker.centerAnchor(),this._markerAlpha=new Fe(this._ctx.pack.getTexture("hackerPanel/marker")),this.owner.addChild((new ie).add(this._markerAlpha)),this._markerAlpha.setXY(this._markerPos.x,this._markerPos.y),this._markerAlpha.centerAnchor()},setBlock:function(e,t){var i=(e*this.gridSize+this.deltaX)*this._ctx.gameMagnify,s=(t*this.gridSize+this.deltaY)*this._ctx.gameMagnify;this._block1=new Fe(this._ctx.pack.getTexture("hackerPanel/block")),this.owner.addChild((new ie).add(this._block1)),this._block1.setXY(i,s),this._block1.centerAnchor(),this.blocks.push(this._block1)},setDot:function(){},getDirection:function(e){return 0==e||4==e?"left":1==e||6==e?"right":2==e||7==e?"up":"down"},__class__:Ki});var zi=function(){};s["screens.LevelButton"]=zi,zi.__name__=["screens","LevelButton"],zi.create=function(e,t,i,s,r,a){null==a&&(a=0);var n,o=!1,c=new ie;if(c.add(new Kt(!1)),n=new Fe("close"==r?e.pack.getTexture("buttons/LevelBoxGray"+s):e.pack.getTexture("buttons/LevelBox"+s)),c.addChild((new ie).add(n)),n.setXY(t,i),n.centerAnchor(),"close"!=r){if(r=new Fe(e.pack.getTexture("buttons/levelCircle")),c.addChild((new ie).add(r)),r.setXY(t,i-50),r.centerAnchor(),n=new Fe(e.pack.getTexture("buttons/LevelNumber"+s)),c.addChild((new ie).add(n)),n.setXY(t,i-50),n.centerAnchor(),2==e.levelsStatus[s-1]){var h=new Fe(e.pack.getTexture("buttons/LevelStar"));c.addChild((new ie).add(h)),h.setXY(t-25*e.gameMagnify,i-25),h.centerAnchor(),h=new Fe(e.pack.getTexture("buttons/LevelStar")),c.addChild((new ie).add(h)),h.setXY(t,i-10),h.centerAnchor(),h=new Fe(e.pack.getTexture("buttons/LevelStar")),c.addChild((new ie).add(h)),h.setXY(t+25*e.gameMagnify,i-25),h.centerAnchor()}r.get_pointerUp().connect(function(){o||(o=!0,e.currentLevelNumber=s,e.batteriesInLevel=0,e.levelTimer=0,e.pack.getSound("sounds/button_click").play(),e.showAdGameplay(),e.isLevelPointSaved=!1)}),n.get_pointerUp().connect(function(){o||(o=!0,e.currentLevelNumber=s,e.batteriesInLevel=0,e.levelTimer=0,e.pack.getSound("sounds/button_click").play(),e.showAdGameplay(),e.isLevelPointSaved=!1)})}return 1<=a&&(r=new Fe(e.pack.getTexture("buttons/LevelStarFull")),c.addChild((new ie).add(r)),r.setXY(t-25*e.gameMagnify,i-25),r.centerAnchor()),2<=a&&(r=new Fe(e.pack.getTexture("buttons/LevelStarFull")),c.addChild((new ie).add(r)),r.setXY(t,i-10),r.centerAnchor()),3<=a&&(a=new Fe(e.pack.getTexture("buttons/LevelStarFull")),c.addChild((new ie).add(a)),a.setXY(t+25*e.gameMagnify,i-25),a.centerAnchor()),c};var qi=function(){};s["screens.LevelMap"]=qi,qi.__name__=["screens","LevelMap"],qi.create=function(e){var t=new ie,i=new Me;t.add(i);i=new ie;var s=new Me;i.add(s),s=new Fe(e.pack.getTexture("buttons/LevelMapBack")),t.addChild((new ie).add(s)),s.setXY(0,0),e.currentLevelPart=1,e.currentLeveLSavePart=1,t.addChild(i),(s=new Fe(e.pack.getTexture("buttons/MapBattery"))).setXY(160*e.gameMagnify,34*e.gameMagnify),s.centerAnchor(),t.addChild((new ie).add(s)),(s=new He(e.interfaceFont)).setXY(167*e.gameMagnify,26*e.gameMagnify),s.set_text(""+e.getTotalBatteries()),t.addChild((new ie).add(s));s=400;for(var r,a=160*e.gameMagnify,n=1,o=1;11>o;)1==(r=o++)&&(s=100,a=151),2==r&&(s=263,a=151),3==r&&(s=426,a=151),4==r&&(s=590,a=151),5==r&&(s=180,a=293),6==r&&(s=344,a=293),7==r&&(s=508,a=293),8==r&&(s=260,a=434),9==r&&(s=426,a=434),10==r&&(s=591,a=434),r=0==e.levelsStatus[n-1]?zi.create(e,s,a,n,"close"):zi.create(e,s,a,n,"open",e.levelStars[n-1]),i.addChild(r),n++;return(i=new Fe(e.pack.getTexture("buttons/Home"))).setXY(100,.85*ue._platform.getStage().get_height()/e.gameScale),i.centerAnchor(),i.get_pointerDown().connect(function(){e.pack.getSound("sounds/button_click").play(),e.enterHomeScene()}),t.addChild((new ie).add(i)),i=t._compMap.Sprite_0,e.isSquare?i.setScale(e.gameScaleSquare):i.setScale(e.gameScale),i.setXY(0,0),t};var Vi=function(){};s["screens.Mainmenu"]=Vi,Vi.__name__=["screens","Mainmenu"],Vi.create=function(e){var t,i,s,r,a,n=0,o=new ie,h=new Me;o.add(h),h=new Fe(e.pack.getTexture("MainScreenBg")),o.addChild((new ie).add(h)),h.setXY(0,0),e.isSquare?h.setScale(e.gameScaleSquare):h.setScale(e.gameScale),h=new c(e),o.addChild((new ie).add(h)),(h=new Fe(e.pack.getTexture("buttons/PlayBig"))).centerAnchor().setXY(.5*ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_height()),h.setScale(e.gameScale),o.addChild((new ie).add(h));var _=new P(e);o.addChild((new ie).add(_)),e.playMenuMusic(),r=0,i=s=!1,t=Math.floor(100*Math.random()+200),a=0;var u=new ei;return u.run(new $t(new ii([new Qt(.03),new Zt(function(){if((n+=1)>=t&&(n=0,t=Math.floor(100*Math.random()+200),s=!0,_._spriteBob.rotation.set__(0),_._spriteBob.rotation.animate(_._spriteBob.rotation._value,_._spriteBob.rotation._value+5,.1,be.circIn)),s&&(.1<=(r+=.03)&&(r=0,s=!1,i=!0,2>a&&_._spriteBob.rotation.animate(_._spriteBob.rotation._value,_._spriteBob.rotation._value-10,.2,be.bounceOut),0==a))){var c=new l(e,.55*ue._platform.getStage().get_width(),.2*ue._platform.getStage().get_height());o.addChild((new ie).add(c))}i&&(.2<=(r+=.03)&&(r=0,i=!1,_._spriteBob.rotation.set__(0),3>(a+=1)?(s=!0,c=new l(e,.55*ue._platform.getStage().get_width(),.2*ue._platform.getStage().get_height()),o.addChild((new ie).add(c)),2>a&&(_._spriteBob.rotation.set__(0),_._spriteBob.rotation.animate(_._spriteBob.rotation._value,_._spriteBob.rotation._value+5,.1,be.circIn))):a=0))})]))),o.add(u),h.get_pointerDown().connect(function(){if(e.pack.getSound("sounds/button_click").play(),e.stopMenuMusic(),o.disposeChildren(),1==e.levelsStatus[0]){var t=we.fromAssets("comics");ue._platform.loadAssetPack(t).get(function(t){e.setComicsPack(t),e.playComixMusic(),t=new Yi(e),o.addChild((new ie).add(t)),o.remove(u)})}else e.enterLevelMap()}),o};var Ji=function(){};s["screens.NewGadget"]=Ji,Ji.__name__=["screens","NewGadget"],Ji.create=function(e,t){var i=new ie;i.add(new Kt(!1));var s=new Me;i.add(s),(s=new Fe(e.pack.getTexture("screens/BackgrndGadget"))).centerAnchor(),s.setXY(.5*ue._platform.getStage().get_width(),.5*ue._platform.getStage().get_height());var r=new Fe(e.pack.getTexture("screens/GadgetPlace"));r.setXY(.5*ue._platform.getStage().get_width(),.7*ue._platform.getStage().get_height()),r.centerAnchor(),r.setScale(e.gameScale);var a,n=new Fe(e.pack.getTexture("screens/NewGadget"));return n.setXY(.5*-ue._platform.getStage().get_width(),.3*ue._platform.getStage().get_height()),n.centerAnchor(),n.x.animate(n.x._value,.5*ue._platform.getStage().get_width(),.3,be.linear),n.setScale(e.gameScale),"lockpick"==t&&(e.haveLockpick=!0),"nippers"==t&&(e.haveNippers=!0),"hackerkit"==t&&(e.haveHackerKit=!0),"shocker"==t&&(e.haveShocker=!0),"setbox"==t&&(e.haveBox=!0),(a=new Fe(e.pack.getTexture("screens/"+t))).setXY(1.5*ue._platform.getStage().get_width(),.7*ue._platform.getStage().get_height()),a.centerAnchor(),a.x.animate(a.x._value,.5*ue._platform.getStage().get_width(),.3,be.linear),a.setScale(e.gameScale),i.addChild((new ie).add(s)),i.addChild((new ie).add(r)),i.addChild((new ie).add(n)),i.addChild((new ie).add(a)),i};var Zi=function(){};s["screens.Note"]=Zi,Zi.__name__=["screens","Note"],Zi.create=function(e,t,i){var s=new ie;s.add(new Kt(!1));var r=new Me;s.add(r),r=new Fe(e.pack.getTexture("backTap")),s.addChild((new ie).add(r)),r.setXY(0,0),r.setScale(10);var a=e.pack.getTexture("note");a=new Fe(a);s.addChild((new ie).add(a)),a.setXY(350*e.gameMagnify,260*e.gameMagnify),a.centerAnchor(),(t=new He(e.messagesFont,t+i)).setWrapWidth(e.targetWidth).setAlign(Pe.Center),t.x.set__(5*e.gameMagnify),t.y.set__(160*e.gameMagnify),s.addChild((new ie).add(t));i=new ie;var n=Me.getBounds(i),o=new Me;return o.x.animate(e.targetWidth,.5*e.targetWidth-n.width/2,.5,be.backOut),o.y.set__(t.y._value+t.getNaturalHeight()+50*e.gameMagnify),s.addChild(i.add(o)),t.get_pointerDown().connect(function(){e.currentLevel.closeMessage()}),a.get_pointerDown().connect(function(){e.currentLevel.closeMessage()}),r.get_pointerDown().connect(function(){e.currentLevel.closeMessage()}),(r=s._compMap.Sprite_0).setScale(e.gameScale),r.setXY(0,e.currentLevel.ySdvigCoef),s};var Qi=function(e,t,i,s){this._leftKey=this._rightKey=!1,this._timerStop=.1,this._timer=0,this._signHoleX=1,this._arcOpen=this._isOpenFail=!1,this._padLocked=!0,this._tickNumber=0,this.padlockActive=!0,this._ctx=e,this._doorName=t,this._holeX=3*this._ctx.gameMagnify,this._difLevel=i,this._padlockId=s};s["screens.PadlockFull"]=Qi,Qi.__name__=["screens","PadlockFull"],Qi.__super__=n,Qi.prototype=e(n.prototype,{get_name:function(){return"PadlockFull_20"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Fe(this._ctx.pack.getTexture("backTap"));this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10);var i=this._ctx.pack.getTexture("padlockElements/lockarc");this._lockarc=new Fe(i),this.owner.addChild((new ie).add(this._lockarc)),this._lockarc.setXY(350*this._ctx.gameMagnify,160*this._ctx.gameMagnify),this._lockarc.centerAnchor();i=this._ctx.pack.getTexture("padlockElements/padlockbase");var s=new Fe(i);this.owner.addChild((new ie).add(s)),s.setXY(350*this._ctx.gameMagnify,310*this._ctx.gameMagnify),s.centerAnchor(),1==this._ctx.currentLevelNumber&&(i=new Fe(this._ctx.pack.getTexture("tutorial/lockpickTip")),this.owner.addChild((new ie).add(i)),i.setXY(10,400)),1==this._difLevel&&(i=this._ctx.pack.getTexture("padlockElements/lockhole"),this._hole=new Fe(i),this.owner.addChild((new ie).add(this._hole)),this._hole.setXY(280*this._ctx.gameMagnify,328*this._ctx.gameMagnify),this._hole.centerAnchor()),2==this._difLevel&&(i=new Fe(this._ctx.pack.getTexture("padlockElements/backpack")),this.owner.addChild((new ie).add(i)),i.setXY(350*this._ctx.gameMagnify,304*this._ctx.gameMagnify),i.centerAnchor(),i=this._ctx.pack.getTexture("padlockElements/lockhole2"),this._hole=new Fe(i),this.owner.addChild((new ie).add(this._hole)),this._hole.setXY(270*this._ctx.gameMagnify,354*this._ctx.gameMagnify),this._hole.centerAnchor(),i=this._ctx.pack.getTexture("padlockElements/lockhole2"),this._hole2=new Fe(i),this.owner.addChild((new ie).add(this._hole2)),this._hole2.setXY(400*this._ctx.gameMagnify,304*this._ctx.gameMagnify),this._hole2.centerAnchor()),i=this._ctx.pack.getTexture("padlockElements/lockpick"),this._lockpick=new Fe(i),this.owner.addChild((new ie).add(this._lockpick)),this._lockpick.setXY(350*this._ctx.gameMagnify,485*this._ctx.gameMagnify),this._lockpick.centerAnchor(),this._lockspring=new Fe(this._ctx.pack.getTexture("padlockElements/lockclick0001")),this.owner.addChild((new ie).add(this._lockspring)),this._lockspring.setXY(350*this._ctx.gameMagnify,230*this._ctx.gameMagnify),this._lockspring.centerAnchor(),this._closeBtn=new Fe(this._ctx.pack.getTexture("buttons/BtnClose")),this.owner.addChild((new ie).add(this._closeBtn)),this._closeBtn.setXY(510*this._ctx.gameMagnify,140*this._ctx.gameMagnify),this._closeBtn.centerAnchor(),this._closeBtn.get_pointerDown().connect(function(){e._ctx.pack.getSound("sounds/button_click").play(),e._ctx.currentLevel.closePadlock()}),t.get_pointerDown().connect(function(){e._ctx.currentLevel.closePadlock()}),s.get_pointerUp().connect(function(){e._leftKey=!1,e._rightKey=!1}),(t=this.owner._compMap.Sprite_0).setScale(this._ctx.gameScale),t.setXY(0,this._ctx.currentLevel.ySdvigCoef),this._isOpenFail=!1},onUpdate:function(e){this.padlockActive&&(this._ctx.currentLevel.leftKey&&this._hole.x._value-2*this._ctx.gameMagnify>270*this._ctx.gameMagnify&&this._hole.setXY(this._hole.x._value-2*this._ctx.gameMagnify,this._hole.y._value),this._ctx.currentLevel.rightKey&&this._hole.x._value+2*this._ctx.gameMagnify<430*this._ctx.gameMagnify&&this._hole.setXY(this._hole.x._value+2*this._ctx.gameMagnify,this._hole.y._value),this._ctx.currentLevel.actionKey&&(Math.abs(this._lockpick.x._value-this._hole.x._value)<10*this._ctx.gameMagnify?(this._ctx.currentLevel.actionKey=!1,1==this._difLevel&&(this._hole.x.set__(this._lockpick.x._value),this._padLocked=this.padlockActive=!1,this._timerStop=.2,this._timer=0,this._lockpick.y.animate(this._lockpick.y._value,330*this._ctx.gameMagnify,.5,be.backOut)),2==this._difLevel&&0==this._tickNumber?(this._tickNumber=1,this._hole.x.set__(this._lockpick.x._value),this._hole=this._hole2,this._hole.x.set__(this._lockpick.x._value),this._lockpick.y.animate(this._lockpick.y._value,440*this._ctx.gameMagnify,.5,be.backOut)):2==this._difLevel&&1==this._tickNumber&&(this.padlockActive=!1,this._tickNumber=2,this._padLocked=!1,this._timerStop=.2,this._timer=0,this._lockpick.y.animate(this._lockpick.y._value,335*this._ctx.gameMagnify,.5,be.backOut)),this._ctx.pack.getSound("sounds/lock_unlocked").play()):(this.padlockActive=!1,this._isOpenFail=!0,this._timer=0,this._timerStop=.1,this._lockpick.y.animate(this._lockpick.y._value,470*this._ctx.gameMagnify,.5,be.backOut),this._ctx.pack.getSound("sounds/lock_error").play()))),this._padLocked&&(this._timer+=e,0<this._signHoleX?this._hole.x._value+this._holeX<420*this._ctx.gameMagnify&&this._hole.x.animate(this._hole.x._value,this._hole.x._value+this._holeX,.5,be.backOut):this._hole.x._value-this._holeX>260*this._ctx.gameMagnify&&this._hole.x.animate(this._hole.x._value,this._hole.x._value-this._holeX,.5,be.backOut),this._timer>=this._timerStop&&(this._timer=0,this._timerStop=1,this._signHoleX*=-1,this._holeX=Math.random()+6*this._ctx.gameMagnify)),this._isOpenFail?(this._timer+=e,this._timer>=this._timerStop&&this._ctx.currentLevel.closePadlock()):(!this._padLocked&&!this._arcOpen&&(this._timer+=e,this._timer>=this._timerStop&&(this._arcOpen=!0,this._timerStop=.5,this._timer=0,this._lockarc.y.animate(this._lockarc.y._value,50*this._ctx.gameMagnify,.5,be.backOut),this._lockspring.texture=this._ctx.pack.getTexture("padlockElements/lockclick0002"))),this._arcOpen&&(this._timer+=e,this._timer>=this._timerStop&&(this._ctx.addObjectsToSave(new b(this._padlockId)),this._ctx.currentLevel.closePadlock(),this._ctx.currentLevel.FindAndOpenDoor(this._doorName),this._ctx.currentLevel._charactersLayer.removeChild(this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon),this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock.disposeChildren(),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock.dispose(),this._ctx.currentLevel.player._compMap.BobHero_33.currentPadlock=null)))},__class__:Qi});var $i=function(){};s["screens.Pausemenu"]=$i,$i.__name__=["screens","Pausemenu"],$i.create=function(e,t,i){(t=new ie).add(new Kt(!1));var s=new Me;t.add(s),(s=new Ce(0,e.targetWidth*e.gameMagnify,e.targetHeight*e.gameMagnify)).alpha.animate(0,.5,.5),t.addChild((new ie).add(s)),s.centerAnchor(),s.setXY(.5*e.targetWidth,.5*e.targetHeight),(s=new Fe(e.pack.getTexture("screens/Paused"))).setXY(.5*e.targetWidth,170*e.gameMagnify),s.centerAnchor(),t.addChild((new ie).add(s));s=new ie;for(var r=0,a=0;a<i.length;){var n=i[a++],o=[i[a++]];(n=new Fe(e.pack.getTexture("buttons/"+n))).setXY(r,300*e.gameMagnify),n.get_pointerDown().connect(function(t){return function(){e.pack.getSound("sounds/button_click").play(),t[0]()}}(o)),r+=n.getNaturalWidth()+20*e.gameMagnify,s.addChild((new ie).add(n))}return i=Me.getBounds(s),(r=new Me).x.animate(e.targetWidth,.5*e.targetWidth-i.width/2,.5,be.backOut),t.addChild(s.add(r)),(i=t._compMap.Sprite_0).setScale(e.gameScale),i.setXY(e.centerCoefX,e.centerCoefY),t};var es=function(){};s["screens.Preloader"]=es,es.__name__=["screens","Preloader"],es.create=function(e){var t=new ie,i=ue._platform.getStage().get_width()/640,s=ue._platform.getStage().get_height()/960,r=Math.min(i,s);i=Math.max(i,s),s=new Fe(e.getTexture("progress/MainScreenBg"));t.addChild((new ie).add(s)),s.setXY(0,0),1.5<ue._platform.getStage().get_height()/ue._platform.getStage().get_width()?s.setScale(r):s.setScale(i),i=new Fe(e.getTexture("progress/gameLogo")),t.addChild((new ie).add(i)),i.setXY(.5*ue._platform.getStage().get_width(),.2*ue._platform.getStage().get_height()),i.setScale(r),i.centerAnchor();var a=new Fe(e.getTexture("progress/Left")),n=(i=new Fe(e.getTexture("progress/Right")),ue._platform.getStage().get_width()-a.texture.get_width()-i.texture.get_width()-40);s=.5*ue._platform.getStage().get_height()+a.texture.get_height();a.setXY(20,s),t.addChild((new ie).add(a));var o=new Xe(e.getTexture("progress/Background"),n);o.setXY(a.x._value+a.texture.get_width(),s),t.addChild((new ie).add(o));var c=new Xe(e.getTexture("progress/Fill"));c.setXY(o.x._value,s);var h=0;return(a=new ei).run(new $t(new ii([new Qt(.01),new Zt(function(){100>h?c.width.set__(h/100*n):c.width.set__(n),h+=2})]))),t.add(a),t.addChild((new ie).add(c)),i.setXY(c.x._value+n,s),t.addChild((new ie).add(i)),(e=new He(new Be(e,"fonts/Interface"))).setXY(10*r,10*r),e.set_text("1.0.0"),t.addChild((new ie).add(e)),t};var ts=function(e){this._wBlock=null,this.signalType=3,this._ctx=e,this.scene=new ie,this.scene.add(new Kt(!1))};s["screens.SignalEnd"]=ts,ts.__name__=["screens","SignalEnd"],ts.prototype={setupBlock:function(e,t,i){0!=t&&(this._blockX=t),0!=i&&(this._blockY=i),null!=this._wBlock&&(this.scene.removeChild(this._wBlock),this._wBlock.dispose(),this._wBlock=null),t=this._ctx.pack.getTexture("wiresPanel/wireSignalEnd000"+e),t=new Fe(t),this._wBlock=(new ie).add(t),this.scene.addChild(this._wBlock),t.setXY(this._blockX,this._blockY),this.signalType=e},__class__:ts};var is=function(e){this._timerStop=7.2,this._timer=0,this._currentSprite=1,this.tipsActivate=[0,0,0,0,0,0,0,0,0,0],this._ctx=e};s["screens.Tutorial"]=is,is.__name__=["screens","Tutorial"],is.__super__=n,is.prototype=e(n.prototype,{get_name:function(){return"Tutorial_24"},onAdded:function(){this.owner.add(new Me),this.picture1=new Fe(this._ctx.pack.getTexture("tutorial/tip1")),this.owner.addChild((new ie).add(this.picture1)),this.picture1.setXY(260,80),this.picture1.alpha.set__(0),this.picture1.set_pointerEnabled(!1),this.picture2=new Fe(this._ctx.pack.getTexture("tutorial/tip2")),this.owner.addChild((new ie).add(this.picture2)),this.picture2.setXY(480,80),this.picture2.alpha.set__(0),this.picture2.set_pointerEnabled(!1),this.picture3=new Fe(this._ctx.pack.getTexture("tutorial/tip3")),this.owner.addChild((new ie).add(this.picture3)),this.picture3.alpha.set__(0),this.picture3.set_pointerEnabled(!1),this.picture6=new Fe(this._ctx.pack.getTexture("tutorial/tip6")),this.owner.addChild((new ie).add(this.picture6)),this.picture6.setXY(230,350),this.picture6.alpha.set__(0),this.picture6.set_pointerEnabled(!1);var e=this.owner._compMap.Sprite_0;e.setScale(this._ctx.gameScale),e.setXY(0,50*this._ctx.currentScaleCoef),this._currentSprite=1,this._timer=this._timerStop,this._ctx.isLevelPointSaved&&(this.tipsActivate[0]=2,this.tipsActivate[1]=2,this.tipsActivate[2]=2,this.tipsActivate[3]=2)},onUpdate:function(){},showTip:function(e,t){null==t&&(t="box"),this._ctx.isLevelPointSaved||(this._currentSprite=e,0==this.tipsActivate[this._currentSprite-1]&&(this._timer=0,this.tipsActivate[this._currentSprite-1]=1,1==e&&this.picture1.alpha.animate(0,1,.4,be.backIn),2==e&&this.picture2.alpha.animate(0,1,.4,be.backIn),3==e&&("box"==t?(this.picture3.setXY(450,180),0==this.tipsActivate[3]&&(this.picture4=new Fe(this._ctx.pack.getTexture("tutorial/tip4")),this.owner.addChild((new ie).add(this.picture4)),this.picture4.setXY(20,180),this.picture4.alpha.set__(0),this.picture4.alpha.animate(0,1,.4,be.backIn),this.picture4.set_pointerEnabled(!1),this.tipsActivate[3]=1),this.tipsActivate[3]=1):this.picture3.setXY(200,80),this.picture3.alpha.animate(0,1,.4,be.backIn)),5==e&&(this.picture5=new Fe(this._ctx.pack.getTexture("tutorial/tip5")),this.owner.addChild((new ie).add(this.picture5)),this.picture5.setXY(150,280),this.picture5.alpha.set__(0),this.picture5.alpha.animate(0,1,.4,be.backIn),this.picture5.set_pointerEnabled(!1)),6==e&&this.picture6.alpha.animate(0,1,.4,be.backIn),7==e&&(this.picture7=new Fe(this._ctx.pack.getTexture("tutorial/tip7")),this.owner.addChild((new ie).add(this.picture7)),this.picture7.setXY(130,280),this.picture7.alpha.set__(0),this.picture7.alpha.animate(0,1,.4,be.backIn),this.picture7.set_pointerEnabled(!1)),8==e&&(this.picture8=new Fe(this._ctx.pack.getTexture("tutorial/tip8")),this.owner.addChild((new ie).add(this.picture8)),this.picture8.setXY(320,80),this.picture8.alpha.set__(0),this.picture8.alpha.animate(0,1,.4,be.backIn),this.picture8.set_pointerEnabled(!1)),9==e&&(this.picture9=new Fe(this._ctx.pack.getTexture("tutorial/tip9")),this.owner.addChild((new ie).add(this.picture9)),this.picture9.setXY(20,180),this.picture9.alpha.set__(0),this.picture9.alpha.animate(0,1,.4,be.backIn),this.picture9.set_pointerEnabled(!1)),10==e&&(this.picture10=new Fe(this._ctx.pack.getTexture("tutorial/tip10")),this.owner.addChild((new ie).add(this.picture10)),this.picture10.setXY(20,80),this.picture10.alpha.set__(0),this.picture10.alpha.animate(0,1,.4,be.backIn),this.picture10.set_pointerEnabled(!1))))},closeTip:function(e){this._ctx.isLevelPointSaved||(this._currentSprite=e,this._timer=0,this.tipsActivate[this._currentSprite-1]=2,1==this._currentSprite&&this.owner.removeChild(this.picture1.owner),2==this._currentSprite&&this.picture2.alpha.set__(0),3==this._currentSprite&&this.picture3.alpha.set__(0),4==this._currentSprite&&this.owner.removeChild(this.picture4.owner),5==this._currentSprite&&this.owner.removeChild(this.picture5.owner),6==this._currentSprite&&this.picture6.alpha.set__(0),6==e&&0==this.tipsActivate[6]&&this.showTip(7)),7==e&&null!=this.picture7&&this.owner.removeChild(this.picture7.owner),8==e?this.owner.removeChild(this.picture8.owner):9==e?this.owner.removeChild(this.picture9.owner):10==e&&this.owner.removeChild(this.picture10.owner)},__class__:is});var ss=function(e,t,i){this._wBlock=null,this.wireType=9,this.stepCount=0,this._ctx=e,this.scene=new ie,this.scene.add(new Kt(!1)),this._blockX=t,this._blockY=i};s["screens.WireBlock"]=ss,ss.__name__=["screens","WireBlock"],ss.prototype={resetBlock:function(){this.stepCount=0,this.wireType=9},getX:function(){return this._blockX},getY:function(){return this._blockY},setupBlock:function(e){null!=this._wBlock&&(this.scene.removeChild(this._wBlock),this._wBlock.dispose(),this._wBlock=null);var t=this._ctx.pack.getTexture("wiresPanel/wires000"+e);t=new Fe(t);this._wBlock=(new ie).add(t),this.scene.addChild(this._wBlock),t.setXY(this._blockX,this._blockY),this.wireType=e,this.stepCount++},__class__:ss};var rs=function(e){this.pulseTimer=this.milliSecTimer=0,this._qElementsMenu=3,this._currentElement=1,this._wireIsCut=this._properWire=!1,this._alertStartTimer=0,this._wasOpen=!1,this._timerStop=1.2,this._timer=0,this._currentWire="green",this.wireLengthArray=[0,0,0],this.padlockActive=!0,this._ctx=e,this.pulse=!1};s["screens.WiresPanel"]=rs,rs.__name__=["screens","WiresPanel"],rs.__super__=n,rs.prototype=e(n.prototype,{get_name:function(){return"WiresPanel_21"},onAdded:function(){var e=this;this.owner.add(new Me);var t=new Fe(this._ctx.pack.getTexture("backTap"));this.owner.addChild((new ie).add(t)),t.setXY(0,0),t.setScale(10);var i=this._ctx.pack.getTexture("wiresPanel/wirespanel"),s=new Fe(i);this.owner.addChild((new ie).add(s)),s.setXY(350*this._ctx.gameMagnify,260*this._ctx.gameMagnify),s.centerAnchor(),3==this._ctx.currentLevelNumber&&(s=new Fe(this._ctx.pack.getTexture("tutorial/wireTip")),this.owner.addChild((new ie).add(s)),s.setXY(10,400)),this._spark=new H(this._ctx,0,0),this.owner.addChild((new ie).add(this._spark)),i=this._ctx.pack.getTexture("wiresPanel/wiregreen0001"),this.wgreen=new Fe(i),this.owner.addChild((new ie).add(this.wgreen)),this.wgreen.setXY(298*this._ctx.gameMagnify,380*this._ctx.gameMagnify),this.wgreen.centerAnchor(),i=this._ctx.pack.getTexture("wiresPanel/wireblue0001"),this.wblue=new Fe(i),this.owner.addChild((new ie).add(this.wblue)),this.wblue.setXY(354*this._ctx.gameMagnify,380*this._ctx.gameMagnify),this.wblue.centerAnchor(),i=this._ctx.pack.getTexture("wiresPanel/wireorange0001"),this.worange=new Fe(i),this.owner.addChild((new ie).add(this.worange)),this.worange.setXY(410*this._ctx.gameMagnify,380*this._ctx.gameMagnify),this.worange.centerAnchor(),i=this._ctx.pack.getTexture("wiresPanel/nippersOpen"),this._nippers=new Fe(i),this.owner.addChild((new ie).add(this._nippers)),this._nippers.setXY(30*this._ctx.gameMagnify,390*this._ctx.gameMagnify),this._nippers.centerAnchor(),this._closeBtn=new Fe(this._ctx.pack.getTexture("buttons/BtnClose")),this.owner.addChild((new ie).add(this._closeBtn)),this._closeBtn.setXY(500*this._ctx.gameMagnify,90*this._ctx.gameMagnify),this._closeBtn.centerAnchor(),this._nippers.get_pointerDown().connect(function(){i=e._ctx.pack.getTexture("wiresPanel/nippersClose"),e._nippers.texture=i,1==e._currentElement&&(e.wgreen.texture=e._ctx.pack.getTexture("wiresPanel/wiregreen0002")),2==e._currentElement&&(e.wblue.texture=e._ctx.pack.getTexture("wiresPanel/wireblue0002")),3==e._currentElement&&(e.worange.texture=e._ctx.pack.getTexture("wiresPanel/wireorange0002")),e.currentWireToCut==e._currentElement&&(e._properWire=!0),e._wireIsCut=!0,e._ctx.pack.getSound("sounds/nippers_cut").play(),e._spark.changeAction("_Spark"),e._spark.setCoor(e._nippers.x._value+55*e._ctx.gameMagnify,e._nippers.y._value-30*e._ctx.gameMagnify)}),this.wgreen.get_pointerDown().connect(function(){e._currentElement=1,e.sortElements(),e._ctx.pack.getSound("sounds/nippers_move").play()}),this.wblue.get_pointerDown().connect(function(){e._currentElement=2,e.sortElements(),e._ctx.pack.getSound("sounds/nippers_move").play()}),this.worange.get_pointerDown().connect(function(){e._currentElement=3,e.sortElements(),e._ctx.pack.getSound("sounds/nippers_move").play()}),this._timeLabel=new He(this._ctx.interfaceFont2),this._timeLabel.setXY(.5*this._ctx.targetWidth,80),this._timeLabel.set_text(this._seconds+":99"),this._timeLabel.centerAnchor(),this._timeLabel.setScale(.8),this._mseconds=99,this.owner.addChild((new ie).add(this._timeLabel)),this._wires=[],this._signalsEnd=[],this.setUpWires(),this._currentWire="green",this._closeBtn.get_pointerDown().connect(function(){e._ctx.pack.getSound("sounds/button_click").play(),e._wasOpen=!1,e._ctx.currentLevel.closeWiresPanel(!1)}),t.get_pointerDown().connect(function(){e._wasOpen=!1,e._ctx.currentLevel.closeWiresPanel(!1)}),this.sortElements(),(t=this.owner._compMap.Sprite_0).setScale(this._ctx.gameScale),t.setXY(0,this._ctx.currentLevel.ySdvigCoef)},onUpdate:function(e){this.padlockActive&&(this._ctx.currentLevel.leftKey&&(this._ctx.currentLevel.leftKey=!1,this._currentElement-=1,1>this._currentElement&&(this._currentElement=3),this.sortElements(),this._ctx.pack.getSound("sounds/nippers_move").play()),this._ctx.currentLevel.rightKey&&(this._ctx.currentLevel.rightKey=!1,this._currentElement+=1,this._currentElement>this._qElementsMenu&&(this._currentElement=1),this.sortElements(),this._ctx.pack.getSound("sounds/nippers_move").play()),this._ctx.currentLevel.actionKey&&(this.padlockActive=!1,this._ctx.currentLevel.actionKey=!1,this._nippers.texture=this._ctx.pack.getTexture("wiresPanel/nippersClose"),1==this._currentElement&&(this.wgreen.texture=this._ctx.pack.getTexture("wiresPanel/wiregreen0002")),2==this._currentElement&&(this.wblue.texture=this._ctx.pack.getTexture("wiresPanel/wireblue0002")),3==this._currentElement&&(this.worange.texture=this._ctx.pack.getTexture("wiresPanel/wireorange0002")),this.currentWireToCut==this._currentElement&&(this._properWire=!0),this._wireIsCut=!0,this._ctx.pack.getSound("sounds/nippers_cut").play(),this._spark.changeAction("_Spark"),this._spark.setCoor(this._nippers.x._value+55*this._ctx.gameMagnify,this._nippers.y._value-30*this._ctx.gameMagnify))),this.pulse&&(this.pulseTimer+=e,.2<=this.pulseTimer&&(this._timeLabel.scaleX.animate(1,.8,.2,be.sineOut),this._timeLabel.scaleY.animate(1,.8,.2,be.sineOut),this.pulse=!1,this.pulseTimer=0)),this._wasOpen&&!this._wireIsCut&&(this._alertStartTimer+=e,this.milliSecTimer+=e,.01<this.milliSecTimer&&(this.milliSecTimer=0,this._mseconds-=1),0>this._mseconds&&(this._mseconds=0)),9<this._seconds?9<this._mseconds?this._timeLabel.set_text(this._seconds+":"+this._mseconds):this._timeLabel.set_text(this._seconds+":0"+this._mseconds):9<this._mseconds?this._timeLabel.set_text("0"+this._seconds+":"+this._mseconds):this._timeLabel.set_text("0"+this._seconds+":0"+this._mseconds),1<=this._alertStartTimer&&(this._alertStartTimer=0,this._seconds-=1,this._mseconds=99,this._timeLabel.scaleX.animate(.8,1,.2,be.sineOut),this._timeLabel.scaleY.animate(.8,1,.2,be.sineOut),this.pulse=!0,-1>=this._seconds&&(this._timeLabel.set_text("00:00"),this._ctx.currentLevel._charactersLayer.removeChild(this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon),this._wasOpen=!1,this._ctx.currentLevel.closeWiresPanel(!0),this._ctx.currentLevel.gameOver())),this._wireIsCut&&(this._timer+=e,.4<=this._timer&&this._spark.stopAction(),this._timer>=this._timerStop&&(this._properWire?(this._ctx.currentLevel.FindAndDeactivateObject(this._objectName),this._wasOpen=!1,this._ctx.currentLevel.closeWiresPanel(!0)):(this._wasOpen=!1,this._ctx.currentLevel.closeWiresPanel(!0),this._ctx.currentLevel._charactersLayer.removeChild(this._ctx.currentLevel.player._compMap.BobHero_33.currentBalloon),this._ctx.currentLevel.gameOver())))},setUpWires:function(){var e,t=Math.round(252*this._ctx.gameMagnify),i=Math.round(132*this._ctx.gameMagnify);this._signalsEnd.push(new ts(this._ctx)),this._signalsEnd.push(new ts(this._ctx)),this._signalsEnd.push(new ts(this._ctx)),this.wireBlocks=this.crossCount=this.changeWireCount=this._signalsStand=0,this.wireLengthArray[0]=0,this.wireLengthArray[1]=0;for(var s=this.wireLengthArray[2]=0;8>s;){s++,this._panelsWires=[];for(var r=0;8>r;)r++,e=new ss(this._ctx,t,i),this._panelsWires.push(e),t+=Math.round(28*this._ctx.gameMagnify);this._wires.push(this._panelsWires),t=Math.round(252*this._ctx.gameMagnify),i+=Math.round(28*this._ctx.gameMagnify)}for(this.circleCount=this.wireCount=1,this.curDirection=2,this.prevPosition=this.curPosition=new V(1,7),this._wires[this.curPosition.y][this.curPosition.x].setupBlock(8),this.owner.addChild(this._wires[this.curPosition.y][this.curPosition.x].scene),this._wires[7][3].setupBlock(8),this.owner.addChild(this._wires[7][3].scene),this._wires[7][5].setupBlock(8),this.owner.addChild(this._wires[7][5].scene),this.curPosition.y-=1;4>this.wireCount&&30>this.changeWireCount;)this.addWireBlock();this.buildWireAgain()},constructWires:function(){for(var e=this._signalsStand=0;8>e;)for(var t=e++,i=0;8>i;){var s=i++;this.owner.removeChild(this._wires[s][t].scene),this._wires[s][t].resetBlock()}for(this.owner.removeChild(this._signalsEnd[0].scene),this.owner.removeChild(this._signalsEnd[1].scene),this.owner.removeChild(this._signalsEnd[2].scene),this.wireBlocks=this.crossCount=this.changeWireCount=0,this.wireLengthArray[0]=0,this.wireLengthArray[1]=0,this.wireLengthArray[2]=0,this.circleCount=this.wireCount=1,this.curDirection=2,this.prevPosition=this.curPosition=new V(1,7),this._wires[this.curPosition.y][this.curPosition.x].setupBlock(8),this.owner.addChild(this._wires[this.curPosition.y][this.curPosition.x].scene),this._wires[7][3].setupBlock(8),this.owner.addChild(this._wires[7][3].scene),this._wires[7][5].setupBlock(8),this.owner.addChild(this._wires[7][5].scene),this.curPosition.y-=1;4>this.wireCount&&40>this.changeWireCount;)this.addWireBlock();this.buildWireAgain()},buildWireAgain:function(){if(4>this.wireCount||4>this.crossCount||36>this.wireBlocks)this.constructWires();else{var e=this.wireLengthArray[0],t=0;this.wireLengthArray[1]>e&&(e=this.wireLengthArray[1],t=1),this.wireLengthArray[2]>e&&(t=2),this.currentWireToCut=t+1,this._signalsEnd[t].setupBlock(2,0,0)}},addWireBlock:function(){var e=Math.floor(8*Math.random()+1);this.changeWireCount++,0==this.curPosition.y&&(1==this.curDirection&&(e=4),2==this.curDirection&&(e=8),3==this.curDirection&&(e=3),this._wires[this.curPosition.y][this.curPosition.x].setupBlock(e),this.owner.addChild(this._wires[this.curPosition.y][this.curPosition.x].scene),this._signalsEnd[this._signalsStand].setupBlock(1,this._wires[this.curPosition.y][this.curPosition.x].getX(),this._wires[this.curPosition.y][this.curPosition.x].getY()-18),this.owner.addChild(this._signalsEnd[this._signalsStand].scene),this._signalsStand+=1,this.wireCount++,2==this.wireCount&&(this.circleCount=Math.floor(2*Math.random()+1),1>this.circleCount&&(this.circleCount=1),this.curDirection=2,this.curPosition=new V(3,7),this.curPosition.y-=1),3==this.wireCount&&(this.circleCount=Math.floor(2*Math.random()+1),1>this.circleCount&&(this.circleCount=1),this.curDirection=2,this.curPosition=new V(5,7),this.curPosition.y-=1)),this.isValidWireSegment(this.curPosition,this.prevPosition,this.curDirection,e)&&(this._wires[this.curPosition.y][this.curPosition.x].setupBlock(e),this.owner.addChild(this._wires[this.curPosition.y][this.curPosition.x].scene),this.changeWireCount=0,this.wireBlocks++,1==this.wireCount&&(this.wireLengthArray[0]+=1),2==this.wireCount&&(this.wireLengthArray[1]+=1),3==this.wireCount&&(this.wireLengthArray[2]+=1),(5==e||6==e)&&this.crossCount++,1==e&&(2==this.curDirection&&(this.curDirection=3),1==this.curDirection&&(this.curDirection=4)),2==e&&(2==this.curDirection&&(this.curDirection=1),3==this.curDirection&&(this.curDirection=4)),3==e&&(4==this.curDirection&&(this.curDirection=1),3==this.curDirection&&(this.curDirection=2)),4==e&&(4==this.curDirection&&(this.curDirection=3),1==this.curDirection&&(this.curDirection=2)),2==this.curDirection&&(this.curPosition.y-=1),4==this.curDirection&&(this.curPosition.y+=1,this.circleCount++),1==this.curDirection&&(this.curPosition.x-=1),3==this.curDirection&&(this.curPosition.x+=1))},setName:function(e,t){this._objectName=e,this._seconds=t-1,this._wasOpen=!0,this._alertStartTimer=0},sortElements:function(){1==this._currentElement&&(this._nippers.setXY(this.wgreen.x._value-40*this._ctx.gameMagnify,this.wgreen.y._value+30*this._ctx.gameMagnify),this._currentWire="green"),2==this._currentElement&&(this._nippers.setXY(this.wblue.x._value-40*this._ctx.gameMagnify,this.wblue.y._value+30*this._ctx.gameMagnify),this._currentWire="blue"),3==this._currentElement&&(this._nippers.setXY(this.worange.x._value-40*this._ctx.gameMagnify,this.worange.y._value+30*this._ctx.gameMagnify),this._currentWire="orange")},isValidWireSegment:function(e,t,i,s){return!(1==s&&(3==i||4==i||0<this._wires[this.curPosition.y][this.curPosition.x].stepCount||2==i&&6==e.x||1==i&&6==e.y||1==i&&(1<this.circleCount||3==e.x||5==e.x)||2==i&&8>this._wires[this.curPosition.y][this.curPosition.x+1].wireType||1==i&&7>this._wires[this.curPosition.y+1][this.curPosition.x].wireType)||2==s&&(1==i||4==i||0<this._wires[this.curPosition.y][this.curPosition.x].stepCount||2==i&&0==e.x||3==i&&6==e.y||3==i&&(1<this.circleCount||3==e.x||5==e.x)||2==i&&8>this._wires[this.curPosition.y][this.curPosition.x-1].wireType||3==i&&7>this._wires[this.curPosition.y+1][this.curPosition.x].wireType)||3==s&&(1==i||2==i||0<this._wires[this.curPosition.y][this.curPosition.x].stepCount||4==i&&0==e.x||3==i&&0==e.y||4==i&&8>this._wires[this.curPosition.y][this.curPosition.x-1].wireType||3==i&&7>this._wires[this.curPosition.y-1][this.curPosition.x].wireType)||4==s&&(3==i||2==i||0<this._wires[this.curPosition.y][this.curPosition.x].stepCount||4==i&&6==e.x||1==i&&0==e.y||4==i&&8>this._wires[this.curPosition.y][this.curPosition.x+1].wireType||1==i&&7>this._wires[this.curPosition.y-1][this.curPosition.x].wireType))&&((5!=s&&8!=s||!(1==i||3==i||1==this._wires[this.curPosition.y][this.curPosition.x].stepCount&&8==s||0==this._wires[this.curPosition.y][this.curPosition.x].stepCount&&5==s||2==i&&0==e.y||4==i&&6==e.y||2==i&&7>this._wires[this.curPosition.y-1][this.curPosition.x].wireType||4==i&&7>this._wires[this.curPosition.y+1][this.curPosition.x].wireType))&&(6!=s&&7!=s||!(2==i||4==i||1==this._wires[this.curPosition.y][this.curPosition.x].stepCount&&7==s||0==this._wires[this.curPosition.y][this.curPosition.x].stepCount&&6==s||1==i&&0==e.x||3==i&&6==e.x||1==i&&8>this._wires[this.curPosition.y][this.curPosition.x-1].wireType||3==i&&8>this._wires[this.curPosition.y][this.curPosition.x+1].wireType)))},__class__:rs});var as=function(){this._url=ue._platform.getExternal().call("location.href.toString"),this.checkUrl=this._url.split("/")[2]};s["system.SiteLock"]=as,as.__name__=["system","SiteLock"],as.prototype={__class__:as};var ns=0;Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,s.Math=Math,Math.isFinite=function(e){return isFinite(e)},Math.isNaN=function(e){return isNaN(e)},String.prototype.__class__=s.String=String,String.__name__=["String"],s.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=s.Date=Date,Date.__name__=["Date"];var os=s.Int={__name__:["Int"]},cs=s.Dynamic={__name__:["Dynamic"]},hs=s.Float=Number;hs.__name__=["Float"];var _s=s.Bool=Boolean;_s.__ename__=["Bool"];var ls,us=s.Class={__name__:["Class"]},ds={};Z.Element="element",Z.PCData="pcdata",Z.CData="cdata",Z.Comment="comment",Z.DocType="doctype",Z.ProcessingInstruction="processingInstruction",Z.Document="document",ae.instance=new ae,ce.DISPATCHING_SENTINEL=new oe(null,null),ue.root=new ie,ue.uncaughtError=new _e,ue.hidden=new ne(!1),ue.volume=new le(1),ue._platform=ae.instance,ue._calledInit=!1,we.__meta__={obj:{assets:[{preloader:[{bytes:1352,md5:"823292d544b5ea6b41ed2f127bb5ee91",name:"fonts/Interface.fnt"},{bytes:3196,md5:"777b6c7c56733764aa79dad73e29a318",name:"fonts/Interface.png"},{bytes:239,md5:"43867ffe2ed963a3dc415633a74873ef",name:"progress/Background.png"},{bytes:238,md5:"0b8fc57138a8f80221daf7fb3114669a",name:"progress/Fill.png"},{bytes:1605,md5:"11d0633df19b92822625424b83192b53",name:"progress/Left.png"},{bytes:92790,md5:"f599db73d67d217457ff1aaa948774e0",name:"progress/MainScreenBg.png"},{bytes:1621,md5:"af8723cd197ddf8ec53ea06b9b54b035",name:"progress/Right.png"},{bytes:18864,md5:"18a7b41e469f845124a360da2e809587",name:"progress/gameLogo.png"}],locale:[{bytes:63,md5:"704272e6583fe1f162c9b209fb2942c2",name:"messages.ini"}],finalcomics:[{bytes:22377,md5:"4aac42c0c797f53f4541963819b35f8d",name:"finpic1.png"},{bytes:14844,md5:"42ddff2e9434e13c5c214e2ef9617a4e",name:"finpic2.png"},{bytes:12420,md5:"ff69e4fa1d0aad8f8b7a0d172ad085fd",name:"finpic3.png"},{bytes:23685,md5:"036bc3670d4000188dcb48bbb742bc35",name:"finpic4.png"}],main:[{bytes:5500,md5:"8f06d2287f7a0f20ca110a0ef1d43935",name:"BalloonBox.png"},{bytes:4655,md5:"2d433f874301ff278c4179d33a31f878",name:"BalloonCode.png"},{bytes:4838,md5:"14bd04fb97f7d631203f7d7f5767b7ae",name:"BalloonComputer.png"},{bytes:5953,md5:"e09f8056f0227d3bba523424be44e3f5",name:"BalloonElectric.png"},{bytes:6269,md5:"20b8c347612c36425942bfed4eaed9cc",name:"BalloonHackMonitor.png"},{bytes:6188,md5:"c1d899cfc321b9d3e6258cded439f739",name:"BalloonHiden.png"},{bytes:5705,md5:"ce765037a1d3e4e4ac0c9acd56788e54",name:"BalloonLockpick.png"},{bytes:5221,md5:"74f23d51196a6c9bb42da9fd247c5193",name:"BalloonMessage.png"},{bytes:5845,md5:"6c5d7fdfbb9856c5d38096d8386f6b10",name:"BalloonNone.png"},{bytes:5336,md5:"3c147ad9b9af349e237400da625878d6",name:"BalloonSave.png"},{bytes:5162,md5:"d1f1ecb48dc8e2080c5d8cbe70631127",name:"BalloonStair.png"},{bytes:6525,md5:"78de58ec76f4106dd4e0f62a1dcc3938",name:"BobElev.png"},{bytes:4612,md5:"2d84b998ed0a3e74c40fee22ca3324e7",name:"BobShadow.png"},{bytes:881,md5:"5d31dd40049d65a947609f725de0a4eb",name:"Bulkhead.png"},{bytes:470,md5:"70a9a63703ce87c24615a91421576e2a",name:"Bulkhead2.png"},{bytes:887,md5:"8dbacef531b5762733936c55dda4968d",name:"Bulkhead_wsl.png"},{bytes:920,md5:"2776f30ee672ab77a019fe37ce7ea3b3",name:"Bulkhead_wsr.png"},{bytes:4330,md5:"1fe5ecc610d859be23b9ee049fb62c42",name:"CrashWalls.png"},{bytes:143387,md5:"0d0f0e6ca50df0fa689221ce2fd89281",name:"GameBackground1.png"},{bytes:76743,md5:"be96c190391c28b784ea5eeaf16ea55c",name:"GameBackground10.png"},{bytes:79747,md5:"8b38150f5468e6daefca8cd3c435ea53",name:"GameBackground102.png"},{bytes:85100,md5:"977fa47a1e28ff4e437807955171e91f",name:"GameBackground103.png"},{bytes:149752,md5:"48db6f5f39a79a1576579ed9a4a0388a",name:"GameBackground2.png"},{bytes:170208,md5:"d6546c25e24a5ab00ab8bac0a4fe56a3",name:"GameBackground3.png"},{bytes:175543,md5:"1926dd95183082a14aaed8d5cce152a7",name:"GameBackground4.png"},{bytes:165032,md5:"fb4a1a57749b5a195f0ef76fe12779b0",name:"GameBackground5.png"},{bytes:170309,md5:"4990eeb8917836c6b9d98429eb36147e",name:"GameBackground6.png"},{bytes:122902,md5:"28e503ec433eb9b02d3124e5e48b562e",name:"GameBackground62.png"},{bytes:160001,md5:"6dd4cbd338f1b1da4087aaebb8576aae",name:"GameBackground7.png"},{bytes:96317,md5:"75bf0f8854a41a7fe0cb2cf305a9639c",name:"GameBackground72.png"},{bytes:103238,md5:"bea65081cffecce18abe72d8881c01e1",name:"GameBackground8.png"},{bytes:122155,md5:"db3c76272b1f7e9780ca8102a6ba3d94",name:"GameBackground82.png"},{bytes:107591,md5:"aeb189bab3abe8c3a7b633c794cfbab2",name:"GameBackground9.png"},{bytes:85841,md5:"fe2850b31181087d8db3ccdd360d35fa",name:"GameBackground92.png"},{bytes:151910,md5:"ab5477b503cab1a842b5540d99417850",name:"MainScreenBg.png"},{bytes:4026,md5:"942de03c7e4d1d9fff87f86e9f4c6f29",name:"RightBackLine.png"},{bytes:3728,md5:"cdd5d1022510a7886362a68467eedce3",name:"Shadows1.png"},{bytes:3222,md5:"5c714b94acf5c3a8e22f83f75c4521a1",name:"Shadows10.png"},{bytes:2667,md5:"ffbfb17c3e1223e42ba9964cda69c693",name:"Shadows2.png"},{bytes:3169,md5:"83247634c44407e4ac01d491cabb1f01",name:"Shadows3.png"},{bytes:3670,md5:"7e966ca172057c792fe98cf69038e8e1",name:"Shadows4.png"},{bytes:4014,md5:"ed1c2a8d01741024d4dba7881e56aebd",name:"Shadows5.png"},{bytes:3869,md5:"f82b3e4febdeecee3456c7e1e2ba1961",name:"Shadows6.png"},{bytes:3838,md5:"7765a1793fd57ca4b5a795b191d8eb42",name:"Shadows62.png"},{bytes:2175,md5:"3fc96fc5d46608b4d6e5476b2b79ed34",name:"Shadows7.png"},{bytes:3662,md5:"a2aa3bf27f195979e6ad15ba8bfff539",name:"Shadows72.png"},{bytes:3076,md5:"9bda6fe1e8462927a5e8197d1263a326",name:"Shadows8.png"},{bytes:5392,md5:"b66913cecf4a1d1ff07a86e301400f4b",name:"Shadows82.png"},{bytes:2063,md5:"2d72cb389d645b4abadd5b127c9b750a",name:"Shadows9.png"},{bytes:3115,md5:"b69863c7d8e4d2bccef38833dde48f88",name:"Shadows92.png"},{bytes:3877,md5:"4da674ce0dca93a640c630d9e5d58f40",name:"StairDown.png"},{bytes:2258,md5:"40c3f03bb16ed397e8d2751f9e38e135",name:"StairUp.png"},{bytes:82190,md5:"2c08904aeef9bcd089d91bdb53048397",name:"backLevels.png"},{bytes:1045,md5:"4c31757ac91e5c39bc8a53944e3e7e28",name:"backTap.png"},{bytes:47167,md5:"7c62e0dc563b2f6449ba7e8ed90a2c83",name:"bobAnim/atlas0.png"},{bytes:177779,md5:"e9dd2cbd640b8a60875659d64d215940",name:"bobAnim/library.json"},{bytes:32,md5:"a6ceb0b8b01f40499eb864b494aef09e",name:"bobAnim/md5"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"bobAnim/version"},{bytes:26591,md5:"37fbb2a0876031440d12bc5e383b0d6b",name:"bobRopeJump.png"},{bytes:4228,md5:"e97d08b6977b416c815f57a29c071a3d",name:"buttons/BaterySign.png"},{bytes:7764,md5:"b7c87d80793dc2a1e8b345df88c61f6d",name:"buttons/BtnClose.png"},{bytes:1068,md5:"064f2e1ffddec52dca8aff6f31c567a9",name:"buttons/BtnPause.png"},{bytes:2262,md5:"434571cdb14b8e69325de23a60079361",name:"buttons/BtnReset.png"},{bytes:3762,md5:"839e1bd6ff170864b28d8516e61bdb29",name:"buttons/Home.png"},{bytes:36229,md5:"de7094e6dbe98799839ea32d1bc4f547",name:"buttons/LevelBox1.png"},{bytes:35847,md5:"286fcc552d79809ec45f52c579f6dd32",name:"buttons/LevelBox10.png"},{bytes:41876,md5:"fabf9341b4768b7d93708c51d3031ffb",name:"buttons/LevelBox2.png"},{bytes:37599,md5:"31f4b9f69604ab5819ce555a4e5d253f",name:"buttons/LevelBox3.png"},{bytes:36305,md5:"2ad0b12aa76c98a223c140b5fd564c6e",name:"buttons/LevelBox4.png"},{bytes:35242,md5:"45ae6b97ecb09913d7e1f9d6ef105aa0",name:"buttons/LevelBox5.png"},{bytes:39079,md5:"02ca518468b35abe494c6ac90a6407c8",name:"buttons/LevelBox6.png"},{bytes:35666,md5:"95ded0fd1f1e9656b27fbd5d34d82608",name:"buttons/LevelBox7.png"},{bytes:33103,md5:"2673272ee65a7706e08483be21a40547",name:"buttons/LevelBox8.png"},{bytes:33723,md5:"f8312723d6268eb55f1522c784d06601",name:"buttons/LevelBox9.png"},{bytes:30962,md5:"a99759b6d3386ccd7bb74f93b7f88e7a",name:"buttons/LevelBoxGray10.png"},{bytes:33744,md5:"a18226c1a754da815840333e5b154829",name:"buttons/LevelBoxGray2.png"},{bytes:30529,md5:"19b38a32b8c7e9038c1bfb0e826b46df",name:"buttons/LevelBoxGray3.png"},{bytes:29192,md5:"815c2092b9757c2cc8713f684ced1d87",name:"buttons/LevelBoxGray4.png"},{bytes:27469,md5:"462031a47a50a29ff97db80d052fb9d8",name:"buttons/LevelBoxGray5.png"},{bytes:32057,md5:"fb81f090510e39e5f4928b483c31e59e",name:"buttons/LevelBoxGray6.png"},{bytes:29731,md5:"776f064c83d790e398407abeffb93b46",name:"buttons/LevelBoxGray7.png"},{bytes:27900,md5:"943b71d0a85c77b86843884b2243387a",name:"buttons/LevelBoxGray8.png"},{bytes:29578,md5:"82082189c0946874d785c3dfb908c0a8",name:"buttons/LevelBoxGray9.png"},{bytes:137741,md5:"2d36ec03fed1b8f7267d8856face1cf1",name:"buttons/LevelMapBack.png"},{bytes:574,md5:"22ec1ffaa26656e7585e472bcae9d56d",name:"buttons/LevelNumber1.png"},{bytes:1758,md5:"d09fd57f2e5402a0695db389fdee45fc",name:"buttons/LevelNumber10.png"},{bytes:1300,md5:"303e88fa9769a0ff81c915cd745aa8d0",name:"buttons/LevelNumber2.png"},{bytes:1248,md5:"f0e3e4de1b4124d3da613461562eac7e",name:"buttons/LevelNumber3.png"},{bytes:920,md5:"49f8b0677142cb40db515948965f94dd",name:"buttons/LevelNumber4.png"},{bytes:1107,md5:"93290db1583982bfbb01af1cfe4a7d26",name:"buttons/LevelNumber5.png"},{bytes:1215,md5:"f758a067927dc258b42b254eea5d9413",name:"buttons/LevelNumber6.png"},{bytes:905,md5:"e9b6da759787769e48499fc97ed56df4",name:"buttons/LevelNumber7.png"},{bytes:1182,md5:"32a36b5c970ef8197caf8d875d83e1ee",name:"buttons/LevelNumber8.png"},{bytes:1244,md5:"a71844b7d925d8a231eff855928dae5f",name:"buttons/LevelNumber9.png"},{bytes:822,md5:"21d3f3029012e0f113ef1815cb8e8183",name:"buttons/LevelStar.png"},{bytes:1140,md5:"fa9e9850f004e4bed09fd2bf1d7570cf",name:"buttons/LevelStarFull.png"},{bytes:2913,md5:"f7c8bdd7bed8bbdc47c1a4bf462cad76",name:"buttons/MapBattery.png"},{bytes:3908,md5:"bf0720ececd8806498afdd177d81660e",name:"buttons/Play.png"},{bytes:7171,md5:"b657cfa4a1cba0dfcc151bb80ab514ce",name:"buttons/PlayBig.png"},{bytes:10384,md5:"b7c1e38603dc6f3a3d7ee7366dbc17da",name:"buttons/PlayNext.png"},{bytes:5073,md5:"df328b2fe133c3f2874e85e9be0f38ce",name:"buttons/Replay.png"},{bytes:3218,md5:"9bb9aabc80d13266b721e9f5f27cca2e",name:"buttons/TimeSign.png"},{bytes:3153,md5:"8667267c362ae096977e2c83f50c2429",name:"buttons/docsCompelete.png"},{bytes:4163,md5:"0737c2c70a386b91c00b2dbc44ef04dc",name:"buttons/levelCircle.png"},{bytes:1673,md5:"92408676eb9d9a0deaf5fb853a253684",name:"codePanel/codebutton001.png"},{bytes:1719,md5:"b7316414ff61ea1a998957bff1025516",name:"codePanel/codebutton0010.png"},{bytes:1645,md5:"e7fc13a37e102d1ad84bb34df8636116",name:"codePanel/codebutton0011.png"},{bytes:1799,md5:"cf69eccca89feba2705cc6c5ac474daa",name:"codePanel/codebutton0012.png"},{bytes:1384,md5:"ae3732339e97a49046d905e913323e6f",name:"codePanel/codebutton002.png"},{bytes:1697,md5:"731e90aa6d958ab685ae68f4e04f6d1c",name:"codePanel/codebutton003.png"},{bytes:1756,md5:"9248b71cd9f7a938df9ac540650a112c",name:"codePanel/codebutton004.png"},{bytes:1513,md5:"8b20da8aeda487e9dad5692dd0564d11",name:"codePanel/codebutton005.png"},{bytes:1683,md5:"fccdbf73e97825290d2dec493690d25e",name:"codePanel/codebutton006.png"},{bytes:1723,md5:"c9c3873bca9fbcebd7d5a0d8b43c9c7f",name:"codePanel/codebutton007.png"},{bytes:1544,md5:"fe449c8b41595f314b266d40ff6f5104",name:"codePanel/codebutton008.png"},{bytes:1691,md5:"df881cc3123aa4039bc1c484d7cff342",name:"codePanel/codebutton009.png"},{bytes:1602,md5:"84d25474b51e5918cfb65521ad4b495a",name:"codePanel/codebuttonDown001.png"},{bytes:1335,md5:"1ae2413d93c6832c688c8da4b8ed4d78",name:"codePanel/codebuttonDown002.png"},{bytes:1637,md5:"4d61a41b227ee73a1bdf4b5c0d014a8c",name:"codePanel/codebuttonDown003.png"},{bytes:1688,md5:"fed0f070eb651366bbef63be065fe986",name:"codePanel/codebuttonDown004.png"},{bytes:1458,md5:"b4456398b085af04288804b81dbcd61b",name:"codePanel/codebuttonDown005.png"},{bytes:1620,md5:"69dd1afeb9174fb6e542479d4b65cafc",name:"codePanel/codebuttonDown006.png"},{bytes:1659,md5:"67b2e29bedc4989f05a62fc1f054c775",name:"codePanel/codebuttonDown007.png"},{bytes:1471,md5:"8181dd2c902042285ba23e693e4c6777",name:"codePanel/codebuttonDown008.png"},{bytes:1637,md5:"b0c503ef684b9f2badf2d9f545dde386",name:"codePanel/codebuttonDown009.png"},{bytes:1666,md5:"bdcdad170838c833e194ea39cb50b0ea",name:"codePanel/codebuttonDown010.png"},{bytes:1587,md5:"e2bcd63ed12bacc019c3b02d8ee92ca2",name:"codePanel/codebuttonDown011.png"},{bytes:1743,md5:"17a023d8995a06d9b56f1950e9159f8f",name:"codePanel/codebuttonDown012.png"},{bytes:19843,md5:"bdc359f17c1e01cdf162c73f83726c6d",name:"codePanel/codepanelBack.png"},{bytes:2331,md5:"8876bbc6c250f1553322b9211f91b60a",name:"coin.png"},{bytes:23904,md5:"6e55a4704dd012eae09a9e205c2dd1e5",name:"effectsAnim/atlas0.png"},{bytes:18761,md5:"547533af75f066029a79bc4e91f1d7a5",name:"effectsAnim/library.json"},{bytes:32,md5:"80410b69f0b6ca162f3db05b244d2f2c",name:"effectsAnim/md5"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"effectsAnim/version"},{bytes:5008,md5:"15a75cdfd86a855113c01b40fcfb6c2e",name:"fonts/ComputerDark.fnt"},{bytes:2204,md5:"ef1354118b504b2d3353d7d237d7d1b9",name:"fonts/ComputerDark.png"},{bytes:5010,md5:"7a67b8ce4fa006f4f408699dbb9abf6d",name:"fonts/ComputerLight.fnt"},{bytes:2230,md5:"c275c291912ee81b3fa92cf06dace962",name:"fonts/ComputerLight.png"},{bytes:1434,md5:"a9d7204e9937fea1cbd81aa2e1b43cc6",name:"fonts/Interface.fnt"},{bytes:2633,md5:"383a53ac67c86e40f24b8f5f5c5691e2",name:"fonts/Interface.png"},{bytes:1361,md5:"891d5d20e476c9052df7f1138f877341",name:"fonts/Interface2.fnt"},{bytes:8011,md5:"f25a00076956bd8d58bc64039c7d5d0e",name:"fonts/Interface2.png"},{bytes:17042,md5:"a5745569717742f711000c351bfdcf4a",name:"fonts/Messages.fnt"},{bytes:18517,md5:"ebafb3d456d92a9aeaecf4e365277617",name:"fonts/Messages.png"},{bytes:1623,md5:"37efc64d288d5c6679e606a80dba5d21",name:"fonts/Segment.fnt"},{bytes:3209,md5:"6aa962d099f5b25d2f11ab9e59442f6d",name:"fonts/Segment.png"},{bytes:25063,md5:"b1f4863d4e4da97e4d6afa9b0792c38a",name:"gameLogo.png"},{bytes:779,md5:"35a1155c153339dd37965fc4b3de5f10",name:"gameObjects/AlertLightOn.png"},{bytes:393,md5:"5db09f0e4f83e57dea98af02a341438e",name:"gameObjects/Battery.png"},{bytes:3232,md5:"118e7cb0ce6532067afdf16df390a2e2",name:"gameObjects/CrashWalls.png"},{bytes:2215,md5:"9ca798b326c3104fb775f10c05da7d29",name:"gameObjects/EndDoors.png"},{bytes:2762,md5:"c321e6b8c1a0a7bd92be982ee4c2d8c8",name:"gameObjects/ExitTarget.png"},{bytes:2726,md5:"06f1bc23aba28cbaf8607a0bda801574",name:"gameObjects/ExitTarget2.png"},{bytes:2777,md5:"eac0ed521ad18a4fd5986310bc2bf303",name:"gameObjects/GadgetTarget.png"},{bytes:2797,md5:"c4d25affcc2a2ba3863a24d55a237328",name:"gameObjects/GadgetTarget2.png"},{bytes:8734,md5:"056343c11589a36d68c2ac72d54815d1",name:"gameObjects/SavePoint.png"},{bytes:11063,md5:"31044196e6ad049bd25f864dd114dfc6",name:"gameObjects/SavePointActive.png"},{bytes:1038,md5:"f62e7c6e05f2aa4fae213f21d4709643",name:"gameObjects/SavePointLight.png"},{bytes:3070,md5:"7d25d1bff3c12d07aa678893744a0aeb",name:"gameObjects/SavePointTop.png"},{bytes:5184,md5:"b0071e0d8e6204442fdaebff38750720",name:"gameObjects/StairDoor1.png"},{bytes:3156,md5:"43eacf5667b3a17c0bb5513350de1323",name:"gameObjects/StairDoor2.png"},{bytes:1887,md5:"fd11b5fec18383d4ef98f60a32522f93",name:"gameObjects/StairDoor3.png"},{bytes:1373,md5:"c749de78b6cc7e00d710a7acd5340173",name:"gameObjects/TrapDoor.png"},{bytes:1491,md5:"1cadf097b54dca969982ff6e97d95a0b",name:"gameObjects/box.png"},{bytes:7149,md5:"25d88c2bd3ef9c6464eb3e1876268e45",name:"gameObjects/camera0001.png"},{bytes:4288,md5:"9f93e0720bf0b6e56d4201660e775abb",name:"gameObjects/camera0002.png"},{bytes:4278,md5:"6939831c1e5d5dbb94d746864a23a2e5",name:"gameObjects/camera0003.png"},{bytes:626,md5:"4bb507d22eaed92becba924e52a7da91",name:"gameObjects/cameraFront.png"},{bytes:892,md5:"eba55d40b2380a634389ac22047c2e9a",name:"gameObjects/codepanel.png"},{bytes:3121,md5:"b8f0321a403021a84462022d16c5101b",name:"gameObjects/door1.png"},{bytes:1505,md5:"82f4dc64037ef2f271a38a35d28262e5",name:"gameObjects/electricPanel1.png"},{bytes:4905,md5:"1138cdc347c35a09e4c271612bd33943",name:"gameObjects/electricPanel2.png"},{bytes:1708,md5:"a185a91a5816fb403e37188f273ecb8f",name:"gameObjects/elevatorBack.png"},{bytes:2529,md5:"8c0f09125960033f495ff655483cd507",name:"gameObjects/elevatorLeftDoor.png"},{bytes:2353,md5:"0ac8b0dcfab95089cf356d62b83c1113",name:"gameObjects/elevatorRightDoor.png"},{bytes:426,md5:"d098f60eb47c346613554ebdbaccc0e4",name:"gameObjects/laserLines.png"},{bytes:544,md5:"37e6be4578544e2d141f6264150f5475",name:"gameObjects/message.png"},{bytes:2684,md5:"10033fb4b18f2604d1764d423f4fb2a9",name:"gameObjects/padlock.png"},{bytes:1047,md5:"154f706d232d668360394b8b27308586",name:"gameObjects/sidedoor.png"},{bytes:913,md5:"97b271ccb5d8fba391033ba63e3a9978",name:"gameObjects/sidedoor2.png"},{bytes:18526,md5:"950a0d91aa65db954fadc2686796bf03",name:"guardAAnim/atlas0.png"},{bytes:142924,md5:"c998a1fbd3b5dacb49966ac89b9b1f8e",name:"guardAAnim/library.json"},{bytes:32,md5:"4e83d4916f1692497e52c49dd08e5806",name:"guardAAnim/md5"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"guardAAnim/version"},{bytes:22133,md5:"f03c9e81bded298cea116c106e674aeb",name:"guardBAnim/atlas0.png"},{bytes:155615,md5:"0d09a6827bb339ea7597f0f540de5d35",name:"guardBAnim/library.json"},{bytes:32,md5:"dfd05d197bf9aca52d6fff302f8a57ff",name:"guardBAnim/md5"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"guardBAnim/version"},{bytes:100,md5:"ca91752a3b5327c37fddb0641b61626b",name:"hackerPanel/block.png"},{bytes:1105,md5:"66817350c6062717348dcd0d8ccc4edd",name:"hackerPanel/dot.png"},{bytes:46937,md5:"c46a12fffc9378f00e6b9b7a6dc812ca",name:"hackerPanel/panelBack.png"},{bytes:292,md5:"21e086881fca2e26baf12ba15676be44",name:"hackerPanel/marker.png"},{bytes:983,md5:"6c7c8b57fdbbdde5ab6fa5e592ef9229",name:"hackerPanel/tapZone.png"},{bytes:726,md5:"bde723608e956e2305df162dc941bc3a",name:"hackerPanel/target.png"},{bytes:750,md5:"137383b03205053b3fade1de90f67adc",name:"hackerPanel/targetFull.png"},{bytes:2746,md5:"b6fa3208e64071b491c599486ef4232e",name:"level1.xml"},{bytes:3686,md5:"25194be80c5d7d433ec88efdfbf426cf",name:"level10.xml"},{bytes:3652,md5:"878030a0d73ad5c87531ea280cb27ae1",name:"level102.xml"},{bytes:3296,md5:"d957a2e224d52a9c2f66f823f3bb01f1",name:"level103.xml"},{bytes:3313,md5:"6721211391e5281c3d05b4f072edb42f",name:"level2.xml"},{bytes:3434,md5:"43016d39dae6620fad9010c4f9199839",name:"level3.xml"},{bytes:3885,md5:"b60cb5122a4e8816d6d272e07c640add",name:"level4.xml"},{bytes:4425,md5:"3706f5acf200031b19c41ca257451947",name:"level5.xml"},{bytes:3515,md5:"e6315eee9560d5eb32107b7d98d2daf8",name:"level6.xml"},{bytes:2909,md5:"63369fcca00d931f3980c20c9e79b8fd",name:"level62.xml"},{bytes:3661,md5:"7a78cadbd703d890fe987c380728d876",name:"level7.xml"},{bytes:3021,md5:"76a61b75189c8f774808e7e566e98933",name:"level72.xml"},{bytes:3832,md5:"a794665b3b825c7b568ffa7554f3aca1",name:"level8.xml"},{bytes:3805,md5:"27a30b8de095547b53bb0b3ea0fcccf2",name:"level82.xml"},{bytes:4357,md5:"d8df8e90fb84d57da52b6310f15ee2c2",name:"level9.xml"},{bytes:4179,md5:"4703c21c0663ea7f2543648fddb42de7",name:"level92.xml"},{bytes:7910,md5:"eea888daf0b3804fd7bbfd635c4050b1",name:"monitor/BtnArrow.png"},{bytes:8185,md5:"5d1cfe75f36517dada6b1acb32f92642",name:"monitor/BtnArrow2.png"},{bytes:134383,md5:"72898da7c776872097cc759eae391dad",name:"monitor/MonitorBack.png"},{bytes:109,md5:"d913a716379f87396f68c28e5f702f0c",name:"monitor/MonitorLine.png"},{bytes:177,md5:"921dcc50487f6a4f59c6c86498a79853",name:"monitor/MonitorSelector.png"},{bytes:2499,md5:"7004c74994a75174c335294229068c63",name:"monitor/asciibob.png"},{bytes:7035,md5:"4fc14e2979a9ce9db319080c8b5bda32",name:"monitor/blackcat.png"},{bytes:128,md5:"6041287e35d5416514896e08d53c904d",name:"monitor/computer.png"},{bytes:2307,md5:"f8fa3f575aebd6fe314de4c2599c4cd6",name:"monitor/doorCodeTxt.png"},{bytes:5078,md5:"63a4e33ac87026a1f2e36777f978640c",name:"monitor/house.png"},{bytes:587,md5:"82ace77219bc95ae7d13371b2b851df9",name:"monitor/monitorNum0.png"},{bytes:453,md5:"7acb9029999b694ce86484458d05c9a9",name:"monitor/monitorNum1.png"},{bytes:574,md5:"12a4e0c166a0edb95ca6ee63f0f9c9cd",name:"monitor/monitorNum2.png"},{bytes:465,md5:"8e77140f1b59114fcc4c3cbcba9eba34",name:"monitor/monitorNum4.png"},{bytes:602,md5:"c88ca376db812d163b3ea2a907c488ee",name:"monitor/monitorNum3.png"},{bytes:564,md5:"3277615b16a5280dc04a1297ab7d9cfa",name:"monitor/monitorNum5.png"},{bytes:703,md5:"f05e937356a8ba66c714c1b02ba15d25",name:"monitor/monitorNum6.png"},{bytes:550,md5:"626cab443580ee729a75da41a56533fb",name:"monitor/monitorNum7.png"},{bytes:707,md5:"93ea258223d4e81fa8a5cf2999239d81",name:"monitor/monitorNum8.png"},{bytes:703,md5:"015869ea1fff09ab9b30a23d7008cdf4",name:"monitor/monitorNum9.png"},{bytes:91,md5:"3d5967e54046c00281847c86998bab1c",name:"monitor/shadow.png"},{bytes:5114,md5:"f25003bd93708ce291102c807f63d18d",name:"monitor/superspy.png"},{bytes:12093,md5:"203165794c16e26009325ba3ad22a34c",name:"mummyAnim/atlas0.png"},{bytes:32,md5:"009fbcf7debf157294f61cb15748caf2",name:"mummyAnim/md5"},{bytes:87074,md5:"fd43468d13ae6f981d285b26c60cc7da",name:"mummyAnim/library.json"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"mummyAnim/version"},{bytes:793703,md5:"b6d75df2b7443c0e4023a52b4e6efec9",name:"music/btb3_bossfight_v1.mp3"},{bytes:559646,md5:"0655dc3649b742532ad8cf81fb7c8088",name:"music/btb3_comix_theme.mp3"},{bytes:1118039,md5:"07f1cdfaf0570b734e2753b52afc7ce2",name:"music/btb3_main_theme.mp3"},{bytes:1088364,md5:"63e6aa814d20935429c3cc39fe75b83e",name:"music/btb3_gameplay_theme.mp3"},{bytes:72673,md5:"9a2fb4ac88d38f7a510daeb9304a06d3",name:"note.png"},{bytes:2646,md5:"2ef2b2a92a720d009ce855e30575f7f6",name:"padlockElements/backpack.png"},{bytes:16497,md5:"0ecb6485a2c3ba175fb36d87e95d1541",name:"padlockElements/lockarc.png"},{bytes:5249,md5:"22b6cf14dfdd07c821302318e3cf52b0",name:"padlockElements/lockclick0001.png"},{bytes:6310,md5:"6fe71abb758cab9435946495d0148d71",name:"padlockElements/lockclick0002.png"},{bytes:8089,md5:"849c563d4ccacde7f85cdd81bb1813c5",name:"padlockElements/lockclick0001.png.png"},{bytes:4933,md5:"e120870dcdf968e33ddda4158774a97c",name:"padlockElements/lockhole.png"},{bytes:2634,md5:"6fc681ac5b606905e54c82286d0e7cb0",name:"padlockElements/lockhole2.png"},{bytes:3326,md5:"a92eb42b6d38eeb724f96fb4dd3b8168",name:"padlockElements/lockpick.png"},{bytes:9319,md5:"0e156f41e366264613fad62892115fae",name:"padlockElements/padlockZone.png"},{bytes:9046,md5:"75f1c5f38c699bd40d2f777d03f34efa",name:"padlockElements/padlockZoneUp.png"},{bytes:44448,md5:"2ffdcdcfdf70871cc56fb25f3a82b76a",name:"padlockElements/padlockbase.png"},{bytes:4272,md5:"688c5c934eab40b22c5691630095823f",name:"rankingScreen/BtnNo.png"},{bytes:7332,md5:"4fc481968ae25c9cb2b6cc5f2074fda1",name:"rankingScreen/BtnYes.png"},{bytes:39799,md5:"43d0dbd52852f959124188491780a361",name:"rankingScreen/RankScreen.png"},{bytes:16327,md5:"d4448730aa56f3b94a38313c1e11dd4c",name:"scientistAnim/atlas0.png"},{bytes:129667,md5:"f5b1f01e3ebe75431c087d0b6d76fef0",name:"scientistAnim/library.json"},{bytes:32,md5:"758279e3cecea3ed51ad141da60a4e8f",name:"scientistAnim/md5"},{bytes:1,md5:"a2a591894f630d2714e452b5e82f09ae",name:"scientistAnim/version"},{bytes:31545,md5:"20767adadf43fa69e464799a2d4a236a",name:"savePoint/BackSP.png"},{bytes:4e3,md5:"56f5281ab252e92eaf74f1dcaa2c5743",name:"savePoint/BtnAd.png"},{bytes:7346,md5:"8def4682577a916172c98b64644a1486",name:"savePoint/BtnBattery.png"},{bytes:7629,md5:"19be52c28f9412ee3ba7f33606ba08c7",name:"savePoint/BtnBatteryGray.png"},{bytes:52237,md5:"d0147ca9d2fea9c7a7f050944cb97949",name:"screens/BackgrndBusted.png"},{bytes:5692,md5:"d7a88572c05af745ef235d403b85d9c8",name:"screens/BackgrndGadget.png"},{bytes:55834,md5:"a7f0db42802e4cb99f13fdf4f8cf1849",name:"screens/BackgrndWellDone.png"},{bytes:19089,md5:"83d48d03b9f35a77b371037a6fa70c04",name:"screens/Busted.png"},{bytes:5717,md5:"893491d37e306351d2ba8062866ccfa7",name:"screens/GadgetPlace.png"},{bytes:15284,md5:"7fd73dfa5011d1b7ae4dedf91ef9916b",name:"screens/NewGadget.png"},{bytes:24540,md5:"69a19f3c5a822b9dd1c46208dd1aab69",name:"screens/Paused.png"},{bytes:18361,md5:"85d3d014241b26464e8b35fdc6a6a0fd",name:"screens/WellDone.png"},{bytes:3350,md5:"5a045a8e771bfe5969efe8738d35921b",name:"screens/WinStar.png"},{bytes:3915,md5:"bc838ef72c7d08b8422d3e675e64be4a",name:"screens/WinStarFull.png"},{bytes:10506,md5:"ce5a3b40c95bfb1a2b711dab1184e9e4",name:"screens/hackerkit.png"},{bytes:9263,md5:"e9c7164bfede87bda521052ace93b5e3",name:"screens/lockpick.png"},{bytes:13088,md5:"6f2628a384a05c6c2de3a9ff89842d05",name:"screens/nippers.png"},{bytes:6636,md5:"a3a3b30b04f18d3b10e8cd6c96ea1d2f",name:"screens/setbox.png"},{bytes:11841,md5:"9b414a08955a272c0282eeba774854c3",name:"screens/shocker.png"},{bytes:40161,md5:"05ff2892a8cefdeabcdd6cbc9b5ea828",name:"sounds/alarm.mp3"},{bytes:5889,md5:"7fd08a40a36b6eb485e8e99ad8d43930",name:"sounds/alert1.mp3"},{bytes:11740,md5:"66d03ec3ab54c4d9366550d954984773",name:"sounds/alert2.mp3"},{bytes:19686,md5:"067949e68829c3fcffef39db3d3c6769",name:"sounds/bob_busted.mp3"},{bytes:9240,md5:"41f653f7ba119aabb7931411267d7cb8",name:"sounds/bob_footsteps.mp3"},{bytes:12588,md5:"b3bc6d2884d68b41ee240dd090c87e8b",name:"sounds/bob_level_complete.mp3"},{bytes:9667,md5:"78419fde38988bbd48c6bb1fb0d37262",name:"sounds/bob_level_complete_var.mp3"},{bytes:31812,md5:"12f7911b1866d04726a152e5638bad27",name:"sounds/bob_looks_around.mp3"},{bytes:7151,md5:"4f23adcb14571cb80cc1731cd7dfd5c6",name:"sounds/bob_punch_var.mp3"},{bytes:11745,md5:"e9becae36de95322b1cebe346ed2b9a6",name:"sounds/bob_shadow.mp3"},{bytes:10909,md5:"ee46234cb5008101bb64a8dc95a7eed5",name:"sounds/body_fall.mp3"},{bytes:142570,md5:"4241270566adfce21c1925e272cc6845",name:"sounds/boss_tv_voice1.mp3"},{bytes:7568,md5:"19688df66f9c50c0fc8caed8d02fc6cf",name:"sounds/button_click.mp3"},{bytes:20940,md5:"655382e915cab0ee625629c53e333785",name:"sounds/box_cover.mp3"},{bytes:2556,md5:"610226c03cedc13e8fe67bf09335729c",name:"sounds/code_button_push.mp3"},{bytes:7984,md5:"e8e6939ae4c3e09b706e40e9e775dc07",name:"sounds/code_error.mp3"},{bytes:38494,md5:"c708c9d1ccce9684ce9f8a569b8d934e",name:"sounds/code_open.mp3"},{bytes:4640,md5:"3ab51fac58c4811e6c9e545cd8d90cf7",name:"sounds/code_panel.mp3"},{bytes:76531,md5:"56bcea8cc379b7fe374924c8bc724120",name:"sounds/comix_final1.mp3"},{bytes:32645,md5:"2458ab89a58e9b3e3421debb37cf6846",name:"sounds/comix_final2.mp3"},{bytes:33481,md5:"c91f19cc540dbff47441a9d024d09bfd",name:"sounds/comix_final3.mp3"},{bytes:80665,md5:"8c237529c538f08d6f46721534133057",name:"sounds/comix_final4.mp3"},{bytes:51872,md5:"6eba39d0544f27c7ae85496cd299bc28",name:"sounds/comix_start1.mp3"},{bytes:46438,md5:"f88ffc11b5baad49a22c26d4f7c9c16e",name:"sounds/comix_start2.mp3"},{bytes:28468,md5:"ec313f42ba3f84e7e78df24b3aac084f",name:"sounds/comix_start2_1.mp3"},{bytes:40587,md5:"8650e62651e242f8c158b59772a91a98",name:"sounds/comix_start3.mp3"},{bytes:46020,md5:"5abdc9a3aeb3bebcff7291555ac1ae21",name:"sounds/comix_start4.mp3"},{bytes:27630,md5:"4c1f154852aaa1b12151ed015824cfb0",name:"sounds/comix_start5.mp3"},{bytes:51874,md5:"94ea609947102d9e95d30f285815d5e6",name:"sounds/comix_start5_1.mp3"},{bytes:48528,md5:"9bfee7084053b3024cc0b4c053f5f020",name:"sounds/comix_start6.mp3"},{bytes:5481,md5:"71c5be6ccce0ef13f373921103d43a27",name:"sounds/computer_cursor.mp3"},{bytes:37662,md5:"a26dd0859e8b4bdf9332aeed51dfc531",name:"sounds/computer_load.mp3"},{bytes:42,md5:"b533d47cc3eba5c75347e66cba5193ac",name:"sounds/desktop.ini"},{bytes:22612,md5:"f5f856a0dbd778179cb0653f0795370b",name:"sounds/dog_attack.mp3"},{bytes:4642,md5:"05d5fc9c9347f5438ae024e6ecb045d4",name:"sounds/dog_barking1.mp3"},{bytes:4642,md5:"5d4c473a7341c5e912ed74e3b8270537",name:"sounds/dog_barking2.mp3"},{bytes:11756,md5:"0d5b42d3b084b53575738bc9e84216ad",name:"sounds/electric_cabinet_open.mp3"},{bytes:33902,md5:"815da47f38dc6c4cca164be772cdd153",name:"sounds/electro_shocker.mp3"},{bytes:7988,md5:"1374e600fc0bc599a0e16c892e8e3bea",name:"sounds/elevator_button.mp3"},{bytes:16347,md5:"1e3c78f3793eb5837450dbe26a8d5ec3",name:"sounds/elevator_close.mp3"},{bytes:27631,md5:"6ae9b3cf216f6660ddbe7bfc30237490",name:"sounds/elevator_open.mp3"},{bytes:20528,md5:"5588d6d004b43f3a701282ab33f01589",name:"sounds/final_door_close.mp3"},{bytes:33483,md5:"6e4b20e26c4dae5b4afe468acc41c792",name:"sounds/final_door_open.mp3"},{bytes:25121,md5:"2f19bb8dd9169d0659c74cee7f32855f",name:"sounds/get_battery.mp3"},{bytes:23876,md5:"0985299cb252211309920ef3d3f9aa35",name:"sounds/hacker_toolkit_error.mp3"},{bytes:36413,md5:"8db8d6a6045be3c58fc292a0a2bedf20",name:"sounds/hacker_toolkit_win.mp3"},{bytes:41425,md5:"283939d17abc47a70cecfc3f5e688977",name:"sounds/level_complete.mp3"},{bytes:25538,md5:"6701c9b50605abde9ed7cee64c67894d",name:"sounds/lock_error.mp3"},{bytes:32228,md5:"dbdeb1d904d5bd48060c03073fb84b05",name:"sounds/lock_unlocked.mp3"},{bytes:24285,md5:"d009ab51f3433849551a825057e2d903",name:"sounds/mummy_angry.mp3"},{bytes:38497,md5:"2f0f0e811eafa4e6728efacac5dd52ec",name:"sounds/mummy_attack.mp3"},{bytes:17184,md5:"2274fb662afa20d00d25b2f052105183",name:"sounds/mummy_footsteps.mp3"},{bytes:18433,md5:"332ba91ad04a4a7708d77560bef3b945",name:"sounds/mummy_idle.mp3"},{bytes:7983,md5:"eb931722f9b186e9fab226ba310adb66",name:"sounds/mummy_run.mp3"},{bytes:34733,md5:"6164581fdc42507d2cf5dccc639a1f7e",name:"sounds/new_gadget.mp3"},{bytes:8821,md5:"2acd6e9bb6f02f69bd541d9356c46521",name:"sounds/nippers_cut.mp3"},{bytes:5060,md5:"9d96c18102b9a661bc9a06408f371592",name:"sounds/nippers_move.mp3"},{bytes:10910,md5:"104e35279f199f845a9dcf51547a732f",name:"sounds/open_paper.mp3"},{bytes:44342,md5:"c5f3f6fa531993a5a7440bd3109ff243",name:"sounds/scaner.mp3"},{bytes:20531,md5:"c59820a2aaa03cfb8847ffa4db2c7cf3",name:"sounds/security_footsteps.mp3"},{bytes:12170,md5:"6466cef2ec78142d162db7e4009040ff",name:"sounds/soldier_footsteps.mp3"},{bytes:25122,md5:"3829f771011fb3ae27bdf4c70aed9f71",name:"sounds/soldier_idle.mp3"},{bytes:27631,md5:"8d5314be460d345b52afc82c620af6b0",name:"sounds/soldier_radio.mp3"},{bytes:21771,md5:"83ad91a31106b6fefef33e09fbf617c7",name:"sounds/star1.mp3"},{bytes:21771,md5:"ea8cc945c40f7074ce562440af0f195c",name:"sounds/star2.mp3"},{bytes:20935,md5:"ef4d12c0dd39f6cb432b69eaa003aec3",name:"sounds/star3.mp3"},{bytes:3351,md5:"66e2ea1357272482f98cbb2bfdbc95d3",name:"tutorial/computerTip.png"},{bytes:4443,md5:"b81c879402cc54289cb139784b43acc2",name:"tutorial/hackKitTip.png"},{bytes:5585,md5:"73e4158d3db22de2f5ce43c4c346cbd4",name:"tutorial/lockpickTip.png"},{bytes:3961,md5:"54989c1ca69c5ec9345431cd8da1eb76",name:"tutorial/tip1.png"},{bytes:9384,md5:"7c7b53c1c53d69ace2136398ab74ba32",name:"tutorial/tip10.png"},{bytes:3977,md5:"625e96130351aec37b3cef1ae720a63b",name:"tutorial/tip2.png"},{bytes:5065,md5:"1cfc803542b84a7c3a67b7d99142bec2",name:"tutorial/tip3.png"},{bytes:14626,md5:"01ac63fce6ffd279680bcebc2078724a",name:"tutorial/tip4.png"},{bytes:4951,md5:"1734689e5be72ec6e6b3e69ea5f03cce",name:"tutorial/tip5.png"},{bytes:14237,md5:"dc82d04e2083ddd7a994c9a2b4f2c75f",name:"tutorial/tip6.png"},{bytes:8607,md5:"f95388e0f7bb028b48d91c76f4938d41",name:"tutorial/tip7.png"},{bytes:9097,md5:"1a3efc4bc55ee24e005c7807fe85477e",name:"tutorial/tip8.png"},{bytes:9308,md5:"337f99658153a81f29ff2e750b7c5ede",name:"tutorial/tip9.png"},{bytes:5217,md5:"aeac3fea889c02e67206ee498381dc09",name:"tutorial/wireTip.png"},{bytes:8240,md5:"1bf37533f8ac64f67809aae4a39cf3c1",name:"wiresPanel/BtnArrow.png"},{bytes:7922,md5:"c750cb0eadbc9d7da192a8f3010ea801",name:"wiresPanel/BtnArrow2.png"},{bytes:10142,md5:"f8338591922c0e8c86e5391a27a10494",name:"wiresPanel/BtnNippers.png"},{bytes:7896,md5:"203e6b27703e793ea12f5496e6c4a32b",name:"wiresPanel/nippersClose.png"},{bytes:7480,md5:"850ff453646cc6d4c811aab3647ae755",name:"wiresPanel/nippersOpen.png"},{bytes:1973,md5:"b9812f32304d34a9c48b48568a123806",name:"wiresPanel/wireSignalEnd0001.png"},{bytes:1780,md5:"ce3da9cd52def537e9dacb08817dd9bc",name:"wiresPanel/wireSignalEnd0002.png"},{bytes:520,md5:"2ffe414e928fe14695764be20a65dd12",name:"wiresPanel/wireblue0001.png"},{bytes:1711,md5:"64a2dc58230b1a32b7b061590487d86d",name:"wiresPanel/wireblue0002.png"},{bytes:576,md5:"24ec794c904fd7f3afe3d4653cf48aac",name:"wiresPanel/wiregreen0001.png"},{bytes:1721,md5:"20a9887dd5c66ea31ed990d1e3bce98b",name:"wiresPanel/wiregreen0002.png"},{bytes:603,md5:"b909ef3fb1cc3e6ee388e071a96ddb8a",name:"wiresPanel/wireorange0001.png"},{bytes:1698,md5:"53c6e1deb8524671eeb1a6619b6f385c",name:"wiresPanel/wireorange0002.png"},{bytes:973,md5:"36a1aa3d0ce52b617336f386b6da50db",name:"wiresPanel/wires0001.png"},{bytes:1126,md5:"b5e1fa9426f5a48665805de6c041458b",name:"wiresPanel/wires0002.png"},{bytes:988,md5:"630bb8eefd79feedb946cc65aa61c86a",name:"wiresPanel/wires0003.png"},{bytes:1019,md5:"3ece6a670ed928da95240cc0701293d9",name:"wiresPanel/wires0004.png"},{bytes:807,md5:"b80082bae216fee85b77e8f3ea072eaa",name:"wiresPanel/wires0005.png"},{bytes:734,md5:"22dea66e9f90f82abbae6d3110cf1d5d",name:"wiresPanel/wires0006.png"},{bytes:442,md5:"46500e217507d425a151f80f47c34fef",name:"wiresPanel/wires0007.png"},{bytes:512,md5:"a2498c21babd2fda747d2ae81a504481",name:"wiresPanel/wires0008.png"},{bytes:75534,md5:"59709ef8b54b50458e17610e1ca1f7bf",name:"wiresPanel/wirespanel.png"}],comics:[{bytes:12985,md5:"a46c43ecdf492e59a198028fb3a39131",name:"picture1.png"},{bytes:5600,md5:"e1ade6bfd74a933885b0ede5143c7457",name:"picture2.png"},{bytes:9890,md5:"c975a2482232f058125d77e83e9fd30d",name:"picture3.png"},{bytes:13509,md5:"95c9fef88ec516a4b1bf70721730d4b1",name:"picture4.png"},{bytes:12612,md5:"c86a3388048f7be1d8b2d7f942563f5b",name:"picture5.png"},{bytes:10811,md5:"c7e2f7f1227a8d56ee3d499e19f6cb37",name:"picture6.png"},{bytes:5892,md5:"5c8f8ac0cdc013ec1d579697b27d53dc",name:"picture7.png"},{bytes:12726,md5:"86fdeb2f15a9886e0b343b7dc1017580",name:"picture8.png"}]}]}},we._supportsCrossOrigin=!(0<=window.navigator.userAgent.indexOf("Linux; U; Android"))&&null!=(new XMLHttpRequest).withCredentials,Me._scratchPoint=new Le,Be.NEWLINE=new Te(10),st._sharedEvent=new Ge,at._sharedEvent=new Ue,ot._sharedEvent=new ze,Bt.CANVAS_TEXTURES=new d("(iPhone|iPod|iPad)","").match(window.navigator.userAgent),Et._mediaRefCount=0,Et._detectBlobSupport=!0,jt.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"],jt.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&new d("Mobile(/.*)? Safari","").match(window.navigator.userAgent),Gt._detectSupport=!0,yi.USE_CACHE=!1,yi.USE_ENUM_INDEX=!1,yi.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Si.DEFAULT_RESOLVER=z,Si.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",ki.count=0,Di.escapes=((ls=new Li).set("lt","<"),ls.set("gt",">"),ls.set("amp","&"),ls.set("quot",'"'),ls.set("apos","'"),ls.set("nbsp",String.fromCharCode(160)),ls),A.main()}();